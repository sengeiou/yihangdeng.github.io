<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="yhd">
    
    <title>
        
            SSM整合之CRUD示例 |
        
        DyhBlog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/MyLogo.svg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"yoursite.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.jpg","favicon":"/images/MyLogo.svg","article_img_align":"left","left_side_width":"230px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.jpeg"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":true},"version":"3.4.1"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.1.1"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            <a class="logo-title" href="/">
                DyhBlog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">SSM整合之CRUD示例</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">yhd</span>
                        
                            <span class="author-label">Lv4</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-09-01 17:01:10
    </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E5%BA%94%E7%94%A8%E5%B1%82%E6%A1%86%E6%9E%B6/">应用层框架</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Spring/">Spring</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/SpringMVC/">SpringMVC</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/Mybatis/">Mybatis</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/SSM/">SSM</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>18.9k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>90 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <p><strong>引言</strong>：本文基于SSM框架（Spring、SPringMVC版本5、Mybatis3）搭建，Maven作为项目构建工具，JSP页面展示，PageHelper插件实现分页，Bootstrap完成前端UI，Ajax，JSON进行REST风格的数据请求与交互。完成了一个基本的员工信息CRUD操作案例。SSM整合与前端设计各占一半内容。</p>
<h1 id="SSM案例简介"><a href="#SSM案例简介" class="headerlink" title="SSM案例简介"></a>SSM案例简介</h1><h2 id="业务功能"><a href="#业务功能" class="headerlink" title="业务功能"></a>业务功能</h2><p>以下为一个员工信息管理的WEB网站，基本业务功能涵盖了：分页 、数据校验（jquery前端校验+JSR303后端校验）、异步请求/局部更新（Ajax）、REST风格的URI</p>
<blockquote>
<p><em>CRUD</em>是指在做计算处理时的增加(Create)、检索(Retrieve)、更新(Update)和删除(Delete)</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/SSM%E6%95%B4%E5%90%88-CRUD%E9%A1%B5%E7%A0%81%E5%B1%95%E7%A4%BA01.png"
                     
                ></p>
<h2 id="技术栈"><a href="#技术栈" class="headerlink" title="技术栈"></a>技术栈</h2><h3 id="前端"><a href="#前端" class="headerlink" title="前端"></a>前端</h3><ul>
<li>jQuery、Ajax</li>
<li>前端框架-bootstrap快速搭建简洁美观的界面</li>
</ul>
<h3 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h3><ul>
<li><p>基础框架-SSM（SpringMVC+Spring+MyBatis）</p>
<blockquote>
<p>SpringMVC自带数据校验JSR303</p>
</blockquote>
</li>
<li><p>数据库-MySQL </p>
</li>
<li><p>项目的依赖管理-Maven</p>
</li>
<li><p>分页-pagehelper</p>
</li>
<li><p>逆向工程-MyBatis-Generator</p>
</li>
</ul>
<h1 id="环境与工程创建"><a href="#环境与工程创建" class="headerlink" title="环境与工程创建"></a>环境与工程创建</h1><h2 id="开发环境"><a href="#开发环境" class="headerlink" title="开发环境"></a>开发环境</h2><ul>
<li>JDK1.8</li>
<li>IDEA-2020.3.3</li>
<li>Apache-Maven-3.6.0</li>
<li>Spring、SpringMVC-5.2.16.RELEASE</li>
<li>Mybatis3</li>
<li>MySql-5.5.5</li>
<li>Bootstrap-3.4.1</li>
</ul>
<h2 id="创建Maven的WEB工程"><a href="#创建Maven的WEB工程" class="headerlink" title="创建Maven的WEB工程"></a>创建Maven的WEB工程</h2><p>当前使用IDEA为IDE开发创建maven工程，而且单模块运行，即Project项目本身就是运行项目</p>
<ol>
<li><strong>创建Maven工程并勾选创建web模块</strong></li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825123637.png"
                     
                ></p>
<ol start="2">
<li><strong>为工程项目命名</strong></li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825123839.png"
                     
                ></p>
<ol start="3">
<li><p>（可选）<strong>可选择配置使用自己的maven</strong></p>
<ul>
<li>从”<strong>Maven home path</strong>“中选择自己的maven（若没识别出，则通过路径选择自己maven的安装路径）</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825124623.png"
                     
                ></p>
<ul>
<li>配置maven的配置文件路径、仓库路径信息。最后点击<kbd>finish</kbd></li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825124821.png"
                     
                ></p>
</li>
<li><p><strong>等待完整的Maven + WEB工程目录加载完成即可</strong>（第一次创建可能需要下载许多依赖，稍等片刻）</p>
<blockquote>
<p>注意，IDEA一键生成的maven web项目的main目录下还<strong>没有java和resources目录，需手动创建</strong></p>
</blockquote>
</li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825125226.png"
                     
                ></p>
<h3 id="BUG"><a href="#BUG" class="headerlink" title="BUG"></a>BUG</h3><ul>
<li>当前版本使用IDEA直接创建的maven WEB项目，生成的web.xml头部如下</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">web-app</span> <span class="meta-keyword">PUBLIC</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">    	....</span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在整合SSM启动WEB项目时出现如下错误信息，关键是底部异常现象中”<strong>web.xml; lineNumber: 1; columnNumber: 25…</strong>“</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">org.xml.sax.SAXParseException; lineNumber: 47; columnNumber: 3; 鍏冪礌绫诲瀷 &quot;role&quot; 蹇呴』鐢卞尮閰嶇殑缁撴潫鏍囪 &quot;&lt;&#x2F;role&gt;&quot; 缁堟銆�</span><br><span class="line">......</span><br><span class="line">......</span><br><span class="line">.....</span><br><span class="line">org.apache.tomcat.util.descriptor.web.WebXmlParser.parseWebXml 瑙ｆ瀽搴旂敤web.xml閿欒锛岃矾寰勶細[file:&#x2F;D:&#x2F;ProfessionApp&#x2F;Source&#x2F;IdeaWorkSpace&#x2F;SSM-CRUD&#x2F;target&#x2F;SSM-CRUD&#x2F;WEB-INF&#x2F;web.xml]</span><br><span class="line">	org.xml.sax.SAXParseException; systemId: file:&#x2F;D:&#x2F;ProfessionApp&#x2F;Source&#x2F;IdeaWorkSpace&#x2F;SSM-CRUD&#x2F;target&#x2F;SSM-CRUD&#x2F;WEB-INF&#x2F;web.xml; lineNumber: 1; columnNumber: 25; 鍦� DOCTYPE 澹版槑涓殑鍏抽敭瀛� PUBLIC 鍚庨潰闇�瑕佹湁绌烘牸銆�</span><br></pre></td></tr></table></figure>

<ul>
<li>当修改为官方的web.xml命名空间头则解决了问题</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="配置Tomcat"><a href="#配置Tomcat" class="headerlink" title="配置Tomcat"></a>配置Tomcat</h2><ul>
<li>具体步骤省略，详情查看（）</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825125800.png"
                     
                ></p>
<h2 id="引入基础依赖"><a href="#引入基础依赖" class="headerlink" title="引入基础依赖"></a>引入基础依赖</h2><h3 id="后端依赖"><a href="#后端依赖" class="headerlink" title="后端依赖"></a>后端依赖</h3><h4 id="依赖说明"><a href="#依赖说明" class="headerlink" title="依赖说明"></a>依赖说明</h4><p>通过<a class="link"   target="_blank" rel="noopener" href="https://mvnrepository.com/" >Maven中央仓库<i class="fas fa-external-link-alt"></i></a>下载各个依赖：WEB相关、数据库相关、其他相关依赖</p>
<table>
<thead>
<tr>
<th>依赖</th>
<th>版本</th>
<th>maven名称</th>
</tr>
</thead>
<tbody><tr>
<td><strong>Servlet-api</strong>（Sping基于servlet原生库）</td>
<td>3.1.0</td>
<td>Java Servlet API<br>(javax.servlet » javax.servlet-api)</td>
</tr>
<tr>
<td><strong>SpringMVC</strong>（替代JavaWeb开发）</td>
<td>5.2.16</td>
<td>spring web mvc</td>
</tr>
<tr>
<td><strong>JSP-API</strong>（用JSP作为视图解析器）</td>
<td>2.3.3</td>
<td>JavaServer Pages(TM) API</td>
</tr>
<tr>
<td><strong>JSTL</strong>（JSP第三方标签库；即使用JSP为视图解析）</td>
<td>1.2</td>
<td>jstl（jstl &gt;&gt; jstl）</td>
</tr>
<tr>
<td><strong>Spring-JDBC</strong>（数据库操作支持；事务控制支持）</td>
<td>5.2.16</td>
<td>spring jdbc</td>
</tr>
<tr>
<td><strong>Spring-Aspects</strong>（AOP支持）</td>
<td>5.2.16</td>
<td>spring aspects</td>
</tr>
<tr>
<td><strong>Mysql</strong>（数据库连接驱动）</td>
<td>5.1.47</td>
<td>MySQL Connector/J</td>
</tr>
<tr>
<td><strong>c3p0</strong>（数据库连接池）</td>
<td>0.9.5.5</td>
<td>c3p0（com.mchange » c3p0版）</td>
</tr>
<tr>
<td><strong>Mybatis</strong>（优秀ORM框架）</td>
<td>3.5.7</td>
<td>mybatis</td>
</tr>
<tr>
<td><strong>Mybatis-Spring</strong>（适配包，整合Spring框架使用）</td>
<td>2.0.6</td>
<td>mybatis spring</td>
</tr>
<tr>
<td><strong>junit</strong>（单元测试；IDEA创建maven的web工程已导）</td>
<td>4.12</td>
<td>junit（junit&gt;&gt; junit版）</td>
</tr>
</tbody></table>
<blockquote>
<ol>
<li><p>选择依赖版本时建议选用较新且下载量高的（但不要最新，有可能出现maven导入出错）</p>
</li>
<li><p>若出现下载不到或找不到maven依赖，可尝试修改本地maven的远程镜像为阿里云镜像</p>
</li>
<li><p>若还是出现下载不到，或者找不到maven依赖，尝试进入本地maven的仓库删除该依赖后重新加载</p>
<blockquote>
<p>删除引入失败的依赖的版本的目录，或可选择删除其根目录之后尝试重新下载依赖</p>
</blockquote>
</li>
</ol>
</blockquote>
<h4 id="maven依赖"><a href="#maven依赖" class="headerlink" title="maven依赖"></a>maven依赖</h4><p><strong>注</strong>：Servlet-API与JSP依赖需添加<code>&lt;scope&gt;provided&lt;/scope&gt;</code>，由于Tomcat容器自带，设置部署时不部署该jar包。仅开发阶段使用其jar包</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-webmvc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.16.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet.jsp<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet.jsp-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.3.3<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jstl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-web<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-aspects<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.47<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1.2<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.7<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.6<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">version</span>&gt;</span>4.12<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="前端依赖"><a href="#前端依赖" class="headerlink" title="前端依赖"></a>前端依赖</h3><h4 id="Bootstrap"><a href="#Bootstrap" class="headerlink" title="Bootstrap"></a>Bootstrap</h4><ol>
<li><p>进入bootstrap中文官网：<a class="link"   target="_blank" rel="noopener" href="https://v3.bootcss.com/" >https://v3.bootcss.com/<i class="fas fa-external-link-alt"></i></a></p>
</li>
<li><p>点击下载按钮<span id="jump_bootstrapDeploy"></span> </p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825160541.png"
                      style="zoom: 67%;" /
                >
</li>
<li><p>点击下载（用于生产环境的Bootstrap）</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825160646.png"
                     
                ></p>
</li>
<li><p>解压压缩包文件，将其复制到项目中（在webapp目录下创建static目录存放）</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825163401.png"
                     
                ></p>
<blockquote>
<p>jQuery离线文件直接从下述代码的官方示例URL中下载即可——下述<a class="link"   target="_blank" rel="noopener" href="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js" >jQuery离线源码URL<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
</li>
<li><p>若使用bootstrap，只需<strong>引入</strong>bootstrap的 <strong>JavaScript、CSS 核心样式和jQuery</strong>文件即可</p>
</li>
</ol>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 最新版本的 Bootstrap 核心 CSS 文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 最新的 Bootstrap 核心 JavaScript 文件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js&quot;</span> <span class="attr">integrity</span>=<span class="string">&quot;sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd&quot;</span> <span class="attr">crossorigin</span>=<span class="string">&quot;anonymous&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="6">
<li><p>改为从项目中引用本地的bootstrap的核心依赖，并测试前端依赖情况</p>
<ul>
<li>index.jsp中引入完整bootstrap依赖</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- Bootstrap-<span class="number">3.4</span>.<span class="number">1</span>依赖 --&gt;</span><br><span class="line">        &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;static/bootstrap-3.4.1-dist/css/bootstrap.min.css&quot;</span> integrity=<span class="string">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> crossorigin=<span class="string">&quot;anonymous&quot;</span>&gt;</span><br><span class="line">        &lt;script src=&quot;static/js/jquery.min.js&quot; integrity=&quot;sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line">        &lt;script src=&quot;static/bootstrap-3.4.1-dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;!-- 测试引用bootstrap样式 --&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-success&quot;&gt;按钮&lt;/button&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li><p>测试bootstrap按钮样式效果（出现以下效果且F12-Console窗口没有任何报错即前端依赖导入成功）</p>
<blockquote>
<p>运行tomcat，启动项目访问测试首页</p>
</blockquote>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210825163741.png"
                     
                ></p>
</li>
</ol>
<h1 id="SSM整合配置文件"><a href="#SSM整合配置文件" class="headerlink" title="SSM整合配置文件"></a>SSM整合配置文件</h1><h2 id="web-xml"><a href="#web-xml" class="headerlink" title="web.xml"></a>web.xml</h2><h3 id="配置概要"><a href="#配置概要" class="headerlink" title="配置概要"></a>配置概要</h3><p>web.xml主要用于配置启动Spring的<strong>IoC容器</strong>、设置Spring、SpringMVC<strong>配置文件</strong>路径、配置SpringMVC<strong>前端控制器</strong>及其一些<strong>组件</strong>。</p>
<ul>
<li><p><strong>Spring</strong></p>
<ul>
<li><strong>设置Spring配置文件路径</strong></li>
<li><strong>启动Spring的IoC容器</strong>，且配置随着web项目的启动而启动（通过配置监听器调用加载IoC）</li>
</ul>
</li>
<li><p><strong>SpringMVC</strong></p>
<ul>
<li><p>设置SpringMVC<strong>前端控制器与配置文件路径</strong>（配置Servlet，处理所有请求）</p>
<blockquote>
<p>若不指明配置文件路径，则默认在与web.xml同级目录下存在于前端控制器的<code>servlet-name标签名-servlet</code>同名的xml文件（SpringMVC配置文件）</p>
</blockquote>
</li>
<li><p>设置SpringMVC<strong>字符编码过滤器</strong>（配置Filter，必须在所有过滤器之前配置）</p>
</li>
<li><p>（可选）配置<strong>REST风格</strong>需要的SpringMVC<strong>隐藏HTTP请求过滤器</strong>（必须配置在字符编码过滤器之后）</p>
</li>
</ul>
</li>
</ul>
<h3 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h3><ul>
<li>其中的Spring（同SpringMVC）的xml配置文件命名空间等基本信息可以通过Spring官网获取。或者在IDEA环境下在指定目录<kbd>右键</kbd>→<kbd>new</kbd>→<kbd>右键</kbd>→<kbd>New</kbd>→<kbd>XML Configuration File</kbd>→<kbd>Spring Config</kbd>直接创建</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">web-app</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;</span></span></span><br><span class="line"><span class="tag">         <span class="attr">version</span>=<span class="string">&quot;4.0&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">display-name</span>&gt;</span>Archetype Created Web Application<span class="tag">&lt;/<span class="name">display-name</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 1、配置Spring相关 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置Spring配置文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:applicationContext.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 配置Spring提供的用于加载配置文件的监听器，（默认随web启动时加载） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>org.springframework.web.context.ContextLoaderListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2、配置SpringMVC相关 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 设置前端控制器、配置文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>org.springframework.web.servlet.DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>contextConfigLocation<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>classpath:springMVC.xml<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 在web应用启动时进行前端控制器初始化 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>1<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>DispatcherServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 配置SpringMVC提供的字符编码过滤器（在所有过滤器前配置） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 设置字符集编码 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>encoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>UTF-8<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 为尽可能地兼容版本，采取显式开启请求、响应字符集编码（有些只需开启响应即全开） --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceResponseEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">init-param</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-name</span>&gt;</span>forceRequestEncoding<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>true<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">init-param</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>CharacterEncodingFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- （可选）REST风格，配置SpringMVC提供的隐藏HTTP请求过滤器 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HiddenHttpMethodFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">web-app</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li>配置web.xml过程中（配置filter时）发现web.xml报错，错误提示为:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">The content of element type “web-app” must match “(icon?,display-name?,description?,distributable?,context-param*,filter*,filter-mapping*,listener*,servlet*,servlet-mapping*,session-config?,mime-mapping*,welcome-file-list?,error-page*,taglib*,resource-env-ref*,resource-ref*,security-constraint*,login-config?,security-role*,env-entry*,ejb-ref*,ejb-local-ref*)”.</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>解决方案</strong>：删除IDEA自动生成的web.xml顶部<code>&lt;!DOCTYPE web-app PUBLIC&gt;</code>标签的两行注释，如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;-&#x2F;&#x2F;Sun Microsystems, Inc.&#x2F;&#x2F;DTD Web Application 2.3&#x2F;&#x2F;EN&quot;</span><br><span class="line">&quot;http:&#x2F;&#x2F;java.sun.com&#x2F;dtd&#x2F;web-app_2_3.dtd&quot;</span><br></pre></td></tr></table></figure>

<p>————————————————<br>版权声明：本文为CSDN博主「遇见1995」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_38500325/article/details/88321945" >https://blog.csdn.net/weixin_38500325/article/details/88321945<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<h2 id="springMVC-xml"><a href="#springMVC-xml" class="headerlink" title="springMVC.xml"></a>springMVC.xml</h2><h3 id="配置概要-1"><a href="#配置概要-1" class="headerlink" title="配置概要"></a>配置概要</h3><p>SpringMVC主要负责表示层（servlet + view），即页面处理与跳转，即为Controller。因此主要配置<strong>开启组件扫描</strong>、<strong>视图解析器</strong>以及一些常用的<strong>标准配置</strong></p>
<ul>
<li>开启SpringMVC的IoC容器<strong>组件扫描</strong>，且只扫描注解为@Controller的组件</li>
<li>配置<strong>视图解析器</strong>（即配置bean，当前使用SpringMVC内置的视图解析器）<ul>
<li>视图前缀：在<u>WEB-INF</u>下的任意目录</li>
<li>视图后缀：当前原生视图解析器配JSP页面</li>
</ul>
</li>
<li>常用<strong>标准配置</strong><ul>
<li><strong>配置默认的servlet处理器</strong>：<code>&lt;mvc:default-servlet-handler/&gt;</code><ul>
<li>开启<u>静态资源访问</u>，即将SpringMVC不能处理（无法匹配）的请求映射交还给Tomcat处理</li>
</ul>
</li>
<li><strong>开启MVC的注解驱动</strong>：<code>&lt;mvc:annotation-driven/&gt;</code><ul>
<li>使<u>视图控制器</u>所配置的页面上所有链接请求不失效</li>
<li>自动装配消息转换器，完成java对象和<u>json对象</u>的自动转换</li>
<li>支持更多高级的组件，如JSR303校验，快捷的ajax……</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="配置文件-1"><a href="#配置文件-1" class="headerlink" title="配置文件"></a>配置文件</h3><p>当前配置所涉及的xml命名空间：</p>
<ul>
<li><strong>context</strong>：组件扫描（@Controller注解全类名：org.springframework.<strong>stereotype</strong>.Controller）</li>
<li><strong>mvc</strong>：标准配置</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:mvc</span>=<span class="string">&quot;http://www.springframework.org/schema/mvc&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">            http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">            &quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1、开启注解扫描，只扫描@Controller注解组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company&quot;</span> <span class="attr">use-default-filters</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2、配置视图解析器（档期使用内置的视图解析器） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;prefix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;/WEB-INF/views/&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suffix&quot;</span> <span class="attr">value</span>=<span class="string">&quot;.jsp&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3、常用标准配置 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开启静态资源访问 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:default-servlet-handler</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开启注解驱动 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mvc:annotation-driven</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>dbconfig.properties</li>
</ul>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">jdbc.jdbcUrl</span>=<span class="string">jdbc:mysql://localhost:3306/ssm_crud</span></span><br><span class="line"><span class="meta">jdbc.driverClass</span>=<span class="string">com.mysql.jdbc.Driver</span></span><br><span class="line"><span class="meta">jdbc.user</span>=<span class="string">root</span></span><br><span class="line"><span class="meta">jdbc.password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure>

<h2 id="applicationContext-xml"><a href="#applicationContext-xml" class="headerlink" title="applicationContext.xml"></a>applicationContext.xml</h2><h3 id="配置概要-2"><a href="#配置概要-2" class="headerlink" title="配置概要"></a>配置概要</h3><p>Spring主要负责业务逻辑层和数据访问层（service + dao），如业务逻辑层组件、<strong>数据源</strong>、<strong>整合ORM层框架</strong>（Mybatis）、<strong>事务控制</strong>…</p>
<ul>
<li><p>开启Spring的IoC容器<strong>组件扫描</strong>，与SpringMVC相反，除注解为@Controller外的组件均扫描</p>
<blockquote>
<p>注意，使用exclude标签排除时，不用使用use-default-filters=”false”属性，否则失效</p>
</blockquote>
</li>
<li><p><strong>配置数据源bean</strong>（一般使用数据库连接池。此处使用c3p0数据库连接池）</p>
<ol>
<li>创建数据源配置信息的.properties文件（创建dbconfig.xml）</li>
<li>配置数据库连接池对象的bean，并引入数据源配置文件中的数据进行注入配置<ul>
<li>jdbcUrl</li>
<li>driverClass</li>
<li>user</li>
<li>password</li>
</ul>
</li>
</ol>
<blockquote>
<p>bean id无要求</p>
</blockquote>
</li>
<li><p><strong>整合Mybatis</strong></p>
<ul>
<li><p>配置Mybatis的<strong>id名为sqlSessionFactory</strong>的SqlSessionFactory对象的<strong>bean</strong></p>
<ol>
<li>注入configLocation属性，配置Mybatis<u>全局配置文件的路径</u>（创建mybatis-config.xml）</li>
</ol>
</li>
</ul>
<ol>
<li><p>注入dataSource属性，引入<u>数据源</u>对象</p>
<ol>
<li>注入mapperLocations属性，配置所有Sql <u>Mapper文件的路径</u></li>
</ol>
<blockquote>
<p>bean id 有要求，id = sqlSessionFactory</p>
</blockquote>
</li>
</ol>
<hr>
<ul>
<li><p><strong>配置Mybatis扫描器</strong>bean（MapperScannerConfigurer）将映射接口的实现自动添加到IoC容器中</p>
<ul>
<li>注入basePackage属性，指明Sql映射接口所在的包名</li>
</ul>
<blockquote>
<p>此时对于定义的Sql映射接口不用添加IoC组件注解，其实现类已经存在IoC容器</p>
<p>bean id无要求，无需bean id也行</p>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>配置事务</strong></p>
<ul>
<li><p><strong>配置事务管理器bean</strong>（需根据当前进行数据库操作的对象而选用事务管理器实现类）</p>
<blockquote>
<p>Mybatis框架和原生的JdbcTemplate同用<code>DataSourceTransactionManager</code></p>
</blockquote>
<ul>
<li><p>注入dataSource属性，引入数据源对象（此处引入数据库常量池）</p>
<blockquote>
<p>bean id<strong>有要求</strong>。若当前事务管理器的<strong>bean</strong> <strong>id</strong> 不是 “<strong>transactionManager</strong>“，则在通过AOP配置事务（通知）时需要显式设置transaction-manager属性，指明使用新的事务管理器bean id</p>
</blockquote>
</li>
</ul>
</li>
<li><p>通过<strong>AOP</strong>进行<strong>基础的事务配置</strong>（基于接口方式的AOP配置）</p>
<ul>
<li>配置<strong>通知</strong>-advice（事务）：配置需要添加事务的方法及其一些规则（需tx命名空间）</li>
<li>配置<strong>切面</strong>（配置<strong>切点</strong>——切点表达式），<u>最终与通知一起装配成切面</u>（需aop命名空间）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="配置文件-2"><a href="#配置文件-2" class="headerlink" title="配置文件"></a>配置文件</h3><p>涉及的xml命名空间</p>
<ul>
<li><strong>contex</strong>：组件扫描</li>
<li><strong>tx</strong>：配置事务（通知）</li>
<li><strong>aop</strong>：配置切面（切点和通知）</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop.xsd</span></span></span><br><span class="line"><span class="tag"><span class="string">        &quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 1、开启组件扫描、除@Controller外扫描所有组件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.company&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Controller&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2、配置数据源（此处使用c3p0数据库连接池）--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;classpath:dbconfig.properties&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;pooledDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.mchange.v2.c3p0.ComboPooledDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;jdbcUrl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.jdbcUrl&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClass&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driverClass&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;user&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.user&#125;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 3、整合Mybatis框架 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mybatis-config.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;pooledDataSource&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;mapperLocations&quot;</span> <span class="attr">value</span>=<span class="string">&quot;classpath:mapper/*.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 将Mybatis映射接口的实现自动添加到IoC容器中 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.company.crud.dao&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 4、配置事务管理器及其基本事务配置 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;pooledDataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- AOP实现事务的一些基本配置 --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 1、配置通知（事务）transaction-manager默认=&quot;transactionManager&quot;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 将切点的所有连接点（方法）都添加事务控制--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;*&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 其中get开头的方法设置为只读（调优） --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;get*&quot;</span> <span class="attr">read-only</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 2、配置切面（含切点 + 通知） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- 业务层包下；&quot;..&quot;表示含及包下的所有子包；&quot;*&quot;表示所有类；所有方法（没指定默认所有方法）--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;txPointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.company.crud.service..*(..))&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;txPointcut&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="mybatis-config-xml"><a href="#mybatis-config-xml" class="headerlink" title="mybatis-config.xml"></a>mybatis-config.xml</h2><p>严格来说Mybatis的全局配置文件已不属于SSM整合的内容，以下为常规整合后Mybatis使用的设置</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="meta-keyword">PUBLIC</span> <span class="meta-string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 开启驼峰命名自动映射功能 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUnderscoreToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 为bean包下所有bean创建别名（默认别名=类名首字母小写）--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.company.crud.bean&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">   </span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h1 id="Mybatis逆向工程"><a href="#Mybatis逆向工程" class="headerlink" title="Mybatis逆向工程"></a>Mybatis逆向工程</h1><p>使用Mybatis逆向工程的基本步骤：</p>
<ol>
<li>创建数据表</li>
<li>创建并配置Mybatis逆向工程配置文件</li>
<li>启动逆向工程生成目标文件（javaBean、sqlMapper、clientInterface）</li>
</ol>
<h2 id="数据表创建"><a href="#数据表创建" class="headerlink" title="数据表创建"></a>数据表创建</h2><ul>
<li><p><strong>根据业务功能抽取数据对象，定义相关的数据表</strong></p>
<ul>
<li><p>员工信息表（tbl_emp）</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210827161518.png"
                     
                ></p>
</li>
<li><p>部门信息表（tbl_dept）</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210827161725.png"
                     
                ></p>
</li>
</ul>
</li>
<li><p><strong>数据库</strong>（ssm_crud）<strong>结构SQL脚本</strong>（SQLyog Ultimate v10.00 Beta1导出）</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">SQLyog Ultimate v10.00 Beta1</span></span><br><span class="line"><span class="comment">MySQL - 5.5.5-10.1.8-MariaDB : Database - ssm_crud</span></span><br><span class="line"><span class="comment">*********************************************************************</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET NAMES utf8 */</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET SQL_MODE=&#x27;&#x27;*/</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */</span>;</span><br><span class="line"><span class="comment">/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#x27;NO_AUTO_VALUE_ON_ZERO&#x27; */</span>;</span><br><span class="line"><span class="comment">/*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 */</span>;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> <span class="comment">/*!32312 IF NOT EXISTS*/</span><span class="string">`ssm_crud`</span> <span class="comment">/*!40100 DEFAULT CHARACTER SET utf8 */</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">USE</span> <span class="string">`ssm_crud`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `tbl_dept` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`tbl_dept`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tbl_dept`</span> (</span><br><span class="line">  <span class="string">`dept_id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">&#x27;部门id(主键;自增)&#x27;</span>,</span><br><span class="line">  <span class="string">`dept_name`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;部门名称&#x27;</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`dept_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*Table structure for table `tbl_emp` */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">IF</span> <span class="keyword">EXISTS</span> <span class="string">`tbl_emp`</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`tbl_emp`</span> (</span><br><span class="line">  <span class="string">`emp_id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT <span class="keyword">COMMENT</span> <span class="string">&#x27;员工id（自增主键）&#x27;</span>,</span><br><span class="line">  <span class="string">`emp_name`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;员工姓名&#x27;</span>,</span><br><span class="line">  <span class="string">`gender`</span> <span class="built_in">char</span>(<span class="number">1</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;性别&#x27;</span>,</span><br><span class="line">  <span class="string">`email`</span> <span class="built_in">varchar</span>(<span class="number">255</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;邮箱&#x27;</span>,</span><br><span class="line">  <span class="string">`d_id`</span> <span class="built_in">int</span>(<span class="number">11</span>) <span class="keyword">DEFAULT</span> <span class="literal">NULL</span> <span class="keyword">COMMENT</span> <span class="string">&#x27;部门id&#x27;</span>,</span><br><span class="line">  PRIMARY <span class="keyword">KEY</span> (<span class="string">`emp_id`</span>),</span><br><span class="line">  <span class="keyword">KEY</span> <span class="string">`fk_emp_dept`</span> (<span class="string">`d_id`</span>),</span><br><span class="line">  <span class="keyword">CONSTRAINT</span> <span class="string">`fk_emp_dept`</span> <span class="keyword">FOREIGN</span> <span class="keyword">KEY</span> (<span class="string">`d_id`</span>) <span class="keyword">REFERENCES</span> <span class="string">`tbl_dept`</span> (<span class="string">`dept_id`</span>)</span><br><span class="line">) <span class="keyword">ENGINE</span>=<span class="keyword">InnoDB</span> <span class="keyword">DEFAULT</span> <span class="keyword">CHARSET</span>=utf8;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*!40101 SET SQL_MODE=@OLD_SQL_MODE */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */</span>;</span><br><span class="line"><span class="comment">/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */</span>;</span><br><span class="line"><span class="comment">/*!40111 SET SQL_NOTES=@OLD_SQL_NOTES */</span>;</span><br></pre></td></tr></table></figure>

<h2 id="引入逆向工程依赖"><a href="#引入逆向工程依赖" class="headerlink" title="引入逆向工程依赖"></a>引入逆向工程依赖</h2><p>Mybatis负责逆向工程的组件名为<em>Mybatis Generator</em>，其<u>Maven依赖</u>名为<strong>Mybatis Generator Core</strong></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="逆向工程配置文件"><a href="#逆向工程配置文件" class="headerlink" title="逆向工程配置文件"></a>逆向工程配置文件</h2><h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><ol>
<li><p>进入mybatis的官方Github，进入generator子项目中，在releases中选择一个版进入，打开对应<a class="link"   target="_blank" rel="noopener" href="http://mybatis.org/generator/whatsNew.html" >文档链接<i class="fas fa-external-link-alt"></i></a></p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210827164643.png"
                     
                ></p>
</li>
<li><p>进入官方文档后，点击”<strong>Quick Start Guide</strong>“（快速开始指南）即可看到不同生成模板的逆序工程配置文件模板超链接。找到对应模板进入超链接复制配置文件信息即可</p>
<blockquote>
<p>当前选用Target Runtime为Mybatis3类型的逆向工程生成</p>
</blockquote>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210827165212.png"
                     
                ></p>
</li>
<li><p>对应的官方逆向工程配置文件模板</p>
</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 当前逆向工程生成模板类型 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;simple&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3Simple&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 1、JDBC连接：配置数据库连接的基本信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;org.hsqldb.jdbcDriver&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;jdbc:hsqldb:mem:aname&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;root&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 2、Java模型生成器：指定javaBean生成的位置--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetPackage：目标生成的javaBean所在包 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject：目标生成的javaBean所在项目的绝对路径（由于现今WEB分模块式开发，需指明在哪个项目中生成）</span></span><br><span class="line"><span class="comment">                            targetProject的内容应与targetPackage组成生成位置的完整路径</span></span><br><span class="line"><span class="comment">                            --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;example.model&quot;</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">targetProject</span>=<span class="string">&quot;src\main\java&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 3、Sql映射生成器：指定sql映射文件生成的位置。同理需要配置生成所在包和所在项目信息 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- tips：由于sql映射文件常放在目录中存储，设置targetPackage时以目录路径设置即可（同包结构） --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;example.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src\main\resources&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 4、Java客户生成器：指定dao接口生成的位置。同理需要配置生成所在包和所在项目信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span> <span class="attr">targetPackage</span>=<span class="string">&quot;example.mapper&quot;</span> <span class="attr">targetProject</span>=<span class="string">&quot;src\main\java&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 5、配置参与逆向工程生成的数据表：配置数据表名生成对应的JavaBean名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;FooTable1&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;FooTable2&quot;</span> /&gt;</span></span><br><span class="line">        </span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>BUG</strong>：2021-08-27；Mybatis-Generator 1.4.0；IDEA-2020.3.3 亲测<strong>targetProject</strong>属性<strong>只能使用绝对路径</strong>，否则运行成功也没有逆向工程文件生成</p>
</blockquote>
<h3 id="配置逆向工程"><a href="#配置逆向工程" class="headerlink" title="配置逆向工程"></a>配置逆向工程</h3><ol>
<li>在maven项目的根部，即与pom.xml同级（不在resources目录下）创建逆向工程配置文件<strong>mbg.xml</strong></li>
<li>基于选用的生成模板的官方配置模板，配置当前项目的信息</li>
<li>当前项目更改了<code>targetRuntime=&quot;MyBatis3&quot;</code>，选用为生成带复杂条件的SQL操作的逆向工程</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">generatorConfiguration</span> <span class="meta-keyword">PUBLIC</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="meta-string">&quot;http://mybatis.org/dtd/mybatis-generator-config_1_0.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">generatorConfiguration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;dbconfig.properties&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 当前逆向工程生成模板类型：更改为豪华版模板的MyBatis3 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context</span> <span class="attr">id</span>=<span class="string">&quot;mybatis3&quot;</span> <span class="attr">targetRuntime</span>=<span class="string">&quot;MyBatis3&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- commentGenerator标签用于设置生成注释的相关配置，此时设置为关闭生成注释 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;suppressAllComments&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">commentGenerator</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 1、JDBC连接：配置数据库连接的基本信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">jdbcConnection</span> <span class="attr">driverClass</span>=<span class="string">&quot;$&#123;jdbc.driverClass&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">connectionURL</span>=<span class="string">&quot;$&#123;jdbc.jdbcUrl&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">userId</span>=<span class="string">&quot;$&#123;jdbc.user&#125;&quot;</span></span></span><br><span class="line"><span class="tag">                        <span class="attr">password</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 2、Java模型生成器：指定javaBean生成的位置--&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetPackage：目标生成的javaBean所在包 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- targetProject：目标生成的javaBean所在项目的绝对路径（由于现今WEB分模块式开发，需指明在哪个项目中生成）</span></span><br><span class="line"><span class="comment">                            targetProject的内容应与targetPackage组成生成位置的完整路径</span></span><br><span class="line"><span class="comment">                            --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &quot;.src\main\java&quot;表示：&quot;.&quot;表示在就在当前项目生成 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaModelGenerator</span> <span class="attr">targetPackage</span>=<span class="string">&quot;com.company.crud.bean&quot;</span></span></span><br><span class="line"><span class="tag">                            <span class="attr">targetProject</span>=<span class="string">&quot;D:\ProfessionApp\Source\IdeaWorkSpace\SSM-CRUD\src\main\java&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 3、Sql映射生成器：指定sql映射文件生成的位置。同理需要配置生成所在包和所在项目信息 --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- tips：由于sql映射文件常放在目录中存储，设置targetPackage时以目录路径设置即可（同包结构） --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sqlMapGenerator</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetPackage</span>=<span class="string">&quot;mapper&quot;</span></span></span><br><span class="line"><span class="tag">                         <span class="attr">targetProject</span>=<span class="string">&quot;D:\ProfessionApp\Source\IdeaWorkSpace\SSM-CRUD\src\main\resources&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 4、Java客户生成器：指定dao接口生成的位置。同理需要配置生成所在包和所在项目信息 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">javaClientGenerator</span> <span class="attr">type</span>=<span class="string">&quot;XMLMAPPER&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetPackage</span>=<span class="string">&quot;com.company.crud.dao&quot;</span></span></span><br><span class="line"><span class="tag">                             <span class="attr">targetProject</span>=<span class="string">&quot;D:\ProfessionApp\Source\IdeaWorkSpace\SSM-CRUD\src\main\java&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 5、配置参与逆向工程生成的数据表：配置数据表名生成对应的JavaBean名 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;tbl_emp&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Employee&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">table</span> <span class="attr">tableName</span>=<span class="string">&quot;tbl_dept&quot;</span> <span class="attr">domainObjectName</span>=<span class="string">&quot;Department&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">context</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">generatorConfiguration</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<ul>
<li><p><strong>BUG</strong>：2021-08-27；Mybatis-Generator 1.4.0；IDEA-2020.3.3 亲测<strong>targetProject</strong>属性使用<u>相对路径方式</u>（<code>.\src\xxx\xxx</code>）配置生成逆向工程代码可运行不报错，<strong>但没有文件生成</strong>。</p>
</li>
<li><p><strong>解决方案</strong>：targetProject属性改用绝对路径配置，IDEA直接选中<code>.\src\main\java</code>➡<kbd>右击</kbd>➡<kbd>Copy Path...</kbd>➡<kbd>Absolute Path</kbd>复制当前目录的绝对路径</p>
</li>
</ul>
<blockquote>
<p>————————————————<br>版权声明：本文为CSDN博主「一九九六年秋_」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_45682889/article/details/113656185" >https://blog.csdn.net/weixin_45682889/article/details/113656185<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
</blockquote>
<h2 id="生成逆向工程"><a href="#生成逆向工程" class="headerlink" title="生成逆向工程"></a>生成逆向工程</h2><ol>
<li><p>在Mybatis逆向工程官方文档中点击”<strong>Running Mybatis Generator</strong>“（运行Mybatis生成器）查看运行步骤</p>
</li>
<li><p>选择当前配置逆向工程方式所对应的运行方式（当前使用java代码 + 配置xml文件方式）</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210827173532.png"
                     
                ></p>
</li>
<li><p>点击”From another <strong>Java program</strong> with an XML configuration”的”<strong>Java program</strong>“复制运行逆向工程还需要的java部分的官方代码样例</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; warnings = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line"><span class="keyword">boolean</span> overwrite = <span class="keyword">true</span>;</span><br><span class="line">File configFile = <span class="keyword">new</span> File(<span class="string">&quot;generatorConfig.xml&quot;</span>);<span class="comment">//逆向工程配置文件名(默认类路径下)</span></span><br><span class="line">ConfigurationParser cp = <span class="keyword">new</span> ConfigurationParser(warnings);</span><br><span class="line">Configuration config = cp.parseConfiguration(configFile);</span><br><span class="line">DefaultShellCallback callback = <span class="keyword">new</span> DefaultShellCallback(overwrite);</span><br><span class="line">MyBatisGenerator myBatisGenerator = <span class="keyword">new</span> MyBatisGenerator(config, callback, warnings);</span><br><span class="line">myBatisGenerator.generate(<span class="keyword">null</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;Mybatis逆向工程运行完毕...&quot;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Configuration导包属于org.mybatis.generator.config.Configuration</p>
</blockquote>
</li>
<li><p>在test包下创建任意类执行上述Java代码，运行无误后检测生成逆向工程文件</p>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210828120909.png"
                     
                ></p>
</li>
</ol>
<h2 id="修正逆向工程"><a href="#修正逆向工程" class="headerlink" title="修正逆向工程"></a>修正逆向工程</h2><ul>
<li>Mybatis逆向工程虽然可以大量减低程序员的工作，但某些具体功能还需根据具体业务需求而定</li>
<li>对此需要用户根据需要在现有的逆向工程文件中修改或添加相关的代码</li>
</ul>
<h3 id="添加联合查询方法"><a href="#添加联合查询方法" class="headerlink" title="添加联合查询方法"></a>添加联合查询方法</h3><h4 id="需求场景"><a href="#需求场景" class="headerlink" title="需求场景"></a>需求场景</h4><ul>
<li>在员工查询方法中，生成的<code>selectXxxx()</code>系列方法均是基于抽取的”<strong>Base_Colum_List</strong>“的SQL片段查询</li>
<li>其中逆向工程生成的”Base_Colum_List”SQL片段<strong>只是原表格字段</strong>，只能查出部门id，d_id</li>
<li>通常情况下，查询某个员工的信息时，部门id所对应的部门名信息是常需的。因此<strong>缺少联合查询功能</strong></li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210828124406.png"
                     
                ></p>
<h4 id="Mapper-Interface"><a href="#Mapper-Interface" class="headerlink" title="Mapper Interface"></a>Mapper Interface</h4><ul>
<li>模拟现有的逆向工程<code>selelctXxxx()</code>系列方法，新增两个带部门信息查询的select系列方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">EmployeeMapper</span> </span>&#123;</span><br><span class="line">    ......</span><br><span class="line">    <span class="comment">//原有的逆向工程select系列方法</span></span><br><span class="line">    <span class="function">List&lt;Employee&gt; <span class="title">selectByExample</span><span class="params">(EmployeeExample example)</span></span>;</span><br><span class="line">    <span class="function">Employee <span class="title">selectByPrimaryKey</span><span class="params">(Integer empId)</span></span>;    </span><br><span class="line"></span><br><span class="line">    <span class="comment">//新增的两个带部门信息查询的select系列方法</span></span><br><span class="line">    <span class="function">List&lt;Employee&gt; <span class="title">selectByExampleWithDept</span><span class="params">(EmployeeExample example)</span></span>;</span><br><span class="line">    <span class="function">Employee <span class="title">selectByPrimaryKeyWithDept</span><span class="params">(Integer empId)</span></span>;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="JavaBean"><a href="#JavaBean" class="headerlink" title="JavaBean"></a>JavaBean</h4><ul>
<li>由于只在原有逆向工程基础上添加方法，因此<strong>不能破坏原有的JavaBean结构</strong></li>
<li>在逆向工程的Employee结构中<strong>新增</strong>Department属性，并增加其getter和setter方法</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    ......</span><br><span class="line">    <span class="keyword">private</span> Department department;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Department <span class="title">getDepartment</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> department;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setDepartment</span><span class="params">(Department department)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.department = department;</span><br><span class="line">    &#125;</span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="SQL-Mapper-XML"><a href="#SQL-Mapper-XML" class="headerlink" title="SQL Mapper XML"></a>SQL Mapper XML</h4><p>复制逆向工程原有的<code>selectByExample</code>的select标签中的内容，在此基础上修改成联合查询</p>
<ol>
<li><p><strong>修改查询列</strong>：不适用原有的”Base_Column_List”，而自<u>定义含部门信息的查询列SQL片段</u></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 带部门信息查询的查询列SQL片段 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;WithDept_Column_List&quot;</span>&gt;</span></span><br><span class="line">    e.emp_id,e.emp_name,e.gender,e.email,e.d_id,d.dept_id,d.dept_name</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>修改为联合查询</strong>：</p>
<ul>
<li><strong>联合查询目标sql语句</strong>：采用外连接联合查询（左外连接查询就是<u>保留左边表格信息为主</u>的连接查询）</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> </span><br><span class="line">	e.emp_id,e.emp_name,e.gender,e.email,e.d_id,d.dept_id,d.dept_name</span><br><span class="line"><span class="keyword">FROM</span></span><br><span class="line">	tbl_emp e</span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> </span><br><span class="line">	tbl_dept d</span><br><span class="line"><span class="keyword">ON</span> e.<span class="string">`d_id`</span> = d.<span class="string">`dept_id`</span></span><br></pre></td></tr></table></figure>

<ul>
<li>对应修改标签中的SQL语句为联合查询方式（主要改变from关键字后的SQL语句）</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByExampleWithDept&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;WithDeptResultMap&quot;</span>&gt;</span></span><br><span class="line">    select</span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;distinct&quot;</span>&gt;</span></span><br><span class="line">        distinct</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;WithDept_Column_List&quot;</span> /&gt;</span></span><br><span class="line">    from tbl_emp e left outer join tbl_dept d on e.`d_id` = d.`dept_id`</span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;_parameter != null&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;Example_Where_Clause&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;orderByClause != null&quot;</span>&gt;</span></span><br><span class="line">        order by $&#123;orderByClause&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>封装结果集</strong>：延用逆向工程原来封装好的resultMap基础上添加部门信息部分的结果集封装</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 带部门信息查询的结果集映射处理 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;WithDeptResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;com.company.crud.bean.Employee&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 延用逆向工程原来封装好的resultMap --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;emp_id&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;INTEGER&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empId&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;emp_name&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;VARCHAR&quot;</span> <span class="attr">property</span>=<span class="string">&quot;empName&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;CHAR&quot;</span> <span class="attr">property</span>=<span class="string">&quot;gender&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;email&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;VARCHAR&quot;</span> <span class="attr">property</span>=<span class="string">&quot;email&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;d_id&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;INTEGER&quot;</span> <span class="attr">property</span>=<span class="string">&quot;dId&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 通过内嵌封装对象方式 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;department&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;com.company.crud.bean.Department&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">id</span> <span class="attr">column</span>=<span class="string">&quot;dept_id&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptId&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">column</span>=<span class="string">&quot;dept_name&quot;</span> <span class="attr">property</span>=<span class="string">&quot;deptName&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h4 id="通过主键查找方法"><a href="#通过主键查找方法" class="headerlink" title="通过主键查找方法"></a>通过主键查找方法</h4><p>在上述新增的SQL查询标签基础上selectByPrimaryKeyWithDept方法同理进行操作即可</p>
<ol>
<li><strong>修改查询列</strong>：同修改为自定义的”<strong>WithDept_Column_List</strong>“SQL片段</li>
<li><strong>修改SQL语句</strong>：联合查询，同联合查询语句</li>
<li><strong>修改结果集封装</strong>：同修改为自定义的”<strong>WithDeptResultMap</strong>“结果集映射</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByPrimaryKeyWithDept&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;WithDeptResultMap&quot;</span>&gt;</span></span><br><span class="line">    select</span><br><span class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;WithDept_Column_List&quot;</span> /&gt;</span></span><br><span class="line">    from tbl_emp e left outer join tbl_dept d on e.`d_id` = d.`dept_id`</span><br><span class="line">    where emp_id = #&#123;empId,jdbcType=INTEGER&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="可选-配置批量操作"><a href="#可选-配置批量操作" class="headerlink" title="(可选)配置批量操作"></a>(可选)配置批量操作</h2><p>若项目中需要使用SQL批量操作提高效率，则可以通过<strong>配置批量操作的sqlSession实现</strong></p>
<ol>
<li>在Spring配置文件中配置一个支持批量操作的sqlSession对象</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- sql批量操作的sqlSession --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;sqlSessionBatch&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionTemplate&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;sqlSessionFactory&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;sqlSessionFactory&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">name</span>=<span class="string">&quot;executorType&quot;</span> <span class="attr">value</span>=<span class="string">&quot;BATCH&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在需要执行批量操作的地方，通过批量的sqlSession获取到的代理实现类对象进行SQL操作就是批量操作</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">private</span> SqlSession sqlSessionBatch; <span class="comment">//批量操作的sqlSession</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insertSelective</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="comment">//此时获取到mapper默认就是采用了批量的SQL操作</span></span><br><span class="line">    EmployeeMapper mapper = sqlSessionBatch.getMapper(EmployeeMapper.class);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++) &#123;</span><br><span class="line">        String uid = UUID.randomUUID().toString().substring(<span class="number">0</span>,<span class="number">5</span>) + i;</span><br><span class="line">        mapper.insertSelective(<span class="keyword">new</span> Employee(<span class="keyword">null</span>,uid,<span class="string">&quot;M&quot;</span>,uid + <span class="string">&quot;@qq.com&quot;</span>,<span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Spring单元测试环境"><a href="#Spring单元测试环境" class="headerlink" title="Spring单元测试环境"></a>Spring单元测试环境</h1><p>由于一般基于Spring框架开发的程序，待测试的方法所属的实例对象都在IoC容器中，为了方便从IoC容器中快速获取待测试对象，建议都使用Spring提供的单元测试<span id="jump_springTestDeploy"></span></p>
<ol>
<li><p><strong>导入spring-test单元测试依赖</strong>（maven名称：Spring TestContext Framework）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-test<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.12.RELEASE<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>建议与当前Spring系列框架版本保持一致</p>
</blockquote>
</li>
<li><p><strong>为测试类添加如下两个注解</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span> <span class="comment">//定义单元测试框架</span></span><br><span class="line"><span class="meta">@ContextConfiguration(locations = &#123;&quot;classpath:applicationContext.xml&quot;&#125;)</span> <span class="comment">//定义加载的配置文件</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>若导入spring-test jar包后<strong>不能使用@ContextConfiguration注解</strong>，则尝试删除maven依赖中的<code>&lt;scope&gt;test&lt;/scope&gt;</code>后刷新maven重试</p>
<p>同理，到导入junit4<strong>不能使用@RunWith()注解</strong>，也尝试删除junit4的maven依赖的<code>&lt;scope&gt;test&lt;/scope&gt;</code>后刷新maven重试</p>
<blockquote>
<p>————————————————<br>版权声明：本文为CSDN博主「ranqing007」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/RollJay/article/details/96754122" >https://blog.csdn.net/RollJay/article/details/96754122<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
</blockquote>
</li>
<li><p>此时测试类相当于Spring组件，在测试类中需要测试哪些对象，则<strong>使用<u>自动装配</u>获取即可</strong></p>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.crud.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.crud.dao.DepartmentMapper;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-28 17:32</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(locations = &#123;&quot;classpath:applicationContext.xml&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DepartmentMapperTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DepartmentMapper departmentMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">testBean</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//测试待测试对象是否能够顺利装配</span></span><br><span class="line">        System.out.println(departmentMapper);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>BUG</strong>：启动Spring单元测试出现的<code>java.lang.ExceptionInInitializerError...</code>异常<ul>
<li>若底部出现下述图片白框描述，示意<strong>更换更高版本的Juni即可</strong>（当前版本需更换4.12或更高）</li>
</ul>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210828172549.png"
                     
                ></p>
<blockquote>
<p>————————————————<br>版权声明：本文为CSDN博主「闪电蛙」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42893085/article/details/104385109" >https://blog.csdn.net/weixin_42893085/article/details/104385109<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<h1 id="REST约定"><a href="#REST约定" class="headerlink" title="REST约定"></a>REST约定</h1><p>当前项目采用REST风格设计交互方式，以员工信息操作示例如下</p>
<table>
<thead>
<tr>
<th>REST-URI</th>
<th>Request Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>/emp/{id}</td>
<td>GET</td>
<td>查询员工</td>
</tr>
<tr>
<td>/emp</td>
<td>POST</td>
<td>保存员工</td>
</tr>
<tr>
<td>/emp/{id}</td>
<td>PUT</td>
<td>修改员工</td>
</tr>
<tr>
<td>/emp/{id}</td>
<td>DELETE</td>
<td>删除员工</td>
</tr>
</tbody></table>
<h1 id="R-分页功能实现"><a href="#R-分页功能实现" class="headerlink" title="R-分页功能实现"></a>R-分页功能实现</h1><h2 id="功能说明"><a href="#功能说明" class="headerlink" title="功能说明"></a>功能说明</h2><ol>
<li>表格数据正常显示</li>
<li>当前分页基本信息显示</li>
<li>首页与尾页功能、及其分页条基本跳转功能</li>
<li>当前页分页条页码高亮</li>
<li>当前页为首页的”上一页”操作和当前页为尾页的”下一页”操作禁用</li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210831134347.png"
                     
                ></p>
<h2 id="引入PageHelper插件"><a href="#引入PageHelper插件" class="headerlink" title="引入PageHelper插件"></a>引入PageHelper插件</h2><ol>
<li><p>进入<a class="link"   target="_blank" rel="noopener" href="https://github.com/pagehelper/Mybatis-PageHelper" >PageHelper<i class="fas fa-external-link-alt"></i></a>的Github官网</p>
</li>
<li><p>进入<a class="link"   target="_blank" rel="noopener" href="https://github.com/pagehelper/Mybatis-PageHelper/blob/master/wikis/zh/HowToUse.md" >使用文档<i class="fas fa-external-link-alt"></i></a>（中文版）引入依赖或者jar包</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.2.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在Mybatis配置文件中配置（拦截器）PageHelper插件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<h2 id="分页主要逻辑"><a href="#分页主要逻辑" class="headerlink" title="分页主要逻辑"></a>分页主要逻辑</h2><h3 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeService employeeService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/emps&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getEmployees</span><span class="params">(<span class="meta">@RequestParam(value = &quot;pn&quot;,defaultValue = &quot;1&quot;)</span>Integer pn, Model model)</span></span>&#123;</span><br><span class="line">        <span class="comment">//使用PageHelper分页插件实现分页</span></span><br><span class="line">        <span class="comment">//当前显示页页码，每页显示的记录数</span></span><br><span class="line">        PageHelper.startPage(pn,<span class="number">5</span>);</span><br><span class="line">        List&lt;Employee&gt; employees = employeeService.getAll();</span><br><span class="line">        <span class="comment">//navigatePages：分页导航栏显示连续页码的长度（注意，传入的结果集可从PageInfo中获取）</span></span><br><span class="line">        PageInfo&lt;Employee&gt; pageInfo = <span class="keyword">new</span> PageInfo(employees,<span class="number">5</span>);</span><br><span class="line">        model.addAttribute(<span class="string">&quot;pageInfo&quot;</span>,pageInfo);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;list&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Service"><a href="#Service" class="headerlink" title="Service"></a>Service</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeService</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> EmployeeMapper employeeMapper;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Employee&gt; <span class="title">getAll</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> employeeMapper.selectByExampleWithDept(<span class="keyword">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="分页合理化"><a href="#分页合理化" class="headerlink" title="分页合理化"></a>分页合理化</h3><ul>
<li>即使前端页面对<kbd>上一页</kbd>、<kbd>下一页</kbd>的操作合法性进行了验证，但也不能完全避免非法操作</li>
<li>必须在后端接口处对非法页访问进行合理化处理才能规避问题</li>
<li>基于Mybatis-PageHelper实现分页，可以通过配置插件的<code>reasonable</code>参数，分页合理化参数，默认值为<code>false</code>。当该参数设置为 <code>true</code> 时，<code>pageNum&lt;=0</code> 时会查询第一页， <code>pageNum&gt;pages</code>（超过总数时），会查询最后一页。默认<code>false</code> 时，直接根据参数进行查询。</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;reasonable&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="Spring单元测试请求"><a href="#Spring单元测试请求" class="headerlink" title="Spring单元测试请求"></a>Spring单元测试请求</h2><p>Spring单元测试模块提供了测试请求接口的功能，为程序员提供了便利</p>
<ol>
<li>从上文”<a href="#jump_springTestDeploy">Spring单元测试环境</a>“中导入基本依赖，在测试类中同样添加两个必要的注解</li>
<li><code>@ContextConfiguration</code>注解需添加Sping<u>以及SprinngMVC的配置文件</u></li>
<li>实例化<strong>MockMvc</strong>（Mock<code>[mɒk] </code>，译为”虚拟的”）对象，发起虚拟请求测试</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.crud.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.company.crud.bean.Employee;</span><br><span class="line"><span class="keyword">import</span> com.github.pagehelper.PageInfo;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.mock.web.MockHttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.ContextConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.junit4.SpringJUnit4ClassRunner;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.context.web.WebAppConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.web.servlet.*;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.web.servlet.request.MockHttpServletRequestBuilder;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.web.servlet.request.MockMvcRequestBuilders;</span><br><span class="line"><span class="keyword">import</span> org.springframework.test.web.servlet.setup.MockMvcBuilders;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.context.WebApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-29 21:31</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@WebAppConfiguration</span></span><br><span class="line"><span class="meta">@ContextConfiguration(locations = &#123;&quot;classpath:applicationContext.xml&quot;,&quot;classpath:springMVC.xml&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">EmployeeControllerTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1、实例化MockMvc对象，进行虚拟MVC测试</span></span><br><span class="line">    <span class="keyword">private</span> MockMvc mockMvc;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//3、通过自动装配+注解，实例化SpringMVC的IoC容器对象，为实例化MockMvc的静态方法传参</span></span><br><span class="line">    <span class="comment">//由于原则上IoC容器本身不存在被IoC中获取，但借助注解@WebAppConfiguration可以装配得到</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    WebApplicationContext context;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4、由于每个使用MockMvc进行Controller的测试方法都需要初始化MockMvc对象</span></span><br><span class="line">    <span class="comment">//因此可以选择添加junit的@Before注解，使每次执行@Test的测试方法前都执行该方法</span></span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initMockMvc</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">//2、通过MockMvcBuilders的静态方法等静态调用实例化MockMvc（需传入SpringMVC的IoC容器）</span></span><br><span class="line">        mockMvc = MockMvcBuilders.webAppContextSetup(context).build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">getEmployees</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、创建用于封装发起的虚拟请求体RequestBuilder，调用请求方式方法、指定请求URL、请求参数...</span></span><br><span class="line">        MockHttpServletRequestBuilder requestBuilder</span><br><span class="line">            = MockMvcRequestBuilders.get(<span class="string">&quot;/emps&quot;</span>).param(<span class="string">&quot;pn&quot;</span>,<span class="string">&quot;6&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//1、调用MockMvc的perform()方法发球虚拟请求进行测试，返回响应结果的封装对象</span></span><br><span class="line">        ResultActions resultActions = mockMvc.perform(requestBuilder);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、调用ResultActions的andReturn()返回封装MVC结构相关的响应结果MvcResult</span></span><br><span class="line">        MvcResult mvcResult = resultActions.andReturn();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4、获取虚拟的HttpServletRequest，测试响应得到的request对象域中的值</span></span><br><span class="line">        MockHttpServletRequest request = mvcResult.getRequest();</span><br><span class="line">        PageInfo&lt;Employee&gt; pageInfo = (PageInfo&lt;Employee&gt;) request.getAttribute(<span class="string">&quot;pageInfo&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5、检测分页后的数据请情况</span></span><br><span class="line">        System.out.println(<span class="string">&quot;当前页码：&quot;</span> + pageInfo.getPageNum());</span><br><span class="line">        System.out.println(<span class="string">&quot;总页码：&quot;</span> + pageInfo.getPages());</span><br><span class="line">        System.out.println(<span class="string">&quot;总记录数：&quot;</span> + pageInfo.getTotal());</span><br><span class="line">        System.out.println(<span class="string">&quot;分页导航栏页码：&quot;</span> + Arrays.toString(pageInfo.getNavigatepageNums()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">//检测封装在pageInfo中的分页后的数据</span></span><br><span class="line">        List&lt;Employee&gt; employees = pageInfo.getList();</span><br><span class="line">        <span class="keyword">for</span> (Employee employee : employees) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;employee = &quot;</span> + employee);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="BUG-1"><a href="#BUG-1" class="headerlink" title="BUG"></a>BUG</h3><h4 id="servlet-api版本不符"><a href="#servlet-api版本不符" class="headerlink" title="servlet api版本不符"></a>servlet api版本不符</h4><ul>
<li><strong>运行环境</strong><ul>
<li>运行背景：基于SSM、PageHelper、c3p0通过Spring-test的MockMvc进行分页数据测试</li>
<li><u><strong>Spring-api版本：2.5</strong></u></li>
<li>Spring、SpringMVC版本：5.2.16</li>
<li><strong>Spring-test：5.2.12</strong></li>
<li>PageHelper版本：5.2.1</li>
<li>c3p0版本：0.9.1.2</li>
</ul>
</li>
<li><strong>异常信息</strong></li>
</ul>
<blockquote>
<p>java.lang.NoClassDefFoundError: javax/servlet/SessionCookieConfig…</p>
</blockquote>
<ul>
<li><p><strong>原因分析</strong></p>
<ul>
<li>表示找不到javax.servlet.SessionCookieConfig这个类</li>
<li>若当前spring-test为4及其以上 ，则<u>Servlet-Api版本至少为3.0以上</u>，否则导致缺少类报错</li>
</ul>
</li>
<li><p><strong>解决方案</strong>：<strong>servlet api更换为3.0或其以上版本即可</strong>（新版本servlet的maven仓库名为Java Servlet API，javax.servlet » javax.servlet-api）</p>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>javax.servlet<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>javax.servlet-api<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.1.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>provided<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="c3p0版本不符"><a href="#c3p0版本不符" class="headerlink" title="c3p0版本不符"></a>c3p0版本不符</h4><ul>
<li><p><strong>运行环境</strong></p>
<ul>
<li><p>运行背景：基于SSM、PageHelper、c3p0通过Spring-test的MockMvc进行分页数据测试</p>
</li>
<li><p>Spring-api版本：3.1.0</p>
</li>
<li><p>Spring、SpringMVC版本：5.2.16</p>
</li>
<li><p>PageHelper版本：5.2.1</p>
</li>
<li><p><strong><u>c3p0版本：0.9.1.2</u></strong></p>
</li>
</ul>
</li>
<li><p><strong>异常信息</strong></p>
</li>
</ul>
<blockquote>
<p>org.springframework.web.util.nestedservletexception: handler dispatch failed</p>
<p><strong>nested exception is java.lang.AbstractMethodError: Method com/mchange/v2/c3p0</strong></p>
</blockquote>
<ul>
<li><p><strong>原因分析</strong>：</p>
<ul>
<li><strong>c3p0版本过低</strong>，若整个项目使用的依赖版本是较新的，建议其他组件依赖也应选用较新的</li>
</ul>
</li>
<li><p><strong>解决方案</strong></p>
<ul>
<li><strong>更换为当前最新版本即可</strong>（注意新版本的c3p0的maven仓库为（com.mchange » c3p0））</li>
</ul>
</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mchange<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>c3p0<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.5.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>————————————————<br>版权声明：本文为CSDN博主「黯叶」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40780805/article/details/103624710" >https://blog.csdn.net/qq_40780805/article/details/103624710<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<h2 id="前端页面"><a href="#前端页面" class="headerlink" title="前端页面"></a>前端页面</h2><ul>
<li>首先搭建好<a href="#jump_bootstrapDeploy">bootstrap依赖环境</a></li>
<li>采用bootstrap提供的栅格系统快速搭建符合业务要求的响应式页面</li>
<li>栅格系统是将所有前端页面格式划分为n行n列（最多12列），每个单元根据屏幕大小自动适应<ul>
<li>行：.row</li>
<li>列：.col-xs-num、.col-sm-num、.col-md-num、.col-lg-num</li>
</ul>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210830165004.png"
                     
                ></p>
<h3 id="页面总结构"><a href="#页面总结构" class="headerlink" title="页面总结构"></a>页面总结构</h3><p>首先将目标页面结构划分为4行，基于Bootstrap官方的<a class="link"   target="_blank" rel="noopener" href="https://v3.bootcss.com/css/" >全局CSS样式文档<i class="fas fa-external-link-alt"></i></a>设计</p>
<ul>
<li><strong>行1</strong>：标题行，标题信息独占12列</li>
<li><strong>行2</strong>：总”新增”、”删除”按钮，总占4列，列偏移8列（偏移8 + 最终位置占4 == 向右靠齐）<ul>
<li>设置按钮样式</li>
</ul>
</li>
<li><strong>行3</strong>：显示表格数据，真个table表格独占12列</li>
<li><strong>行4</strong>：分页信息相关，靠左分页信息显示占一半（6列），靠右分页导航栏占一半（6列）</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210830162043.png"
                     
                ></p>
<ul>
<li>示例代码：页面结构总框架</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">    &lt;%</span><br><span class="line">        <span class="comment">//获取项目名称存放在page域中：&quot;/project&quot;</span></span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;APP_PATH&quot;</span>,request.getContextPath());</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Bootstrap-<span class="number">3.4</span>.<span class="number">1</span>依赖 --&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;$&#123;APP_PATH&#125;/static/bootstrap-3.4.1-dist/css/bootstrap.min.css&quot;</span> integrity=<span class="string">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> crossorigin=<span class="string">&quot;anonymous&quot;</span>&gt;</span><br><span class="line">    &lt;script src=&quot;$&#123;APP_PATH&#125;/static/js/jquery.min.js&quot; integrity=&quot;sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;$&#123;APP_PATH&#125;/static/bootstrap-3.4.1-dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 所有行必须包含在.container中 --&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;!-- 标题 --&gt;</span><br><span class="line">        &lt;div class=&quot;row&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;!-- 按钮 --&gt;</span><br><span class="line">        &lt;div class=&quot;row&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;!-- 显示表格数据 --&gt;</span><br><span class="line">        &lt;div class=&quot;row&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;!-- 显示分页信息 --&gt;</span><br><span class="line">        &lt;div class=&quot;row&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="标题行"><a href="#标题行" class="headerlink" title="标题行"></a>标题行</h3><ul>
<li>标题行，标题信息独占12列，选用<strong>中等屏幕大小</strong>的<code>.col-md-12</code>（默认靠左，采取流式布局）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 标题 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-12&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">h1</span>&gt;</span>SSM-CRUD<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="总按钮行"><a href="#总按钮行" class="headerlink" title="总按钮行"></a>总按钮行</h3><ul>
<li><strong>布局</strong>：总占4列，列偏移8列（偏移8 + 最终位置占4 == 向右靠齐）</li>
<li><strong>按钮样式</strong>：选用官方文档提供的按钮样式</li>
<li><strong>按钮大小</strong>：官方文档提供了按钮样式的4种大小，当前选用小尺寸按钮</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 按钮 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-4 col-md-offset-8&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span>&gt;</span>新增<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-danger btn-sm&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>效果</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210830180927.png"
                     
                ></p>
<h3 id="表格信息行"><a href="#表格信息行" class="headerlink" title="表格信息行"></a>表格信息行</h3><ul>
<li><strong>表格结构</strong>：使用原生<code>&lt;table&gt;</code>标签完成基本表格结构</li>
<li><strong>表格样式</strong>：在”全局CSS样式”中，”表格”一栏，选中合适的样式，为<code>&lt;table&gt;</code>标签添加样式class即可</li>
<li><strong>按钮样式</strong>：<ul>
<li><strong>基本样式</strong>：同上述的两个”总按钮”<code>btn btn-primary btn-sm</code></li>
<li><strong>组件图标</strong>：在官方文档中进入”<a class="link"   target="_blank" rel="noopener" href="https://v3.bootcss.com/components/" >组件<i class="fas fa-external-link-alt"></i></a>“一栏，挑选对应<strong>图标</strong>的class添加即可</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 显示表格数据 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 使用bootstrap提供的表格样式（基本样式 + 鼠标悬停效果） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">table</span> <span class="attr">class</span>=<span class="string">&quot;table table-hover&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>#<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>name<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>gender<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>email<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>department<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">th</span>&gt;</span>operation<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>11<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>Priscilla<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>女<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>1123@yhd.com<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span>开发部<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">td</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon-pencil&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>编辑</span><br><span class="line">                <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-danger btn-sm&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;glyphicon glyphicon glyphicon-trash&quot;</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span>删除</span><br><span class="line">                <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>页面效果</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210830191054.png"
                     
                ></p>
<h3 id="分页信息行"><a href="#分页信息行" class="headerlink" title="分页信息行"></a>分页信息行</h3><p>进入在官方文档中进入”<a class="link"   target="_blank" rel="noopener" href="https://v3.bootcss.com/components/" >组件<i class="fas fa-external-link-alt"></i></a>“一栏，选中分页</p>
<ul>
<li><strong>分页信息结构</strong>：靠左分页信息显示占一半（6列），靠右分页导航栏占一半（6列）</li>
<li><strong>分页条</strong>：<ul>
<li>基本样式：选中官方提供的“默认分页”分页样式，复制其代码即可（手动添加一个首页和未页超链接）</li>
<li>按钮禁用与激活：在分页组件中， 给<code>&lt;li&gt;</code>添加<code>.disabled</code> 不能点击、 <code>.active</code> 允许点击</li>
</ul>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 显示分页信息 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- 分页信息（各占6行，均分） --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span></span><br><span class="line">        当前记录数：xxxx</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 分页条 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">nav</span> <span class="attr">aria-label</span>=<span class="string">&quot;Page navigation&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">&quot;pagination&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 上一页 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;disabled&quot;</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Previous&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;laquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;active&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>1<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- 下一页 --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Next&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;raquo;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>未页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>页面效果</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210830192153.png"
                     
                ></p>
<h3 id="完整代码示例"><a href="#完整代码示例" class="headerlink" title="完整代码示例"></a>完整代码示例</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%</span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;APP_PATH&quot;</span>,request.getContextPath());</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Bootstrap-<span class="number">3.4</span>.<span class="number">1</span>依赖 --&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;$&#123;APP_PATH&#125;/static/bootstrap-3.4.1-dist/css/bootstrap.min.css&quot;</span> integrity=<span class="string">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> crossorigin=<span class="string">&quot;anonymous&quot;</span>&gt;</span><br><span class="line">    &lt;script src=&quot;$&#123;APP_PATH&#125;/static/js/jquery.min.js&quot; integrity=&quot;sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;$&#123;APP_PATH&#125;/static/bootstrap-3.4.1-dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 所有行必须包含在.container中 --&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;!-- 标题 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12&quot;</span>&gt;</span><br><span class="line">                &lt;h1&gt;SSM-CRUD&lt;/h1&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 按钮 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-4 col-md-offset-8&quot;</span>&gt;</span><br><span class="line">                &lt;button type=&quot;button&quot; class=&quot;btn btn-primary btn-sm&quot;&gt;新增&lt;/button&gt;</span><br><span class="line">                &lt;button type=&quot;button&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 显示表格数据 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 一个表格独占整行，<span class="number">12</span>列 --&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12&quot;</span>&gt;</span><br><span class="line">                &lt;!-- 使用bootstrap提供的表格样式（基本样式 + 鼠标悬停效果） --&gt;</span><br><span class="line">                &lt;table <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;table table-hover&quot;</span>&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                        &lt;th&gt;#&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;name&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;gender&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;email&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;department&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;operation&lt;/th&gt;</span><br><span class="line">                    &lt;/tr&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                        &lt;td&gt;11&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;Priscilla&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;女&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;1123@yhd.com&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;开发部&lt;/td&gt;</span><br><span class="line">                        &lt;td&gt;</span><br><span class="line">                            &lt;button type=<span class="string">&quot;button&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span>&gt;</span><br><span class="line">                                &lt;span class=&quot;glyphicon glyphicon-pencil&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;编辑</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                            &lt;button type=<span class="string">&quot;button&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;btn btn-danger btn-sm&quot;</span>&gt;</span><br><span class="line">                                &lt;span class=&quot;glyphicon glyphicon glyphicon-trash&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;删除</span><br><span class="line">                            &lt;/button&gt;</span><br><span class="line">                        &lt;/td&gt;</span><br><span class="line">                    &lt;/tr&gt;</span><br><span class="line">                &lt;/table&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 显示分页信息 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 分页信息（各占<span class="number">6</span>行，均分） --&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span><br><span class="line">                总记录数：xxxx</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 分页条 --&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span><br><span class="line">                &lt;nav aria-label=<span class="string">&quot;Page navigation&quot;</span>&gt;</span><br><span class="line">                    &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;pagination&quot;</span>&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;!-- 上一页 --&gt;</span><br><span class="line">                        &lt;li&gt;</span><br><span class="line">                            &lt;a href=<span class="string">&quot;#&quot;</span> aria-label=<span class="string">&quot;Previous&quot;</span>&gt;</span><br><span class="line">                                &lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;</span><br><span class="line">                            &lt;/a&gt;</span><br><span class="line">                        &lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;1&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;2&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;3&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;4&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;5&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;!-- 下一页 --&gt;</span><br><span class="line">                        &lt;li&gt;</span><br><span class="line">                            &lt;a href=<span class="string">&quot;#&quot;</span> aria-label=<span class="string">&quot;Next&quot;</span>&gt;</span><br><span class="line">                                &lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;</span><br><span class="line">                            &lt;/a&gt;</span><br><span class="line">                        &lt;/li&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;#&quot;&gt;未页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/nav&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h2 id="页面数据渲染"><a href="#页面数据渲染" class="headerlink" title="页面数据渲染"></a>页面数据渲染</h2><h3 id="后端JSP渲染页面"><a href="#后端JSP渲染页面" class="headerlink" title="后端JSP渲染页面"></a>后端JSP渲染页面</h3><p>通过传统方式以后台数据域和后台渲染页面（JSP）方式呈现动态数据</p>
<ul>
<li>引入JSTL核心标签库将后台数据呈现到页面</li>
</ul>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span>%&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li>JSP代码：注意当前代码后端还未对大于尾页的恶意请求进行过滤操作（pageHelper默认已处理&lt;1页）</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line">&lt;%--</span><br><span class="line">  Created by IntelliJ IDEA.</span><br><span class="line">  User: acer</span><br><span class="line">  Date: <span class="number">2021</span>/<span class="number">8</span>/<span class="number">29</span></span><br><span class="line">  Time: <span class="number">18</span>:<span class="number">19</span></span><br><span class="line">  To change <span class="keyword">this</span> template use File | Settings | File Templates.</span><br><span class="line">--%&gt;</span><br><span class="line">&lt;%@ page contentType=<span class="string">&quot;text/html;charset=UTF-8&quot;</span> language=<span class="string">&quot;java&quot;</span> %&gt;</span><br><span class="line">&lt;%<span class="meta">@taglib</span> uri=<span class="string">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> prefix=<span class="string">&quot;c&quot;</span>%&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;title&gt;Title&lt;/title&gt;</span><br><span class="line"></span><br><span class="line">    &lt;%</span><br><span class="line">        pageContext.setAttribute(<span class="string">&quot;APP_PATH&quot;</span>,request.getContextPath());</span><br><span class="line">    %&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- Bootstrap-<span class="number">3.4</span>.<span class="number">1</span>依赖 --&gt;</span><br><span class="line">    &lt;link rel=<span class="string">&quot;stylesheet&quot;</span> href=<span class="string">&quot;$&#123;APP_PATH&#125;/static/bootstrap-3.4.1-dist/css/bootstrap.min.css&quot;</span> integrity=<span class="string">&quot;sha384-HSMxcRTRxnN+Bdg0JdbxYKrThecOKuH5zCYotlSAcp1+c8xmyTe9GYg1l9a69psu&quot;</span> crossorigin=<span class="string">&quot;anonymous&quot;</span>&gt;</span><br><span class="line">    &lt;script src=&quot;$&#123;APP_PATH&#125;/static/js/jquery.min.js&quot; integrity=&quot;sha384-nvAa0+6Qg9clwYCGGPpDQLVpLNn0fRaROjHqs13t4Ggj3Ez50XnGQqc/r8MhnRDZ&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;$&#123;APP_PATH&#125;/static/bootstrap-3.4.1-dist/js/bootstrap.min.js&quot; integrity=&quot;sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 所有行必须包含在.container中 --&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;container&quot;</span>&gt;</span><br><span class="line">        &lt;!-- 标题 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12&quot;</span>&gt;</span><br><span class="line">                &lt;h1&gt;SSM-CRUD&lt;/h1&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 按钮 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-4 col-md-offset-8&quot;</span>&gt;</span><br><span class="line">                &lt;button type=&quot;button&quot; class=&quot;btn btn-primary btn-sm&quot;&gt;新增&lt;/button&gt;</span><br><span class="line">                &lt;button type=&quot;button&quot; class=&quot;btn btn-danger btn-sm&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 显示表格数据 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 一个表格独占整行，<span class="number">12</span>列 --&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-12&quot;</span>&gt;</span><br><span class="line">                &lt;!-- 使用bootstrap提供的表格样式（基本样式 + 鼠标悬停效果） --&gt;</span><br><span class="line">                &lt;table <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;table table-hover&quot;</span>&gt;</span><br><span class="line">                    &lt;tr&gt;</span><br><span class="line">                        &lt;th&gt;#&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;name&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;gender&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;email&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;department&lt;/th&gt;</span><br><span class="line">                        &lt;th&gt;operation&lt;/th&gt;</span><br><span class="line">                    &lt;/tr&gt;</span><br><span class="line">                    &lt;c:forEach items=<span class="string">&quot;$&#123;pageInfo.list&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;employee&quot;</span>&gt;</span><br><span class="line">                        &lt;tr&gt;</span><br><span class="line">                            &lt;td&gt;$&#123;employee.empId&#125;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;$&#123;employee.empName&#125;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;$&#123;employee.gender == &quot;M&quot; ? &quot;男&quot; : &quot;女&quot;&#125;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;$&#123;employee.email&#125;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;$&#123;employee.department.deptName&#125;&lt;/td&gt;</span><br><span class="line">                            &lt;td&gt;</span><br><span class="line">                                &lt;button type=<span class="string">&quot;button&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span>&gt;</span><br><span class="line">                                    &lt;span class=&quot;glyphicon glyphicon-pencil&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;编辑</span><br><span class="line">                                &lt;/button&gt;</span><br><span class="line">                                &lt;button type=<span class="string">&quot;button&quot;</span> <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;btn btn-danger btn-sm&quot;</span>&gt;</span><br><span class="line">                                    &lt;span class=&quot;glyphicon glyphicon glyphicon-trash&quot; aria-hidden=&quot;true&quot;&gt;&lt;/span&gt;删除</span><br><span class="line">                                &lt;/button&gt;</span><br><span class="line">                            &lt;/td&gt;</span><br><span class="line">                        &lt;/tr&gt;</span><br><span class="line">                    &lt;/c:forEach&gt;</span><br><span class="line">                &lt;/table&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 显示分页信息 --&gt;</span><br><span class="line">        &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;row&quot;</span>&gt;</span><br><span class="line">            &lt;!-- 分页信息（各占<span class="number">6</span>行，均分） --&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span><br><span class="line">                当前$&#123;pageInfo.pageNum&#125;页，共$&#123;pageInfo.pages&#125;页，总共$&#123;pageInfo.total&#125;条记录</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 分页条 --&gt;</span><br><span class="line">            &lt;div <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;col-md-6&quot;</span>&gt;</span><br><span class="line">                &lt;nav aria-label=<span class="string">&quot;Page navigation&quot;</span>&gt;</span><br><span class="line">                    &lt;ul <span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;pagination&quot;</span>&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;$&#123;APP_PATH&#125;/emps&quot;&gt;首页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                        &lt;!-- 上一页：若存在上一页则出现上一页按钮，否则隐藏 --&gt;</span><br><span class="line">                        &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;pageInfo.hasPreviousPage&#125;&quot;</span>&gt;</span><br><span class="line">                            &lt;li&gt;</span><br><span class="line">                                &lt;a href=<span class="string">&quot;$&#123;APP_PATH&#125;/emps?pn=$&#123;pageInfo.pageNum - 1&#125;&quot;</span> aria-label=<span class="string">&quot;Previous&quot;</span>&gt;</span><br><span class="line">                                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;laquo;&lt;/span&gt;</span><br><span class="line">                                &lt;/a&gt;</span><br><span class="line">                            &lt;/li&gt;</span><br><span class="line">                        &lt;/c:if&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        &lt;!-- 分页条 --&gt;</span><br><span class="line">                        &lt;c:forEach items=<span class="string">&quot;$&#123;pageInfo.navigatepageNums&#125;&quot;</span> <span class="keyword">var</span>=<span class="string">&quot;pn&quot;</span>&gt;</span><br><span class="line">                            &lt;!-- 若当前请求页，等于当前遍历页。即显示页在赋予li，<span class="class"><span class="keyword">class</span></span>=<span class="string">&quot;active&quot;</span>表示当前页激活高亮 --&gt;</span><br><span class="line">                            &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;pageInfo.pageNum == pn&#125;&quot;</span>&gt;</span><br><span class="line">                                &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;$&#123;APP_PATH&#125;/emps?pn=$&#123;pn&#125;&quot;&gt;$&#123;pn&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                            &lt;/c:if&gt;</span><br><span class="line">                            &lt;!-- 否则则一般显示 --&gt;</span><br><span class="line">                            &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;pageInfo.pageNum != pn&#125;&quot;</span>&gt;</span><br><span class="line">                                &lt;li&gt;&lt;a href=&quot;$&#123;APP_PATH&#125;/emps?pn=$&#123;pn&#125;&quot;&gt;$&#123;pn&#125;&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                            &lt;/c:if&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;/c:forEach&gt;</span><br><span class="line"></span><br><span class="line">                        &lt;!-- 下一页：若存在下一页则出现下一页按钮，否则隐藏 --&gt;</span><br><span class="line">                        &lt;c:<span class="keyword">if</span> test=<span class="string">&quot;$&#123;pageInfo.hasNextPage&#125;&quot;</span>&gt;</span><br><span class="line">                            &lt;li&gt;</span><br><span class="line">                                &lt;a href=<span class="string">&quot;$&#123;APP_PATH&#125;/emps?pn=$&#123;pageInfo.pageNum + 1&#125;&quot;</span> aria-label=<span class="string">&quot;Next&quot;</span>&gt;</span><br><span class="line">                                    &lt;span aria-hidden=&quot;true&quot;&gt;&amp;raquo;&lt;/span&gt;</span><br><span class="line">                                &lt;/a&gt;</span><br><span class="line">                            &lt;/li&gt;</span><br><span class="line">                        &lt;/c:if&gt;</span><br><span class="line">                        &lt;li&gt;&lt;a href=&quot;$&#123;APP_PATH&#125;/emps?pn=$&#123;pageInfo.pages&#125;&quot;&gt;未页&lt;/a&gt;&lt;/li&gt;</span><br><span class="line">                    &lt;/ul&gt;</span><br><span class="line">                &lt;/nav&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>

<h3 id="JSON-JS渲染页面"><a href="#JSON-JS渲染页面" class="headerlink" title="JSON-JS渲染页面"></a>JSON-JS渲染页面</h3><p>前端以AJAX发起异步请求，后端返回JSON数据，交付个终端任意解析展示（当前以浏览器JS解析展示）</p>
<h4 id="SpringMVC-JSON支持"><a href="#SpringMVC-JSON支持" class="headerlink" title="SpringMVC-JSON支持"></a>SpringMVC-JSON支持</h4><ol>
<li>使用@ResponseBody注解、开启mvc注解驱动</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">mvc:annotation-driven</span> /&gt;</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>引入第三方json解析依赖，maven名为Jackson Databind</li>
</ol>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.fasterxml.jackson.core<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jackson-databind<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="返回JSON数据"><a href="#返回JSON数据" class="headerlink" title="返回JSON数据"></a>返回JSON数据</h4><p><strong>注意</strong>：封装数据类和返回的bean数据都要带对应的getter方法，否则无法获取到数据转换为json</p>
<hr>
<ul>
<li><strong>Controller</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/emps&quot;)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Message <span class="title">getEmployeesWishJson</span><span class="params">(<span class="meta">@RequestParam(value = &quot;pn&quot;,defaultValue = &quot;1&quot;)</span>Integer pn)</span></span>&#123;</span><br><span class="line">    PageHelper.startPage(pn,<span class="number">5</span>);</span><br><span class="line">    List&lt;Employee&gt; employees = employeeService.getAll();</span><br><span class="line">    PageInfo&lt;Employee&gt; pageInfo = <span class="keyword">new</span> PageInfo(employees,<span class="number">5</span>);</span><br><span class="line">    <span class="keyword">return</span> Message.success().add(<span class="string">&quot;pageInfo&quot;</span>,pageInfo);</span><br><span class="line">    <span class="comment">//Message为自封装的带数据处理状态信息的数据包装结构</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Message.java</strong><ul>
<li>由于JSON数据交付出去，让其他终端获取后自行渲染，因此需返回终端对数据操作的结果</li>
<li>因此一般都创建一个用于封装将要返回JSON数据的结构，包含终端对数据操作的结果信息</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.company.crud.bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 带数据请求状态的json数据封装结构</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-08-30 22:52</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Message</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 操作的状态码：100，处理成功、200，处理失败</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 操作相关的信息提示</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String mes;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 用于存储返回的数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Map&lt;String, Object&gt; extend = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//私有化构造器</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Message</span><span class="params">(Integer code, String mes)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.code = code;</span><br><span class="line">        <span class="keyword">this</span>.mes = mes;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 快捷的返回成功Message对象方法（支持链式操作）</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Message <span class="title">success</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Message(<span class="number">100</span>,<span class="string">&quot;处理成功!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 快捷的返回失败Message对象方法（支持链式操作）</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Message <span class="title">fail</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Message(<span class="number">200</span>,<span class="string">&quot;处理失败!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 往Message对象中添加数据（支持链式操作）</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> key</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">add</span><span class="params">(String key, Object value)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.extend.put(key,value);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//此处省略getter及setter方法....</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>返回带操作状态的json数据结果</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210830231311.png"
                     
                ></p>
<h4 id="请求并解析JSON"><a href="#请求并解析JSON" class="headerlink" title="请求并解析JSON"></a>请求并解析JSON</h4><ul>
<li>在线平台代码，待补充</li>
</ul>
<h1 id="C-新增员工"><a href="#C-新增员工" class="headerlink" title="C-新增员工"></a>C-新增员工</h1><h2 id="功能说明-1"><a href="#功能说明-1" class="headerlink" title="功能说明"></a>功能说明</h2><ol>
<li>在上述的分页首页中点击<kbd>新增</kbd>按钮</li>
<li>弹出新增对话框</li>
<li>查询后台数据，在对话框中展示可选的部门列表</li>
<li>用户输入姓名数据时，触发ajax校验，提交数据后，后端还需进行校验</li>
<li>点击保存按钮保存新增员工数据后，对话框自动关闭，并且跳转到末页，显示最新添加的数据</li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210901105014.png"
                     
                ></p>
<h2 id="前端页面-1"><a href="#前端页面-1" class="headerlink" title="前端页面"></a>前端页面</h2><h3 id="模态框介绍"><a href="#模态框介绍" class="headerlink" title="模态框介绍"></a>模态框介绍</h3><ul>
<li><p>进入bootstrap官方文档的<a class="link"   target="_blank" rel="noopener" href="https://v3.bootcss.com/javascript/#modals" >JavaScript插件<i class="fas fa-external-link-alt"></i></a>栏目，其中提供多种现成的模态框</p>
</li>
<li><p>当点击按钮时，页面将弹出一个待状态选择的框体，可以丰富与用户的交互</p>
</li>
<li><p>除了点击默认弹出模态框外，在模态框文档的”<a class="link"   target="_blank" rel="noopener" href="https://v3.bootcss.com/javascript/#modals-usage" >用法<i class="fas fa-external-link-alt"></i></a>“一栏还提供了<strong>js调用模态框的代码</strong>（因此用户可结合点击事件在控制弹出模态框的同时获取模态框需要的数据）</p>
</li>
<li><p>除此之外，用js打开时，还可以<strong>定义各种属性</strong>（option），来控制模态框的状态、效果等等</p>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210831152020.png"
                     
                ></p>
<h3 id="模态框基本框架"><a href="#模态框基本框架" class="headerlink" title="模态框基本框架"></a>模态框基本框架</h3><p>使用官方文档的<strong>动态实例</strong>模态框代码，通过项目中的新增按钮button通过点击事件调用模态框</p>
<ul>
<li>模态框基本结构（官方源码）</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- Modal --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">id</span>=<span class="string">&quot;emp_add_modal&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;-1&quot;</span> <span class="attr">role</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">aria-labelledby</span>=<span class="string">&quot;myModalLabel&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span> <span class="attr">role</span>=<span class="string">&quot;document&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-header&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Close&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;times;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">&quot;modal-title&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myModalLabel&quot;</span>&gt;</span>Modal title<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span>&gt;</span></span><br><span class="line">        ...模态框主要内容区域</span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-footer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>Save changes<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>自定义按钮</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary btn-sm&quot;</span> <span class="attr">id</span>=<span class="string">&quot;emp_add_modal_btn&quot;</span>&gt;</span>新增<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>JavaScript绑定按钮点击事件调用模态框</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 新增员工按钮事件 --&gt;</span><br><span class="line">    $(<span class="string">&quot;#emp_add_modal_btn&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    $(<span class="string">&#x27;#emp_add_modal&#x27;</span>).modal(&#123;</span><br><span class="line">        <span class="comment">//设置属性，使模态框打开时背面不消失</span></span><br><span class="line">        backdrop:<span class="string">&quot;static&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>最终效果</strong></li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210831154331.png"
                     
                ></p>
<h3 id="模态框内容"><a href="#模态框内容" class="headerlink" title="模态框内容"></a>模态框内容</h3><ol>
<li><p><strong>表单结构</strong>：进入bootstrap的全局CSS样式，选用”<strong>表单</strong>“一项，选择”<strong>水平排列的表单</strong>“样式代码</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- class=&quot;form-group&quot;是每一个表单结构的单位 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;inputEmail3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 control-label&quot;</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-10&quot;</span>&gt;</span></span><br><span class="line">        ...不同组件区域（如下的单选按钮，下拉列表等...）</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>单选按钮</strong>：同”<strong>表单</strong>“一项，选择”<strong>内联单选</strong>“样式代码</p>
</li>
<li><p><strong>下拉列表</strong>：同”<strong>表单</strong>“一项，选择”<strong>下拉列表</strong>“样式代码</p>
</li>
</ol>
<blockquote>
<p>注意，表单中的name属性要和后端的bean属性一致，便于SpringMVC自动封装</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 新增员工信息模态框 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal fade&quot;</span> <span class="attr">id</span>=<span class="string">&quot;emp_add_modal&quot;</span> <span class="attr">tabindex</span>=<span class="string">&quot;-1&quot;</span> <span class="attr">role</span>=<span class="string">&quot;dialog&quot;</span> <span class="attr">aria-labelledby</span>=<span class="string">&quot;myModalLabel&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-dialog&quot;</span> <span class="attr">role</span>=<span class="string">&quot;document&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-content&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-header&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;close&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span> <span class="attr">aria-label</span>=<span class="string">&quot;Close&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">aria-hidden</span>=<span class="string">&quot;true&quot;</span>&gt;</span><span class="symbol">&amp;times;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">h4</span> <span class="attr">class</span>=<span class="string">&quot;modal-title&quot;</span> <span class="attr">id</span>=<span class="string">&quot;myModalLabel&quot;</span>&gt;</span>Add Employee<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!-- 模态框主要内容 --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-body&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">class</span>=<span class="string">&quot;form-horizontal&quot;</span>&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- class=&quot;form-group&quot;是每一个表单结构的单位 --&gt;</span></span><br><span class="line">                    <span class="comment">&lt;!-- 姓名 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;inputEmail3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 control-label&quot;</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-10&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;empName&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;inputEmail3&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;priscilla&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- 邮箱 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;inputPassword3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 control-label&quot;</span>&gt;</span>Email<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-10&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">name</span>=<span class="string">&quot;email&quot;</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">id</span>=<span class="string">&quot;inputPassword3&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;priscilla@blj.com&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- 性别：内敛单选按钮 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;inputPassword3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 control-label&quot;</span>&gt;</span>Gender<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-10&quot;</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;radio-inline&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;M&quot;</span> <span class="attr">checked</span>=<span class="string">&quot;checked&quot;</span>&gt;</span>男</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;radio-inline&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">name</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">value</span>=<span class="string">&quot;F&quot;</span>&gt;</span>女</span><br><span class="line">                            <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    <span class="comment">&lt;!-- 部门名：内嵌下拉框 --&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;form-group&quot;</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;inputPassword3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-2 control-label&quot;</span>&gt;</span>Department<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-sm-4&quot;</span>&gt;</span></span><br><span class="line">                            <span class="comment">&lt;!-- select标签也是表单提交的结构之一，提交只需部门id即可 --&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">select</span> <span class="attr">class</span>=<span class="string">&quot;form-control&quot;</span> <span class="attr">name</span>=<span class="string">&quot;dId&quot;</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">option</span>&gt;</span>1<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">option</span>&gt;</span>2<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">option</span>&gt;</span>3<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">option</span>&gt;</span>4<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">option</span>&gt;</span>5<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;modal-footer&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-default&quot;</span> <span class="attr">data-dismiss</span>=<span class="string">&quot;modal&quot;</span>&gt;</span>Close<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">button</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">class</span>=<span class="string">&quot;btn btn-primary&quot;</span>&gt;</span>Save<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h2 id="部门信息加载"><a href="#部门信息加载" class="headerlink" title="部门信息加载"></a>部门信息加载</h2><h3 id="后端接口"><a href="#后端接口" class="headerlink" title="后端接口"></a>后端接口</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DepartmentController</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DepartmentService departmentService;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/depts&quot;)</span></span><br><span class="line">    <span class="meta">@ResponseBody</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Message <span class="title">getDepartments</span><span class="params">()</span></span>&#123;</span><br><span class="line">        List&lt;Department&gt; departments = departmentService.getDepartments();</span><br><span class="line">        <span class="keyword">return</span> Message.success().add(<span class="string">&quot;depts&quot;</span>,departments);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="数据解析渲染"><a href="#数据解析渲染" class="headerlink" title="数据解析渲染"></a>数据解析渲染</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 新增员工按钮事件 --&gt;</span><br><span class="line">    $(<span class="string">&quot;#emp_add_modal_btn&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//加载下拉列表部门信息</span></span><br><span class="line">    build_select_dept();</span><br><span class="line">    $(<span class="string">&#x27;#emp_add_modal&#x27;</span>).modal(&#123;</span><br><span class="line">        <span class="comment">//设置属性，使模态框打开时背面不消失</span></span><br><span class="line">        backdrop:<span class="string">&quot;static&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">&lt;!-- 发起ajax请求获取后台所有部门信息，并渲染到添加员工的modal目标下拉列表中 --&gt;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">build_select_dept</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:<span class="string">&quot;$&#123;APP_PATH&#125;/depts&quot;</span>,</span><br><span class="line">        type:<span class="string">&quot;GET&quot;</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span>(<span class="params">result</span>)</span>&#123;</span><br><span class="line">            $(<span class="string">&quot;#emp_add_dept_select&quot;</span>).empty();</span><br><span class="line">            <span class="keyword">var</span> depts = result.extend.depts;</span><br><span class="line">            $.each(depts,<span class="function"><span class="keyword">function</span> (<span class="params">index,item</span>)</span>&#123;</span><br><span class="line">                $(<span class="string">&quot;#emp_add_dept_select&quot;</span>).append(</span><br><span class="line">                    $(<span class="string">&quot;&lt;option&gt;&lt;/option&gt;&quot;</span>).attr(<span class="string">&quot;value&quot;</span>,item.deptId).append(item.deptName)</span><br><span class="line">                );</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="简单信息校验"><a href="#简单信息校验" class="headerlink" title="简单信息校验"></a>简单信息校验</h2><ul>
<li>对于输入的用户名、邮箱，需要前端一级信息格式校验</li>
<li>对于用户名，需要ajax后端二级信息查重校验</li>
</ul>
<h3 id="前端校验示例"><a href="#前端校验示例" class="headerlink" title="前端校验示例"></a>前端校验示例</h3><ul>
<li>对于输入的员工姓名和邮箱前端通过正则表达式进行一次校验</li>
<li>查看jQuery文档提供了一些常用的正则表达式</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//校验前端表单提交的信息</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">validate_add_form</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//1、前端输入格式信息校验</span></span><br><span class="line">    <span class="comment">//用户名前端校验</span></span><br><span class="line">    <span class="keyword">var</span> name = $(<span class="string">&quot;#emp_add_name&quot;</span>).val();</span><br><span class="line">    <span class="comment">//分别使用了jq文档中的两条正则表达式，并用 或&quot;|&quot;关系相连</span></span><br><span class="line">    <span class="comment">// 一般用户名正则：/^[a-z0-9_-]&#123;3,16&#125;$/，中文正则：/^[\u2E80-\u9FFF]+$/ (有一定变动)</span></span><br><span class="line">    <span class="keyword">var</span> regName = <span class="regexp">/(^[a-zA-Z0-9_-]&#123;6,16&#125;$)|(^[\u2E80-\u9FFF]&#123;2,5&#125;)/</span>;</span><br><span class="line">    <span class="keyword">if</span>(!regName.test(name))&#123;</span><br><span class="line">        alert(<span class="string">&quot;用户名仅允许2-5位中文或6-16为英文和数字的组合&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//邮箱校验</span></span><br><span class="line">    <span class="keyword">var</span> email = $(<span class="string">&quot;#emp_add_email&quot;</span>).val();</span><br><span class="line">    <span class="keyword">var</span> regEmail = <span class="regexp">/^([a-z0-9_\.-]+)@([\da-z\.-]+)\.([a-z\.]&#123;2,6&#125;)$/</span>;</span><br><span class="line">    <span class="keyword">if</span>(!regEmail.test(email))&#123;</span><br><span class="line">        alert(<span class="string">&quot;邮箱格式不正确&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2、ajax后端用户名查重校验....</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="校验状态样式"><a href="#校验状态样式" class="headerlink" title="校验状态样式"></a>校验状态样式</h3><p>在bootstrap的”全局CSS样式”的，”表单” 一栏，提供了表单项”<strong>校验状态</strong>“样式，如 error、warning 和 success 状态，都定义了样式</p>
<ol>
<li><p>对于要参与校验状态效果祥式的控件或元素，在其<strong>父元素</strong>上添加 <code>.has-warning</code>、<code>.has-error</code> 或 <code>.has-success</code> 类（对应三种校验状态）</p>
</li>
<li><p>在第一步的父元素内，需要显示校验效果的子元素包含下述任意一个类即可参与校验状态显示效果</p>
<ul>
<li><code>.control-label</code>：一般用于添加在表单控件顶部，显示操作结果文字信息及参与颜色变化</li>
<li><code>.form-control</code>：一般用于添加到输入框架控件中，显示操作结果的颜色效果</li>
<li><code>.help-block</code> ：一般用于添加到控件底部，用于显示帮助信息，及参与颜色变化</li>
</ul>
</li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210831194842.png"
                     
                ></p>
<h3 id="后端校验示例"><a href="#后端校验示例" class="headerlink" title="后端校验示例"></a>后端校验示例</h3><ul>
<li><strong>Controller</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 检查用户名是否可用</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> empName</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/checkuser&quot;)</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Message <span class="title">checkuser</span><span class="params">(<span class="meta">@RequestParam(&quot;empName&quot;)</span>String empName)</span></span>&#123;</span><br><span class="line">    <span class="comment">//数据库用户名重复校验</span></span><br><span class="line">    <span class="keyword">boolean</span> b = employeeService.checkUser(empName);</span><br><span class="line">    <span class="keyword">if</span>(b)&#123;</span><br><span class="line">        <span class="keyword">return</span> Message.success();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Message.fail().add(<span class="string">&quot;va_msg&quot;</span>, <span class="string">&quot;用户名不可用&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Service</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 检验用户名是否可用</span></span><br><span class="line"><span class="comment">  * </span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> empName</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span>  true：代表当前姓名可用   fasle：不可用</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkUser</span><span class="params">(String empName)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">    EmployeeExample example = <span class="keyword">new</span> EmployeeExample();</span><br><span class="line">    Criteria criteria = example.createCriteria();</span><br><span class="line">    criteria.andEmpNameEqualTo(empName);</span><br><span class="line">    <span class="keyword">long</span> count = employeeMapper.countByExample(example);</span><br><span class="line">    <span class="keyword">return</span> count == <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="完整校验机制"><a href="#完整校验机制" class="headerlink" title="完整校验机制"></a>完整校验机制</h2><ul>
<li><strong>前端校验</strong>只能“<strong>防君子，不能防小人</strong>”，任何<strong>前端校验</strong>都<u>无法做到绝对的信息安全校验</u></li>
<li>绕过前端校验的方式众多，如用户关闭js加载，接口测试，修改页面状态等…因此必须依靠后端校验</li>
<li>因此对于<strong>重要数据</strong>的<u>完整校验机制</u>应为，<strong>前端校验 + 后端校验 + 数据库约束</strong></li>
</ul>
<blockquote>
<p>前端校验如上”简单信息校验”文所示，数据库约束在此省略，因此下面主要说明后端在最终添加数据时的校验实现</p>
</blockquote>
<h3 id="导入JSR303依赖"><a href="#导入JSR303依赖" class="headerlink" title="导入JSR303依赖"></a>导入JSR303依赖</h3><ul>
<li>JSR303是一种后端进行<strong>数据校验的标准</strong>，实际使用为其<u>标准的实现</u>，如<strong>Hibernate Validator</strong></li>
<li>Hibernate Validator的maven仓库名为<strong>Hibernate Validator Engine Relocation Artifact</strong></li>
</ul>
<blockquote>
<p>JSR303数据校验支持；tomcat7及以上的服务器， tomcat7以下的服务器：el表达式。额外给服务器的lib包中替换新的标准的el</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.hibernate<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>hibernate-validator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.2.0.Final<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="bean添加校验"><a href="#bean添加校验" class="headerlink" title="bean添加校验"></a>bean添加校验</h3><ul>
<li>找到业务逻辑保存的数据对于的JavaBean，在<strong>需要校验的属性</strong>上使用JSR303<strong>注解</strong>定义校验规则</li>
<li>可以使用<code>@PPattern</code>注解直接编写<strong>匹配的正则表达式</strong>，以及匹配失败后的<strong>提示信息</strong></li>
<li>也提供有一些现成的校验注解如<code>@Email</code>供使用</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Employee</span> </span>&#123;</span><br><span class="line">    ......</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Integer empId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pattern(</span></span><br><span class="line"><span class="meta">        regexp = &quot;(^[a-zA-Z0-9_-]&#123;6,16&#125;$)|(^[\\u2E80-\\u9FFF]&#123;2,5&#125;)&quot;,</span></span><br><span class="line"><span class="meta">        message =&quot;用户名仅允许2-5位中文或6-16为英文和数字的组合&quot;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> String empName;</span><br><span class="line">    <span class="keyword">private</span> String gender;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//@Email</span></span><br><span class="line">    <span class="meta">@Pattern(</span></span><br><span class="line"><span class="meta">        regexp = &quot;^([a-z0-9_\\.-]+)@([\\da-z\\.-]+)\\.([a-z\\.]&#123;2,6&#125;)$&quot;,</span></span><br><span class="line"><span class="meta">        message = &quot;邮箱格式不正确&quot;</span></span><br><span class="line"><span class="meta">    )</span></span><br><span class="line">    <span class="keyword">private</span> String email;</span><br><span class="line">    <span class="keyword">private</span> Integer dId;</span><br><span class="line">    </span><br><span class="line">    ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="控制器校验"><a href="#控制器校验" class="headerlink" title="控制器校验"></a>控制器校验</h3><ol>
<li>对需要进行校验的参数添加<code>@Valid</code>注解</li>
<li>从<strong>BindingResult</strong>中获取当前参数校验的结果</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/emp&quot;,method= RequestMethod.POST)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Message <span class="title">saveEmployee</span><span class="params">(<span class="meta">@Valid</span> Employee employee, BindingResult result)</span></span>&#123;</span><br><span class="line">    <span class="comment">//使用@Valid注解表明改属性需要校验，BindingResult返回校验的结果</span></span><br><span class="line">    <span class="comment">//假如存在校验错误</span></span><br><span class="line">    <span class="keyword">if</span>(result.hasErrors())&#123;</span><br><span class="line">        <span class="comment">//获取所有错误字段信息封装体</span></span><br><span class="line">        List&lt;FieldError&gt; fieldErrors = result.getFieldErrors();</span><br><span class="line">        <span class="comment">//自定义Map用于封装错误字段名和对应的错误信息，供前端校验使用</span></span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (FieldError fieldError : fieldErrors) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;错误字段：&quot;</span> + fieldError.getField());</span><br><span class="line">            System.out.print(<span class="string">&quot;错误信息：&quot;</span> + fieldError.getDefaultMessage());</span><br><span class="line">            map.put(fieldError.getField(),fieldError.getDefaultMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Message.fail().add(<span class="string">&quot;errorFields&quot;</span>,map);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        employeeService.saveEmployee(employee);</span><br><span class="line">        <span class="keyword">return</span> Message.success();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="U-修改员工"><a href="#U-修改员工" class="headerlink" title="U-修改员工"></a>U-修改员工</h1><h2 id="功能说明-2"><a href="#功能说明-2" class="headerlink" title="功能说明"></a>功能说明</h2><ol>
<li>点击<kbd>编辑</kbd>按钮，弹出用户修改的模态框</li>
<li>模态框中加载当前可改变的部门信息</li>
<li>点击更新，完成用户修改</li>
</ol>
<h2 id="前端页面-2"><a href="#前端页面-2" class="headerlink" title="前端页面"></a>前端页面</h2><ul>
<li>修改页的模态框类新增页模态框，复制新增模态框，并在此基础上进行修改</li>
<li>具体代码略：后续补充在代码托管平台上</li>
</ul>
<h2 id="部门信息加载-1"><a href="#部门信息加载-1" class="headerlink" title="部门信息加载"></a>部门信息加载</h2><ul>
<li>抽取新增员工信息时部门信息加载的js函数，共用一个函数即可，略</li>
</ul>
<h2 id="PUT请求"><a href="#PUT请求" class="headerlink" title="PUT请求"></a>PUT请求</h2><h3 id="PUT请求实现理论"><a href="#PUT请求实现理论" class="headerlink" title="PUT请求实现理论"></a>PUT请求实现理论</h3><p>实现PUT请求的两种方式（当前前端技术，仅Ajax可以直接发起PUT请求）</p>
<ol>
<li><p><strong>无法直接发起PUT请求</strong>：如表单，配合SpringMVC的<strong>HiddenHttpMethodFilter</strong>过滤器，通过POST请求方式发起，携带<code>_method=PUT</code>参数方式可以被SpringMVC识别处理（适用DELETE请求）</p>
</li>
<li><p><strong>Ajax可直接发起PUT请求</strong>：</p>
<ul>
<li>如Ajax，可以直接发起PUT方式请求，但由于Tomcat<strong>只把POST请求</strong>的参数<strong>封装</strong>到请求体中（即<code>request.getParameter();</code>能获取的数据）</li>
<li>因此直接PUT请求会使后台<strong>无法获取请求体的数据</strong></li>
<li>SpringMVC提供了解决方案，<u>配置<strong>HttpPutFormContentFilter</strong>过滤器</u>即可获取到直接发起PUT请求的请求体数据</li>
</ul>
<blockquote>
<ul>
<li><p>HttpPutFormContentFilter判断是否未PUT或PATCH请求，若是，则直接从HTTP数据流中把请求参数封装到重写了HttpServletRequest的getParameter()方法，若从父类getParameter()能获取则获取，否则从HTTP数据流封装的数据中获取</p>
</li>
<li><p>但当前版本SpringMVC-5.2.16.RELEASE，官方已经不建议使用这种方式</p>
</li>
</ul>
</blockquote>
</li>
</ol>
<h3 id="HiddenHttpMethodFilter方式"><a href="#HiddenHttpMethodFilter方式" class="headerlink" title="HiddenHttpMethodFilter方式"></a>HiddenHttpMethodFilter方式</h3><h4 id="Controller-1"><a href="#Controller-1" class="headerlink" title="Controller"></a>Controller</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	只要在URL中定义的信息也符合bean的属性名（empId），</span></span><br><span class="line"><span class="comment">	则前端通过URL传递过来的id信息，也能被SpringMVC封装进bean内</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/emp/&#123;empId&#125;&quot;,method= RequestMethod.PUT)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Message <span class="title">updateEmployeeById</span><span class="params">(Employee employee)</span></span>&#123;</span><br><span class="line">    System.out.println(employee);</span><br><span class="line">    employeeService.updateEmployeeById(employee);</span><br><span class="line">    <span class="keyword">return</span> Message.success();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Service</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 通过员工id修改员工信息</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> employee</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">updateEmployeeById</span><span class="params">(Employee employee)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//以员工主键——id，选择性更新</span></span><br><span class="line">    employeeMapper.updateByPrimaryKeySelective(employee);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="前端请求"><a href="#前端请求" class="headerlink" title="前端请求"></a>前端请求</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改员工信息按钮点击事件绑定</span></span><br><span class="line">$(<span class="string">&quot;#update_emp_btn&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//获取当前修改员工信息的员工id和当前所在页码（被暂存在了更新按钮属性中）</span></span><br><span class="line">    <span class="keyword">var</span> id = $(<span class="string">&quot;#update_emp_btn&quot;</span>).attr(<span class="string">&quot;edit-emp-id&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> pn = $(<span class="string">&quot;#update_emp_btn&quot;</span>).attr(<span class="string">&quot;edit-emp-pn&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:<span class="string">&quot;$&#123;APP_PATH&#125;/emp/&quot;</span> + id,</span><br><span class="line">        type:<span class="string">&quot;POST&quot;</span>,</span><br><span class="line">        data:$(<span class="string">&quot;#emp_update_modal form&quot;</span>).serialize() + <span class="string">&quot;&amp;_method=PUT&quot;</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span> (<span class="params">result</span>)</span>&#123;</span><br><span class="line">            alert(<span class="string">&quot;更新成功&quot;</span> + result.mes);</span><br><span class="line">            <span class="comment">//请求发起成功后，关闭模态框</span></span><br><span class="line">            $(<span class="string">&quot;#emp_update_modal&quot;</span>).modal(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">            <span class="comment">//并跳转到修改参数的页面</span></span><br><span class="line">            to_page(pn);</span><br><span class="line">        &#125;,</span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="HttpPutFormContentFilter方式"><a href="#HttpPutFormContentFilter方式" class="headerlink" title="HttpPutFormContentFilter方式"></a>HttpPutFormContentFilter方式</h3><h4 id="配置HttpPutFormContentFilter"><a href="#配置HttpPutFormContentFilter" class="headerlink" title="配置HttpPutFormContentFilter"></a>配置HttpPutFormContentFilter</h4><ul>
<li>由于HttpPutFormContentFilter是个过滤器，因此需在web.xml中配置</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 用于支持获取直接发起PUT或PATCH请求的参数的过滤器（如ajax） --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HttpPutFormContentFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>org.springframework.web.filter.HttpPutFormContentFilter<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>HttpPutFormContentFilter<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/*<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="Controller-2"><a href="#Controller-2" class="headerlink" title="Controller"></a>Controller</h4><ul>
<li>同上文”HiddenHttpMethodFilter”方式的Controller代码</li>
</ul>
<h4 id="前端请求-1"><a href="#前端请求-1" class="headerlink" title="前端请求"></a>前端请求</h4><ul>
<li>直接发起PUT请求，不用<code>_method=PUT</code>参数</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//修改员工信息按钮点击事件绑定</span></span><br><span class="line">$(<span class="string">&quot;#update_emp_btn&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> id = $(<span class="string">&quot;#update_emp_btn&quot;</span>).attr(<span class="string">&quot;edit-emp-id&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> pn = $(<span class="string">&quot;#update_emp_btn&quot;</span>).attr(<span class="string">&quot;edit-emp-pn&quot;</span>);</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:<span class="string">&quot;$&#123;APP_PATH&#125;/emp/&quot;</span> + id,</span><br><span class="line">        type:<span class="string">&quot;PUT&quot;</span>,</span><br><span class="line">        data:$(<span class="string">&quot;#emp_update_modal form&quot;</span>).serialize(),</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span> (<span class="params">result</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//请求发起成功后，关闭模态框</span></span><br><span class="line">            $(<span class="string">&quot;#emp_update_modal&quot;</span>).modal(<span class="string">&#x27;hide&#x27;</span>);</span><br><span class="line">            <span class="comment">//并跳转到修改参数的页面</span></span><br><span class="line">            to_page(pn);</span><br><span class="line">        &#125;,</span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h1 id="D-删除员工"><a href="#D-删除员工" class="headerlink" title="D-删除员工"></a>D-删除员工</h1><h2 id="功能说明-3"><a href="#功能说明-3" class="headerlink" title="功能说明"></a>功能说明</h2><ol>
<li>点击删除时有提示删除确认框</li>
<li>含单条信息删除与多条信息或全选删除</li>
</ol>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210901164007.png"
                     
                ></p>
<h2 id="单个员工删除"><a href="#单个员工删除" class="headerlink" title="单个员工删除"></a>单个员工删除</h2><h3 id="前端页面-3"><a href="#前端页面-3" class="headerlink" title="前端页面"></a>前端页面</h3><ul>
<li>类似修改员按钮操作逻辑，至此只贴出单个删除按钮点击事件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//为所有删除按钮绑定点击事件</span></span><br><span class="line">$(<span class="built_in">document</span>).on(<span class="string">&quot;click&quot;</span>,<span class="string">&quot;.del_btn&quot;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> empId = $(<span class="built_in">this</span>).attr(<span class="string">&quot;del-emp-id&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> pn = $(<span class="built_in">this</span>).attr(<span class="string">&quot;del-emp-pn&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> empName = $(<span class="built_in">this</span>).parents(<span class="string">&quot;tr&quot;</span>).find(<span class="string">&quot;td:eq(1)&quot;</span>).text();</span><br><span class="line">    <span class="keyword">if</span>(!confirm(<span class="string">&quot;确认删除【&quot;</span> + empName + <span class="string">&quot;】吗？&quot;</span>))&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    $.ajax(&#123;</span><br><span class="line">        url:<span class="string">&quot;$&#123;APP_PATH&#125;/emp/&quot;</span> + empId,</span><br><span class="line">        type:<span class="string">&quot;DELETE&quot;</span>,</span><br><span class="line">        success:<span class="function"><span class="keyword">function</span> (<span class="params">result</span>)</span>&#123;</span><br><span class="line">            to_page(pn);</span><br><span class="line">        &#125;,</span><br><span class="line">        dataType:<span class="string">&quot;json&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Controller-3"><a href="#Controller-3" class="headerlink" title="Controller"></a>Controller</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 根据员工id删除单个员工信息</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/emp/&#123;id&#125;&quot;,method= RequestMethod.DELETE)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Message <span class="title">deleteEmployeeById</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> Integer id)</span></span>&#123;</span><br><span class="line">    employeeService.deleteEmployeeById(id);</span><br><span class="line">    <span class="keyword">return</span> Message.success();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="批量员工删除"><a href="#批量员工删除" class="headerlink" title="批量员工删除"></a>批量员工删除</h2><h3 id="全选效果"><a href="#全选效果" class="headerlink" title="全选效果"></a>全选效果</h3><h4 id="效果说明"><a href="#效果说明" class="headerlink" title="效果说明"></a>效果说明</h4><ul>
<li>当勾选全选时当前页所有数据被选中</li>
<li>全选状体下，当其中一个取消勾选全选框取消勾选</li>
<li>未全选状体下，逐一勾选至当前页全被选中，则自动勾选全选</li>
</ul>
<h4 id="前端样式"><a href="#前端样式" class="headerlink" title="前端样式"></a>前端样式</h4><ul>
<li>并为表头添加一列用于全选的checkbox控件</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">th</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;checkbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;check_all&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br></pre></td></tr></table></figure>

<ul>
<li>为表格的每行数据前加上一列checkbox勾选控件</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> checkbox = $(<span class="string">&quot;&lt;td&gt;&lt;/td&gt;&quot;</span>).append(</span><br><span class="line">    $(<span class="string">&quot;&lt;input type=&#x27;checkbox&#x27; class=&#x27;check_item&#x27;&gt;&lt;/input&gt;&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<h4 id="前端逻辑"><a href="#前端逻辑" class="headerlink" title="前端逻辑"></a>前端逻辑</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 全选相关逻辑</span></span><br><span class="line"><span class="comment">  * dom原生控件属性建议使用jq的prop()获取，否则像checkbook若为定义checked属性则attr获</span></span><br><span class="line"><span class="comment">  * 取为undefined。反之，自定义属性获取则使用jq的attr()函数获取</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="comment">//全选按钮逻辑</span></span><br><span class="line">$(<span class="string">&quot;#check_all&quot;</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//这种写法能节省很多if语句判断，直接地把状态关系绑定在一起了</span></span><br><span class="line">    $(<span class="string">&quot;.check_item&quot;</span>).prop(<span class="string">&quot;checked&quot;</span>,$(<span class="built_in">this</span>).prop(<span class="string">&quot;checked&quot;</span>));</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//为所有勾选项按钮绑定点击事件</span></span><br><span class="line">$(<span class="built_in">document</span>).on(<span class="string">&quot;click&quot;</span>,<span class="string">&quot;.check_item&quot;</span>,<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> flag = $(<span class="string">&quot;.check_item:checked&quot;</span>).length == $(<span class="string">&quot;.check_item&quot;</span>).length;</span><br><span class="line">    $(<span class="string">&quot;#check_all&quot;</span>).prop(<span class="string">&quot;checked&quot;</span>,flag);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="Controller-4"><a href="#Controller-4" class="headerlink" title="Controller"></a>Controller</h3><ul>
<li>编写了一个删除单个id与多个id一体的控制器</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 根据员工单个id，或多个员工id删除员工信息</span></span><br><span class="line"><span class="comment">  * 单个id：id</span></span><br><span class="line"><span class="comment">  * 多个id：id1-id2-id3</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> ids</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="meta">@RequestMapping(value = &quot;/emp/&#123;ids&#125;&quot;,method= RequestMethod.DELETE)</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> Message <span class="title">deleteEmployeeById</span><span class="params">(<span class="meta">@PathVariable(&quot;ids&quot;)</span> String ids)</span></span>&#123;</span><br><span class="line">    <span class="comment">//批量删除</span></span><br><span class="line">    <span class="keyword">if</span>(ids.contains(<span class="string">&quot;-&quot;</span>))&#123;</span><br><span class="line">        List&lt;Integer&gt; intIds = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">        String[] strIds = ids.split(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String strId : strIds) &#123;</span><br><span class="line">            intIds.add(Integer.valueOf(strId));</span><br><span class="line">        &#125;</span><br><span class="line">        employeeService.deleteBatch(intIds);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123; <span class="comment">//单个id删除</span></span><br><span class="line">        employeeService.deleteEmployeeById(Integer.valueOf(ids));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Message.success();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Service</strong>：新增一个批量删除的service</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 批量删除员工id</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> ids</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteBatch</span><span class="params">(List&lt;Integer&gt; ids)</span> </span>&#123;</span><br><span class="line">    EmployeeExample example = <span class="keyword">new</span> EmployeeExample();</span><br><span class="line">    EmployeeExample.Criteria criteria = example.createCriteria();</span><br><span class="line">    criteria.andEmpIdIn(ids);</span><br><span class="line">    employeeMapper.deleteByExample(example);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/SSM%E6%95%B4%E5%90%88%E9%A1%B9%E7%9B%AE%E5%8E%9F%E7%90%86%E5%9B%BE01.png"
                     
                ></p>

        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：SSM整合之CRUD示例</li>
        <li>Post author：yhd</li>
        <li>Create time：2021-09-01 17:01:10</li>
        <li>
            Post link：https://keep.xpoet.cn/2021/09/01/SSM整合之CRUD示例/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/08/24/Mybatis3/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Mybatis3</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">yhd</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.1</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#SSM%E6%A1%88%E4%BE%8B%E7%AE%80%E4%BB%8B"><span class="nav-number">1.</span> <span class="nav-text">SSM案例简介</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%B8%9A%E5%8A%A1%E5%8A%9F%E8%83%BD"><span class="nav-number">1.1.</span> <span class="nav-text">业务功能</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%8A%80%E6%9C%AF%E6%A0%88"><span class="nav-number">1.2.</span> <span class="nav-text">技术栈</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF"><span class="nav-number">1.2.1.</span> <span class="nav-text">前端</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF"><span class="nav-number">1.2.2.</span> <span class="nav-text">后端</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E4%B8%8E%E5%B7%A5%E7%A8%8B%E5%88%9B%E5%BB%BA"><span class="nav-number">2.</span> <span class="nav-text">环境与工程创建</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="nav-number">2.1.</span> <span class="nav-text">开发环境</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BAMaven%E7%9A%84WEB%E5%B7%A5%E7%A8%8B"><span class="nav-number">2.2.</span> <span class="nav-text">创建Maven的WEB工程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#BUG"><span class="nav-number">2.2.1.</span> <span class="nav-text">BUG</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%85%8D%E7%BD%AETomcat"><span class="nav-number">2.3.</span> <span class="nav-text">配置Tomcat</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E5%85%A5%E5%9F%BA%E7%A1%80%E4%BE%9D%E8%B5%96"><span class="nav-number">2.4.</span> <span class="nav-text">引入基础依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF%E4%BE%9D%E8%B5%96"><span class="nav-number">2.4.1.</span> <span class="nav-text">后端依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E8%AF%B4%E6%98%8E"><span class="nav-number">2.4.1.1.</span> <span class="nav-text">依赖说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#maven%E4%BE%9D%E8%B5%96"><span class="nav-number">2.4.1.2.</span> <span class="nav-text">maven依赖</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E4%BE%9D%E8%B5%96"><span class="nav-number">2.4.2.</span> <span class="nav-text">前端依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Bootstrap"><span class="nav-number">2.4.2.1.</span> <span class="nav-text">Bootstrap</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#SSM%E6%95%B4%E5%90%88%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">3.</span> <span class="nav-text">SSM整合配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#web-xml"><span class="nav-number">3.1.</span> <span class="nav-text">web.xml</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A6%82%E8%A6%81"><span class="nav-number">3.1.1.</span> <span class="nav-text">配置概要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">3.1.2.</span> <span class="nav-text">配置文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#springMVC-xml"><span class="nav-number">3.2.</span> <span class="nav-text">springMVC.xml</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A6%82%E8%A6%81-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">配置概要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-1"><span class="nav-number">3.2.2.</span> <span class="nav-text">配置文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#applicationContext-xml"><span class="nav-number">3.3.</span> <span class="nav-text">applicationContext.xml</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%A6%82%E8%A6%81-2"><span class="nav-number">3.3.1.</span> <span class="nav-text">配置概要</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6-2"><span class="nav-number">3.3.2.</span> <span class="nav-text">配置文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#mybatis-config-xml"><span class="nav-number">3.4.</span> <span class="nav-text">mybatis-config.xml</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Mybatis%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="nav-number">4.</span> <span class="nav-text">Mybatis逆向工程</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%88%9B%E5%BB%BA"><span class="nav-number">4.1.</span> <span class="nav-text">数据表创建</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E5%85%A5%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E4%BE%9D%E8%B5%96"><span class="nav-number">4.2.</span> <span class="nav-text">引入逆向工程依赖</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="nav-number">4.3.</span> <span class="nav-text">逆向工程配置文件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3"><span class="nav-number">4.3.1.</span> <span class="nav-text">官方文档</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="nav-number">4.3.2.</span> <span class="nav-text">配置逆向工程</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%94%9F%E6%88%90%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="nav-number">4.4.</span> <span class="nav-text">生成逆向工程</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BF%AE%E6%AD%A3%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B"><span class="nav-number">4.5.</span> <span class="nav-text">修正逆向工程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E8%81%94%E5%90%88%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95"><span class="nav-number">4.5.1.</span> <span class="nav-text">添加联合查询方法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9C%80%E6%B1%82%E5%9C%BA%E6%99%AF"><span class="nav-number">4.5.1.1.</span> <span class="nav-text">需求场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mapper-Interface"><span class="nav-number">4.5.1.2.</span> <span class="nav-text">Mapper Interface</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JavaBean"><span class="nav-number">4.5.1.3.</span> <span class="nav-text">JavaBean</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#SQL-Mapper-XML"><span class="nav-number">4.5.1.4.</span> <span class="nav-text">SQL Mapper XML</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E4%B8%BB%E9%94%AE%E6%9F%A5%E6%89%BE%E6%96%B9%E6%B3%95"><span class="nav-number">4.5.1.5.</span> <span class="nav-text">通过主键查找方法</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%AF%E9%80%89-%E9%85%8D%E7%BD%AE%E6%89%B9%E9%87%8F%E6%93%8D%E4%BD%9C"><span class="nav-number">4.6.</span> <span class="nav-text">(可选)配置批量操作</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Spring%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83"><span class="nav-number">5.</span> <span class="nav-text">Spring单元测试环境</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#REST%E7%BA%A6%E5%AE%9A"><span class="nav-number">6.</span> <span class="nav-text">REST约定</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#R-%E5%88%86%E9%A1%B5%E5%8A%9F%E8%83%BD%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.</span> <span class="nav-text">R-分页功能实现</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E"><span class="nav-number">7.1.</span> <span class="nav-text">功能说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%BC%95%E5%85%A5PageHelper%E6%8F%92%E4%BB%B6"><span class="nav-number">7.2.</span> <span class="nav-text">引入PageHelper插件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E4%B8%BB%E8%A6%81%E9%80%BB%E8%BE%91"><span class="nav-number">7.3.</span> <span class="nav-text">分页主要逻辑</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Controller"><span class="nav-number">7.3.1.</span> <span class="nav-text">Controller</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Service"><span class="nav-number">7.3.2.</span> <span class="nav-text">Service</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E5%90%88%E7%90%86%E5%8C%96"><span class="nav-number">7.3.3.</span> <span class="nav-text">分页合理化</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Spring%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E8%AF%B7%E6%B1%82"><span class="nav-number">7.4.</span> <span class="nav-text">Spring单元测试请求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#BUG-1"><span class="nav-number">7.4.1.</span> <span class="nav-text">BUG</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#servlet-api%E7%89%88%E6%9C%AC%E4%B8%8D%E7%AC%A6"><span class="nav-number">7.4.1.1.</span> <span class="nav-text">servlet api版本不符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#c3p0%E7%89%88%E6%9C%AC%E4%B8%8D%E7%AC%A6"><span class="nav-number">7.4.1.2.</span> <span class="nav-text">c3p0版本不符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2"><span class="nav-number">7.5.</span> <span class="nav-text">前端页面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E6%80%BB%E7%BB%93%E6%9E%84"><span class="nav-number">7.5.1.</span> <span class="nav-text">页面总结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%87%E9%A2%98%E8%A1%8C"><span class="nav-number">7.5.2.</span> <span class="nav-text">标题行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%80%BB%E6%8C%89%E9%92%AE%E8%A1%8C"><span class="nav-number">7.5.3.</span> <span class="nav-text">总按钮行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E6%A0%BC%E4%BF%A1%E6%81%AF%E8%A1%8C"><span class="nav-number">7.5.4.</span> <span class="nav-text">表格信息行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%86%E9%A1%B5%E4%BF%A1%E6%81%AF%E8%A1%8C"><span class="nav-number">7.5.5.</span> <span class="nav-text">分页信息行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E7%A4%BA%E4%BE%8B"><span class="nav-number">7.5.6.</span> <span class="nav-text">完整代码示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E6%B8%B2%E6%9F%93"><span class="nav-number">7.6.</span> <span class="nav-text">页面数据渲染</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E7%AB%AFJSP%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2"><span class="nav-number">7.6.1.</span> <span class="nav-text">后端JSP渲染页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#JSON-JS%E6%B8%B2%E6%9F%93%E9%A1%B5%E9%9D%A2"><span class="nav-number">7.6.2.</span> <span class="nav-text">JSON-JS渲染页面</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#SpringMVC-JSON%E6%94%AF%E6%8C%81"><span class="nav-number">7.6.2.1.</span> <span class="nav-text">SpringMVC-JSON支持</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BF%94%E5%9B%9EJSON%E6%95%B0%E6%8D%AE"><span class="nav-number">7.6.2.2.</span> <span class="nav-text">返回JSON数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%B9%B6%E8%A7%A3%E6%9E%90JSON"><span class="nav-number">7.6.2.3.</span> <span class="nav-text">请求并解析JSON</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#C-%E6%96%B0%E5%A2%9E%E5%91%98%E5%B7%A5"><span class="nav-number">8.</span> <span class="nav-text">C-新增员工</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E-1"><span class="nav-number">8.1.</span> <span class="nav-text">功能说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2-1"><span class="nav-number">8.2.</span> <span class="nav-text">前端页面</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E6%80%81%E6%A1%86%E4%BB%8B%E7%BB%8D"><span class="nav-number">8.2.1.</span> <span class="nav-text">模态框介绍</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E6%80%81%E6%A1%86%E5%9F%BA%E6%9C%AC%E6%A1%86%E6%9E%B6"><span class="nav-number">8.2.2.</span> <span class="nav-text">模态框基本框架</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E6%80%81%E6%A1%86%E5%86%85%E5%AE%B9"><span class="nav-number">8.2.3.</span> <span class="nav-text">模态框内容</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%A8%E9%97%A8%E4%BF%A1%E6%81%AF%E5%8A%A0%E8%BD%BD"><span class="nav-number">8.3.</span> <span class="nav-text">部门信息加载</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3"><span class="nav-number">8.3.1.</span> <span class="nav-text">后端接口</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%E6%B8%B2%E6%9F%93"><span class="nav-number">8.3.2.</span> <span class="nav-text">数据解析渲染</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%AE%80%E5%8D%95%E4%BF%A1%E6%81%AF%E6%A0%A1%E9%AA%8C"><span class="nav-number">8.4.</span> <span class="nav-text">简单信息校验</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E6%A0%A1%E9%AA%8C%E7%A4%BA%E4%BE%8B"><span class="nav-number">8.4.1.</span> <span class="nav-text">前端校验示例</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%A1%E9%AA%8C%E7%8A%B6%E6%80%81%E6%A0%B7%E5%BC%8F"><span class="nav-number">8.4.2.</span> <span class="nav-text">校验状态样式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E7%AB%AF%E6%A0%A1%E9%AA%8C%E7%A4%BA%E4%BE%8B"><span class="nav-number">8.4.3.</span> <span class="nav-text">后端校验示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%8C%E6%95%B4%E6%A0%A1%E9%AA%8C%E6%9C%BA%E5%88%B6"><span class="nav-number">8.5.</span> <span class="nav-text">完整校验机制</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5JSR303%E4%BE%9D%E8%B5%96"><span class="nav-number">8.5.1.</span> <span class="nav-text">导入JSR303依赖</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bean%E6%B7%BB%E5%8A%A0%E6%A0%A1%E9%AA%8C"><span class="nav-number">8.5.2.</span> <span class="nav-text">bean添加校验</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E6%A0%A1%E9%AA%8C"><span class="nav-number">8.5.3.</span> <span class="nav-text">控制器校验</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#U-%E4%BF%AE%E6%94%B9%E5%91%98%E5%B7%A5"><span class="nav-number">9.</span> <span class="nav-text">U-修改员工</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E-2"><span class="nav-number">9.1.</span> <span class="nav-text">功能说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2-2"><span class="nav-number">9.2.</span> <span class="nav-text">前端页面</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%83%A8%E9%97%A8%E4%BF%A1%E6%81%AF%E5%8A%A0%E8%BD%BD-1"><span class="nav-number">9.3.</span> <span class="nav-text">部门信息加载</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#PUT%E8%AF%B7%E6%B1%82"><span class="nav-number">9.4.</span> <span class="nav-text">PUT请求</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#PUT%E8%AF%B7%E6%B1%82%E5%AE%9E%E7%8E%B0%E7%90%86%E8%AE%BA"><span class="nav-number">9.4.1.</span> <span class="nav-text">PUT请求实现理论</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HiddenHttpMethodFilter%E6%96%B9%E5%BC%8F"><span class="nav-number">9.4.2.</span> <span class="nav-text">HiddenHttpMethodFilter方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Controller-1"><span class="nav-number">9.4.2.1.</span> <span class="nav-text">Controller</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82"><span class="nav-number">9.4.2.2.</span> <span class="nav-text">前端请求</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HttpPutFormContentFilter%E6%96%B9%E5%BC%8F"><span class="nav-number">9.4.3.</span> <span class="nav-text">HttpPutFormContentFilter方式</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%85%8D%E7%BD%AEHttpPutFormContentFilter"><span class="nav-number">9.4.3.1.</span> <span class="nav-text">配置HttpPutFormContentFilter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Controller-2"><span class="nav-number">9.4.3.2.</span> <span class="nav-text">Controller</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E8%AF%B7%E6%B1%82-1"><span class="nav-number">9.4.3.3.</span> <span class="nav-text">前端请求</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#D-%E5%88%A0%E9%99%A4%E5%91%98%E5%B7%A5"><span class="nav-number">10.</span> <span class="nav-text">D-删除员工</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8A%9F%E8%83%BD%E8%AF%B4%E6%98%8E-3"><span class="nav-number">10.1.</span> <span class="nav-text">功能说明</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8D%95%E4%B8%AA%E5%91%98%E5%B7%A5%E5%88%A0%E9%99%A4"><span class="nav-number">10.2.</span> <span class="nav-text">单个员工删除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E9%A1%B5%E9%9D%A2-3"><span class="nav-number">10.2.1.</span> <span class="nav-text">前端页面</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Controller-3"><span class="nav-number">10.2.2.</span> <span class="nav-text">Controller</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%B9%E9%87%8F%E5%91%98%E5%B7%A5%E5%88%A0%E9%99%A4"><span class="nav-number">10.3.</span> <span class="nav-text">批量员工删除</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%A8%E9%80%89%E6%95%88%E6%9E%9C"><span class="nav-number">10.3.1.</span> <span class="nav-text">全选效果</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%88%E6%9E%9C%E8%AF%B4%E6%98%8E"><span class="nav-number">10.3.1.1.</span> <span class="nav-text">效果说明</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E6%A0%B7%E5%BC%8F"><span class="nav-number">10.3.1.2.</span> <span class="nav-text">前端样式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%89%8D%E7%AB%AF%E9%80%BB%E8%BE%91"><span class="nav-number">10.3.1.3.</span> <span class="nav-text">前端逻辑</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Controller-4"><span class="nav-number">10.3.2.</span> <span class="nav-text">Controller</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%80%BB%E7%BB%93"><span class="nav-number">11.</span> <span class="nav-text">总结</span></a></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fas fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="Search..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fas fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fas fa-spinner fa-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>




    
<script src="/js/lazyload.js"></script>



<div class="post-scripts">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>



</body>
</html>
