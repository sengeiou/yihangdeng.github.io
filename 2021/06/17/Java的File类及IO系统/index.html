<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="yhd">
    
    <title>
        
            Java的File类及IO系统 |
        
        DyhBlog
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/MyLogo.svg">
    
<link rel="stylesheet" href="/css/font-awesome.min.css">

    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"yoursite.com","root":"/","language":"en","path":"search.json"};
    KEEP.theme_config = {"toc":{"enable":true,"number":true,"expand_all":false,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar.jpg","favicon":"/images/MyLogo.svg","article_img_align":"left","left_side_width":"230px","content_max_width":"920px","hover":{"shadow":false,"scale":false},"first_screen":{"enable":true,"background_img":"/images/bg.jpeg"},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":true}}},"local_search":{"enable":true,"preload":true},"code_copy":{"enable":true,"style":"default"},"pjax":{"enable":false},"lazyload":{"enable":true},"version":"3.4.1"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 5.1.1"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            <a class="logo-title" href="/">
                DyhBlog
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                    
                        <li class="menu-item search search-popup-trigger">
                            <i class="fas fa-search"></i>
                        </li>
                    
                </ul>
            </div>
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fas fa-search"></i></div>
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Java的File类及IO系统</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">yhd</span>
                        
                            <span class="author-label">Lv4</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;2021-06-17 10:33:21
    </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/JavaSE/">JavaSE</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fas fa-file-word"></i>&nbsp;<span>15.4k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fas fa-clock"></i>&nbsp;<span>65 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <p><strong>引言</strong>：本文主要介绍Java IO流系统的知识，包含File类的使用、IO流原理及流的分类、节点流(文件流)、缓冲流、转换流、标准输入输出流、打印流、对象流、随机存取文件流、NIO中的Path、Paths、Files类的使用。</p>
<h1 id="File类"><a href="#File类" class="headerlink" title="File类"></a>File类</h1><h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li>java.io.<strong>File</strong>类：是<strong>文件</strong>和<strong>文件目录</strong>(文件夹)的<strong>抽象表示形式</strong>，与平台无关</li>
<li>File能新建、删除、重命名文件和目录，但 File 不能访问文件内容本身。 如果需要访问文件内容本身，则需要使用IO流。 </li>
<li>在Java程序中表示一个真实存在的文件或目录，必须有一个与之对应的File对象</li>
<li>但是Java程序中的一个File对象，可能没有一个与之对应的真实存在的文件或目录，如这个路径/文件是即将由Java程序创建的。</li>
<li><strong>File对象可以作为参数传递给IO流的构造器</strong>，作为IO操作的节点类型之一(还可以是网络结点)</li>
</ul>
<h2 id="Constructor"><a href="#Constructor" class="headerlink" title="Constructor"></a>Constructor</h2><p><strong>注</strong>：创建File对象只是<strong>在内存中创建类这个对象</strong>，还没有和文件系统建立关系。因此无论这个文件/目录是否真是存在，<strong>都不影响File对象的创建</strong>。</p>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>public <strong>File</strong>(String pathname)</td>
<td>以pathname为<strong>路径</strong>创建File对象，<br/><strong>可以是绝对路径或者相对路径</strong>，<br/>如果相对路径，则默认的当前路径在系统属性user.dir中存储</td>
</tr>
<tr>
<td>public <strong>File</strong>(String parent,String child)</td>
<td>以parent为父路径，child为子路径创建File对象</td>
</tr>
<tr>
<td>public <strong>File</strong>(<strong>File</strong> parent,String child)</td>
<td>根据一个父File对象和子文件路径创建File对象</td>
</tr>
<tr>
<td>public <strong>File</strong>(URI uri)</td>
<td>将给定的 file:URI转换为抽象路径名来创建新的File实例</td>
</tr>
</tbody></table>
<h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><h4 id="File-String-pathname"><a href="#File-String-pathname" class="headerlink" title="File(String pathname)"></a>File(String pathname)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//定义一个目录，File对象</span></span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">&quot;D:\\java&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;file1 = &quot;</span> + file1);<span class="comment">//D:\java</span></span><br><span class="line">    <span class="comment">//定义一个文件，File对象</span></span><br><span class="line">    File file2 = <span class="keyword">new</span> File(<span class="string">&quot;D:\\java\\test.txt&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;file2 = &quot;</span> + file2);<span class="comment">//D:\java\test.txt</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="File-String-parent-String-child"><a href="#File-String-parent-String-child" class="headerlink" title="File(String parent,String child)"></a>File(String parent,String child)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//等价于 D:\java\test.txt</span></span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">&quot;D:\\java&quot;</span>,<span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;file = &quot;</span> + file); <span class="comment">// D:\java\test.txt</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="File-File-parent-String-child"><a href="#File-File-parent-String-child" class="headerlink" title="File(File parent,String child)"></a>File(File parent,String child)</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//等价于 D:\java\test</span></span><br><span class="line">    File parentFile = <span class="keyword">new</span> File(<span class="string">&quot;D:\\java&quot;</span>);</span><br><span class="line">    File file = <span class="keyword">new</span> File(parentFile,<span class="string">&quot;test&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;file = &quot;</span> + file); <span class="comment">// D:\java\test</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="文件路径"><a href="#文件路径" class="headerlink" title="文件路径"></a>文件路径</h3><ul>
<li><p><strong>相对路径</strong>：不是以盘符开始的任意路径片断。如 <code>java\test.txt</code></p>
<ul>
<li><p>Java程序中，相对路径的基准为：<strong>项目根目录下，与src目录同级</strong>。</p>
<blockquote>
<ul>
<li><strong>IDEA</strong>：<ul>
<li>mian方法：project路径下，</li>
<li><strong>单元测试</strong>：model下。</li>
</ul>
</li>
<li><strong>eclipse</strong>：main和单元测试均是相对于 project下</li>
</ul>
</blockquote>
</li>
</ul>
</li>
<li><p><strong>绝对路径</strong>：从文件系统的<strong>盘符开始</strong>的文件路径。如 <code>D:\java\test\test.txt</code></p>
</li>
</ul>
<h3 id="路径分隔符"><a href="#路径分隔符" class="headerlink" title="路径分隔符"></a>路径分隔符</h3><h4 id="不同系统分隔符"><a href="#不同系统分隔符" class="headerlink" title="不同系统分隔符"></a>不同系统分隔符</h4><ul>
<li>路径中的每级目录之间<strong>用一个路径分隔符隔开</strong></li>
<li>路径分隔符和系统有关：<ul>
<li>windows和DOS系统默认使用<code>&#39;\&#39;</code>(反斜杠-转义符)来表示</li>
<li>UNIX和URL使用<code>&#39;/&#39;</code>(斜杆)来表示</li>
</ul>
</li>
<li>由于Java程序支持跨平台运行，这些路径分隔符表示都支持，但由于<code>\</code>含转义，因此需双写</li>
</ul>
<hr>
<ul>
<li><strong>示例代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1、Windows平台的路径分隔符，需要转意一下</span></span><br><span class="line">        File file1 = <span class="keyword">new</span> File(<span class="string">&quot;D:\\java\\test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、UNIX和URL使用的路径分隔符，</span></span><br><span class="line">        File file2 = <span class="keyword">new</span> File(<span class="string">&quot;D:/java/test.txt&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="动态分隔符"><a href="#动态分隔符" class="headerlink" title="动态分隔符"></a>动态分隔符</h4><ul>
<li>由于Java程序支持跨平台运行，因此路径分隔符要慎用。</li>
<li>为了解决这个隐患，File类提供了一个<strong>常量</strong>： public static final String <strong>separator</strong></li>
<li>它可根据操作系统，<strong>动态地提供系统匹配的分隔符</strong>。</li>
</ul>
<hr>
<ul>
<li><strong>示例代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//同等功能</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1、Windows平台的路径分隔符，需要转意一下</span></span><br><span class="line">        File file1 = <span class="keyword">new</span> File(<span class="string">&quot;D:\\java\\test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//2、UNIX和URL使用的路径分隔符，</span></span><br><span class="line">        File file2 = <span class="keyword">new</span> File(<span class="string">&quot;D:/java/test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3、动态路径分隔符，自动匹配系统类型</span></span><br><span class="line">        File file3 = <span class="keyword">new</span> File(<span class="string">&quot;D:&quot;</span> + File.separator + <span class="string">&quot;java&quot;</span> + File.separator + <span class="string">&quot;test.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Methods"><a href="#Methods" class="headerlink" title="Methods"></a>Methods</h2><ul>
<li><p>File类中涉及到关于文件或文件目录的创建、删除、重命名、修改时间、文件大小等方法，</p>
<ul>
<li>并未涉及到写入或读取文件内容的操作。如果需要<strong>读取或写入文件内容</strong>，<strong>必须使用IO流来完成</strong>。</li>
</ul>
</li>
</ul>
<h3 id="基础信息"><a href="#基础信息" class="headerlink" title="基础信息"></a>基础信息</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>public String <strong>getAbsolutePath</strong>()</td>
<td>获取绝对路径</td>
</tr>
<tr>
<td>public String <strong>getPath</strong>()</td>
<td>获取路径</td>
</tr>
<tr>
<td>public String <strong>getName</strong>()</td>
<td>获取名称</td>
</tr>
<tr>
<td>public String <strong>getParent</strong>()</td>
<td>获取上层文件目录路径。若无，返回null</td>
</tr>
<tr>
<td>public long <strong>length</strong>()</td>
<td>获取<strong>文件大小</strong>(单位字节数)，目录不可用</td>
</tr>
<tr>
<td>public long <strong>lastModified</strong>()</td>
<td>获取最后一次的修改时间，单位，毫秒值</td>
</tr>
<tr>
<td>public String[] <strong>list</strong>()</td>
<td>获取<strong>指定当前目录下</strong>(不含子目录)的所有<strong>文件</strong>或者<strong>文件目录</strong><br/>的<strong>名称数组，目录不存在返回null</strong>，空目录返回0</td>
</tr>
<tr>
<td>public File[] <strong>listFiles</strong>()</td>
<td>获取<strong>指定当前目录下</strong>(不含子目录)的所有<strong>文件</strong>或者<strong>文件目录</strong>的<br/>File数组，<strong>目录不存在返回null</strong>，空目录返回0</td>
</tr>
<tr>
<td>String[] <strong>list</strong>(FilenameFilter filter)</td>
<td>同理list()，满足过滤器FilenameFilter规则下返回</td>
</tr>
<tr>
<td>File[] <strong>listFiles</strong>(FilenameFilter filter)</td>
<td>同理listFiles()，满足过滤器FilenameFilter规则下返回</td>
</tr>
<tr>
<td>……</td>
<td></td>
</tr>
</tbody></table>
<h4 id="示例代码-1"><a href="#示例代码-1" class="headerlink" title="示例代码"></a>示例代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    File file1 = <span class="keyword">new</span> File(<span class="string">&quot;test\\hello.txt&quot;</span>);<span class="comment">//tisp：该文件与目录都不存在</span></span><br><span class="line">    File file2  = <span class="keyword">new</span> File(<span class="string">&quot;D:\\TestFolder\\FiletTest\\file.txt&quot;</span>);<span class="comment">//该文件存在</span></span><br><span class="line"></span><br><span class="line">    System.out.println(file1.getAbsoluteFile());<span class="comment">// D:\ProfessionApp\Source\IdeaWorkSpace\JavaSE\test\hello.txt</span></span><br><span class="line">    System.out.println(file1.getPath());<span class="comment">// test\hello.txt</span></span><br><span class="line">    System.out.println(file1.getName());<span class="comment">// hello.txt</span></span><br><span class="line">    System.out.println(file1.getParent());<span class="comment">// test</span></span><br><span class="line">    System.out.println(file1.length());<span class="comment">// 0</span></span><br><span class="line">    System.out.println(file1.lastModified());<span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    System.out.println(file2.getAbsoluteFile()); <span class="comment">//D:\TestFolder\FiletTest\file.txt</span></span><br><span class="line">    System.out.println(file2.getPath()); <span class="comment">//D:\TestFolder\FiletTest\file.txt</span></span><br><span class="line">    System.out.println(file2.getName()); <span class="comment">//file.txt</span></span><br><span class="line">    System.out.println(file2.getParent());<span class="comment">// D:\TestFolder\FiletTest</span></span><br><span class="line">    System.out.println(file2.length());<span class="comment">// 6</span></span><br><span class="line">    System.out.println(file2.lastModified());<span class="comment">// 1623681034684</span></span><br><span class="line">    </span><br><span class="line">      </span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">&quot;D:\\TestFolder\\FiletTest&quot;</span>);<span class="comment">//必须是存在的目录</span></span><br><span class="line">    String[] list1 = file.list();</span><br><span class="line">    <span class="keyword">for</span> (String fileAndDir : list1) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;fileAndDir = &quot;</span> + fileAndDir);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    File[] files = file.listFiles();</span><br><span class="line">    <span class="keyword">for</span> (File file1 : files) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;file1 = &quot;</span> + file1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>当硬盘中真是存在文件和目录时创建File对象时，各个属性会显式赋值，不存在时则按默认值赋值</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210614231434.png"
                     
                ></p>
<h3 id="重命名"><a href="#重命名" class="headerlink" title="重命名"></a>重命名</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>public boolean <strong>renameTo</strong>(File dest)</td>
<td><strong>只能操作文件</strong>，若传入目录则操作结果为无后缀文件<br/>把文件重命名为指定的File文件路径，返回操作结果<br>相当于修改调用者File对象的文件路径，<strong>类剪切操作</strong><br>但若像保证修改成功，还需满足如下两个条件<br>1. 调用renameTo的File对象必须<strong>真实存在</strong><br/>2. 重命名的目的File dest必须<strong>不存在</strong><br>小结：<strong>该方法类似目标位置不能含同名文件的剪切操作</strong></td>
</tr>
<tr>
<td>……</td>
<td></td>
</tr>
</tbody></table>
<h4 id="示例代码-2"><a href="#示例代码-2" class="headerlink" title="示例代码"></a>示例代码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">&quot;test.txt&quot;</span>);<span class="comment">//该文件必须存在</span></span><br><span class="line">    File dest = <span class="keyword">new</span> File(<span class="string">&quot;dir\\rename.txt&quot;</span>);<span class="comment">//该文件必须不存在</span></span><br><span class="line">    <span class="keyword">boolean</span> result = file.renameTo(dest);</span><br><span class="line">    System.out.println(<span class="string">&quot;result = &quot;</span> + result);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="判断"><a href="#判断" class="headerlink" title="判断"></a>判断</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>public boolean <strong>exists</strong>()</td>
<td>判断是否存在(以下方法都内部都执行exists())</td>
</tr>
<tr>
<td>public boolean <strong>isDirectory</strong>()</td>
<td>判断是否是文件目录</td>
</tr>
<tr>
<td>public boolean <strong>isFile</strong>()</td>
<td>判断是否是文件</td>
</tr>
<tr>
<td>public boolean <strong>canRead</strong>()</td>
<td>判断是否可读</td>
</tr>
<tr>
<td>public boolean <strong>canWrite</strong>()</td>
<td>判断是否可写</td>
</tr>
<tr>
<td>public boolean <strong>isHidden</strong>()</td>
<td>判断是否隐藏</td>
</tr>
<tr>
<td>……</td>
<td></td>
</tr>
</tbody></table>
<h3 id="创建与删除"><a href="#创建与删除" class="headerlink" title="创建与删除"></a>创建与删除</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>public boolean <strong>createNewFile</strong>()</td>
<td>创建<strong>文件</strong>。<strong>若文件存在，则不创建</strong>，返回false</td>
</tr>
<tr>
<td>public boolean <strong>mkdir</strong>()</td>
<td>创建<strong>文件目录</strong>。如果此<strong>文件目录存在，就不创建了</strong> <br/>如果此文件目录的<strong>上层目录不存在，也不创建</strong></td>
</tr>
<tr>
<td>public boolean <strong>mkdirs</strong>()</td>
<td>创建<strong>文件目录树</strong>。如果上层文件<strong>目录不存在，一并创建</strong></td>
</tr>
<tr>
<td>public boolean <strong>delete</strong>()</td>
<td>删除<strong>文件</strong>或者<strong>文件夹</strong>(不能包含内容，删除所有只能写递归)</td>
</tr>
<tr>
<td>……</td>
<td></td>
</tr>
</tbody></table>
<p><strong>注</strong>：</p>
<ul>
<li><p>如果你创建文件或者文件目录<strong>没有写盘符路径</strong>，那么，<strong>默认在项目路径下</strong></p>
</li>
<li><p>Java中的删除不走回收站。 要删除一个文件目录，请注意该文件目录内<strong>不能包含文件或者文件目录</strong></p>
</li>
</ul>
<h4 id="示例代码-3"><a href="#示例代码-3" class="headerlink" title="示例代码"></a>示例代码</h4> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    File file = <span class="keyword">new</span> File(<span class="string">&quot;dir\\abc.txt&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span>(!file.exists())&#123;<span class="comment">//不存在则创建</span></span><br><span class="line">        file.createNewFile();</span><br><span class="line">        System.out.println(<span class="string">&quot;创建成功&quot;</span>);</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;<span class="comment">//不存在则删除</span></span><br><span class="line">        file.delete();</span><br><span class="line">        System.out.println(<span class="string">&quot;删除成功&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="常见应用"><a href="#常见应用" class="headerlink" title="常见应用"></a>常见应用</h3><h4 id="指定后缀文件"><a href="#指定后缀文件" class="headerlink" title="指定后缀文件"></a>指定后缀文件</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FilenameFilter;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 判断指定目录下是否有后缀名为.jpg的文件，如果有，就输出该文件名称</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FindJPGFileTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//方式1：String[] fileName + endsWith()判断</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span></span>&#123;</span><br><span class="line">		File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;d:\\code&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		String[] fileNames = srcFile.list();</span><br><span class="line">		<span class="keyword">for</span>(String fileName : fileNames)&#123;</span><br><span class="line">			<span class="keyword">if</span>(fileName.endsWith(<span class="string">&quot;.jpg&quot;</span>))&#123;</span><br><span class="line">				System.out.println(fileName);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//方式2： File[] listFiles的fileName + endWith()判断</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span></span>&#123;</span><br><span class="line">		File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;d:\\code&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		File[] listFiles = srcFile.listFiles();</span><br><span class="line">		<span class="keyword">for</span>(File file : listFiles)&#123;</span><br><span class="line">			<span class="keyword">if</span>(file.getName().endsWith(<span class="string">&quot;.jpg&quot;</span>))&#123;</span><br><span class="line">				System.out.println(file.getAbsolutePath());</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">/*</span></span><br><span class="line"><span class="comment">	 * 方式3：过滤器方式</span></span><br><span class="line"><span class="comment">	 * File类提供了两个文件过滤器方法</span></span><br><span class="line"><span class="comment">	 * public String[] list(FilenameFilter filter)</span></span><br><span class="line"><span class="comment">	 * public File[] listFiles(FileFilter filter)</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span></span>&#123;</span><br><span class="line">		File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;d:\\code&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//设置过滤器</span></span><br><span class="line">		File[] subFiles = srcFile.listFiles(<span class="keyword">new</span> FilenameFilter() &#123;</span><br><span class="line">			</span><br><span class="line">			<span class="meta">@Override</span></span><br><span class="line">			<span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">accept</span><span class="params">(File dir, String name)</span> </span>&#123;</span><br><span class="line">				<span class="keyword">return</span> name.endsWith(<span class="string">&quot;.jpg&quot;</span>);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//打印</span></span><br><span class="line">		<span class="keyword">for</span>(File file : subFiles)&#123;</span><br><span class="line">			System.out.println(file.getAbsolutePath());</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="打印所有文件"><a href="#打印所有文件" class="headerlink" title="打印所有文件"></a>打印所有文件</h4><h5 id="先循环后分类"><a href="#先循环后分类" class="headerlink" title="先循环后分类"></a>先循环后分类</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.file;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-14 21:42</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        File dir = <span class="keyword">new</span> File(<span class="string">&quot;D:\\TestFolder\\FiletTest\\&quot;</span>);</span><br><span class="line">        <span class="comment">//存储所有文件</span></span><br><span class="line">        List&lt;File&gt; fileList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//也可选择调用没有异常处理的printSubAllFileImp()方法</span></span><br><span class="line">        printSubAllFile(dir,fileList);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//打印指定目录下的所有文件</span></span><br><span class="line">        <span class="keyword">for</span> (File file : fileList) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;file = &quot;</span> + file);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 核心实现方法：递归方式</span></span><br><span class="line"><span class="comment">     * 打印指定文件路径(目录)下的所有文件，含子目录</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printSubAllFileImp</span><span class="params">(File dir, List&lt;File&gt; fileList)</span></span>&#123;</span><br><span class="line">        File[] files = dir.listFiles();</span><br><span class="line">        <span class="keyword">for</span> (File file : files) &#123;</span><br><span class="line">            <span class="keyword">if</span>(file.isDirectory())&#123;</span><br><span class="line">                printSubAllFileImp(file,fileList);</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                fileList.add(file);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/***</span></span><br><span class="line"><span class="comment">     * 递归实现的健壮性包装</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileList</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> FileNotFoundException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> RuntimeException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printSubAllFile</span><span class="params">(File dir, List&lt;File&gt; fileList)</span></span></span><br><span class="line"><span class="function">            <span class="keyword">throws</span> NullPointerException,FileNotFoundException,RuntimeException </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(fileList == <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> NullPointerException(<span class="string">&quot;fileList空指针异常，为实例化对象&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(dir.isFile())</span><br><span class="line">            <span class="keyword">throw</span>  <span class="keyword">new</span> RuntimeException(dir + <span class="string">&quot;不是文件目录&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(!dir.exists())</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> FileNotFoundException(dir + <span class="string">&quot;不存在&quot;</span>);</span><br><span class="line"></span><br><span class="line">        printSubAllFileImp(dir,fileList);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="先分类后循环"><a href="#先分类后循环" class="headerlink" title="先分类后循环"></a>先分类后循环</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//递归方式2： 先分类后循环：</span></span><br><span class="line"><span class="comment">//列出file目录的下级，如果它的下级还是目录，接着列出下级的下级，依次类推</span></span><br><span class="line"><span class="comment">// 建议使用File类的File[] listFiles()</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">listAllSubFiles</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (file.isFile()) &#123;</span><br><span class="line">        System.out.println(file);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        File[] all = file.listFiles();</span><br><span class="line">        <span class="comment">// 如果all[i]是文件，直接打印</span></span><br><span class="line">        <span class="comment">// 如果all[i]是目录，接着再获取它的下一级</span></span><br><span class="line">        <span class="keyword">for</span> (File f : all) &#123;</span><br><span class="line">            listAllSubFiles(f);<span class="comment">// 递归调用：自己调用自己就叫递归</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="删除目录"><a href="#删除目录" class="headerlink" title="删除目录"></a>删除目录</h4><h5 id="先循环后分类-1"><a href="#先循环后分类-1" class="headerlink" title="先循环后分类"></a>先循环后分类</h5><ul>
<li>不推荐</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteDirectoryContent</span><span class="params">(File dir)</span></span>&#123;</span><br><span class="line">    File[] files = dir.listFiles();</span><br><span class="line">    <span class="keyword">for</span> (File file : files) &#123;</span><br><span class="line">        <span class="keyword">if</span>(file.isFile())&#123;</span><br><span class="line">            file.delete();<span class="comment">//若是文件直接删除</span></span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;<span class="comment">//若是文件夹</span></span><br><span class="line">            File[] dirFiles = file.listFiles();</span><br><span class="line">            <span class="keyword">for</span> (File dirFile : dirFiles) &#123;</span><br><span class="line">                deleteDirectoryContent(dirFile);</span><br><span class="line">                dirFile.delete();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        file.delete();<span class="comment">//删除父级目录</span></span><br><span class="line">    &#125;</span><br><span class="line">    dir.delete();<span class="comment">//删除顶级目录，自身目录</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="先分类后循环-1"><a href="#先分类后循环-1" class="headerlink" title="先分类后循环"></a>先分类后循环</h5><ul>
<li>推荐</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//删除指定的目录将其所有内容</span></span><br><span class="line"><span class="comment">//递归方式：先分类，后循环，</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deleteDirectory</span><span class="params">(File file)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 如果file是文件，直接delete</span></span><br><span class="line">    <span class="comment">// 如果file是目录，先把它的下一级干掉，然后删除自己</span></span><br><span class="line">    <span class="keyword">if</span> (file.isDirectory()) &#123;</span><br><span class="line">        File[] all = file.listFiles();</span><br><span class="line">        <span class="comment">// 循环删除的是file的下一级</span></span><br><span class="line">        <span class="keyword">for</span> (File f : all) &#123;<span class="comment">// f代表file的每一个下级</span></span><br><span class="line">            deleteDirectory(f);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 删除自己</span></span><br><span class="line">    file.delete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="计算目录大小"><a href="#计算目录大小" class="headerlink" title="计算目录大小"></a>计算目录大小</h4><h5 id="先分类后循环-2"><a href="#先分类后循环-2" class="headerlink" title="先分类后循环"></a>先分类后循环</h5><ul>
<li>采用返回值存储记录递归值参数</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">  * 获取指定目录的大小</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@param</span> file</span></span><br><span class="line"><span class="comment">  * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">long</span> <span class="title">getDirectorySize</span><span class="params">(File file)</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> size = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(file.isFile())&#123;<span class="comment">//文件</span></span><br><span class="line">        size+=file.length();</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;<span class="comment">//文件夹</span></span><br><span class="line">        File[] files = file.listFiles();</span><br><span class="line">        <span class="keyword">for</span> (File file1 : files) &#123;</span><br><span class="line">            size+=getDirectorySize(file1);<span class="comment">//返回值记录</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> size;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="IO流概述"><a href="#IO流概述" class="headerlink" title="IO流概述"></a>IO流概述</h1><h2 id="基本概念-1"><a href="#基本概念-1" class="headerlink" title="基本概念"></a>基本概念</h2><ul>
<li>I/O是<em>Input/Output</em>的缩写， I/O技术是非常实用的技术，用于处理<strong>设备之间的数据传输</strong>。如读/写文件，网络通讯等。</li>
<li>Java程序中，对于数据的输入/输出操作以“<strong>流</strong>(<strong>stream</strong>)” 的 方式进行。</li>
<li>Java.<strong>io</strong>包下提供了各种“流”类和接口，用以获取不同种类的 数据，并通过标准的方法输入或输出数据。</li>
</ul>
<h2 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h2><ul>
<li>总体分离示意图</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210615164258.png"
                     
                ></p>
<h3 id="输入输出流"><a href="#输入输出流" class="headerlink" title="输入输出流"></a>输入输出流</h3><ul>
<li><p>按数据流的<strong>流向</strong>不同分为：<strong>输入流</strong>，<strong>输出流</strong></p>
</li>
<li><p>“输入输出”概念是基于<strong>内存</strong>/<strong>程序</strong>/<strong>CPU</strong>角度而命名的</p>
<ul>
<li><strong>input</strong>输入：读取磁盘中的文件，读取URL的数据</li>
<li><strong>out</strong>输出：把数据写入到磁盘中，响应客户端的请求</li>
</ul>
</li>
</ul>
<h3 id="字节字符流"><a href="#字节字符流" class="headerlink" title="字节字符流"></a>字节字符流</h3><p>按操作<strong>数据单位</strong>不同分为：<strong>字节流</strong>(8 bit)，<strong>字符流</strong>(16 bit-java是Unicode编码)</p>
<h4 id="字符流"><a href="#字符流" class="headerlink" title="字符流"></a>字符流</h4><ul>
<li><strong>字符流</strong>：传输最小单位为<strong>一个字符</strong>(2byte)，<strong>仅能处理任意文本数据</strong>(.txt，.java，.c，.cpp…)</li>
</ul>
<h5 id="兼容任意字符集原理"><a href="#兼容任意字符集原理" class="headerlink" title="兼容任意字符集原理"></a>兼容任意字符集原理</h5><blockquote>
<p>为什么字符流能保证任何编码集字符<strong>在程序中或内存中</strong>(JVM)都不会出现乱码情况？</p>
</blockquote>
<ul>
<li><p>原因是：<strong>字符流内部操作时，含编码，解码过程</strong>，而且Java使用Unicode字符集使其兼容世界上任何一种字符。</p>
<ul>
<li><p><strong>字符流按字符读数据</strong>：将文本文件的每个字符转换成Unicode字符，即返回这2个字节所对应的字符的int型数值，<strong>此时无论任何字符集都可被Unicode兼容</strong>(真正在程序中兼容任何字符集的原因)</p>
</li>
<li><p><strong>写入文件时</strong>：把内存中的每一个Unicode字符(char-2个字节)的内容，再按写入文件系统的编码格式进行译码，使其兼容目的操作的文件系统。</p>
<hr>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>版权声明：本文为CSDN博主「山淼」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a class="link"   target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43229056/article/details/106137920" >https://blog.csdn.net/qq_43229056/article/details/106137920<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<p>简单来说：<strong>字符流是面向字符的</strong>(超出字符码表的二进制是不认的)，即把原始文件中的二进制数据以字符形式读出，再将字符以二进制形式写入，所以得到的文件以字符方式存储。</p>
<h5 id="不兼容非文本类型原理"><a href="#不兼容非文本类型原理" class="headerlink" title="不兼容非文本类型原理"></a>不兼容非文本类型原理</h5><blockquote>
<p>字符流仅能处理文本数据，而不能传输处理非文本数据(图片、视频)的原因是 ?</p>
</blockquote>
<ul>
<li><p>原因：字符流是面向字符的，<strong>字符流操作过程自带编码，解码，非文本文件二进制数据存在超出字符集码表的可能性，即乱码。使其经过编码和解码操作后，原有的二进制数据发送改变</strong>。</p>
<ul>
<li><p>此时一个<strong>非文本文件</strong>的二进制数据什么组合或者什么大小的可能性都存在的</p>
</li>
<li><p>当非文本文件的一个或多个字节的二进制数据，按字符传输时，<strong>首先会对文件进行编码</strong></p>
</li>
<li><p>编码的过程中由于是非文本文件，二进制的内容是任意情况的。<strong>存在超出字符集的码表范围的二进制组合，即找不到与之对应的字符，此时就会转为其他字符乱码</strong></p>
</li>
<li><p>注意，<strong>这个乱码是没有一一对应关系</strong>(如果有，就属于是字符集编码范围了)，即某个匹配不到码表的数据A1，转换为某个乱码S后。这个乱码S再经过解码得出的数据A2，是和A1存在不一样的可能性。</p>
</li>
<li><p>因此经过这样一个“ <strong>二进制——&gt; 乱码编码 ——&gt; 乱码解码 ——&gt; 二进制‘</strong> ”过程，二进制数据已经发生了改变。</p>
</li>
<li><p>而图片的数据是按字节存储的，所以打开图片时解码出错了</p>
<hr>
</li>
<li><p>与字节流对比，字节流传输数据是面向字节的(比特)，不存在编码、解码过程，直接的传输原始的二进制数据。因此字节流在传输非文本文件类型的数据时不会导致原有的二进制数据发生改变。</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>版权声明：可以用字符流复制一张图片文件吗？ - 不将就！ </p>
<p>原文链接：博客园 <a class="link"   target="_blank" rel="noopener" href="https://www.cnblogs.com/byron0918/p/4898526.html" >https://www.cnblogs.com/byron0918/p/4898526.html<i class="fas fa-external-link-alt"></i></a></p>
</blockquote>
<h4 id="字节流"><a href="#字节流" class="headerlink" title="字节流"></a>字节流</h4><ul>
<li><strong>字节流</strong>：传输最小单位是<strong>1byte</strong>(等同于bit)，可以<strong>处理任意类型的文件</strong></li>
<li><strong>字节流按字节读取</strong>：两节点之间直接进行字节传送/比特流传送。(没有编码解码过程)<ul>
<li>字节流<strong>也可以处理字符文本</strong>(复制黏贴)，<strong>但一般不支持在终端，程序，内存中直接输出中文</strong>(cmd终端默认会以GBK编码输出)，会因为字符集不对应而<strong>输出乱码</strong>。(此时可以考虑使用转换流)</li>
<li>但字节流是<strong>可以对文本文件进行传输</strong>，这是不影响的。文本文件归根到底也是比特流。</li>
</ul>
</li>
</ul>
<h5 id="兼容任意文件类型原因"><a href="#兼容任意文件类型原因" class="headerlink" title="兼容任意文件类型原因"></a>兼容任意文件类型原因</h5><ul>
<li>在计算机中任何数据类型底层存储的都是二进制数据</li>
<li>字节流是面向字节读取的，可以说就是面向二进制/比特流直接操作</li>
<li>与字符流对比没有编码和解码的过程。因此可以传输任意文件类型</li>
</ul>
<h3 id="节点流与处理流"><a href="#节点流与处理流" class="headerlink" title="节点流与处理流"></a>节点流与处理流</h3><p>按<strong>流的角色</strong>的不同分为：<strong>节点流</strong>，<strong>处理流</strong></p>
<ul>
<li><strong>节点流</strong>：直接<strong>作用在两传输节点上</strong>，进行<strong>数据传输的流</strong>，如inputStream和outputStream</li>
<li><strong>处理流</strong>：<strong>作用在节点流之上</strong>，对节点流进行包裹作用以实现特定的辅助功能的流</li>
</ul>
<h1 id="API体系"><a href="#API体系" class="headerlink" title="API体系"></a>API体系</h1><ul>
<li>Java的IO流共涉及40多个类，实际上非常规则，都是从如下4个 抽象基类派生的</li>
<li><strong>顶层抽象基类</strong>：<ul>
<li><strong>字节流</strong>：InputStream、OutputStream</li>
<li><strong>字符流</strong>：Reader、Writer</li>
</ul>
</li>
<li>由这四个类派生出来的子类名称都是以其<strong>父类名作为子类名后缀</strong></li>
<li>抽线类是不能够实例化的，因此实际使用都是多态与这些抽象类，或者直接使用其子类</li>
<li>IO流API体系结构图</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/Java%E7%9A%84IO%E6%B5%81%E4%BD%93%E7%B3%BB(MAX).jpg"
                     
                ></p>
<h1 id="缓冲区设置"><a href="#缓冲区设置" class="headerlink" title="缓冲区设置"></a>缓冲区设置</h1><ul>
<li>无论输出流还是输入流都要基于一个存储数据的缓冲数组，<strong>一般设置为1024的整数倍</strong></li>
<li>现代操作系统的内存管理都具有<strong>分页机制</strong>，而内存页的大小都是1024的整数倍，定义1024整数倍大小的缓冲区在分配内存时将<strong>不会形成碎片</strong>。</li>
</ul>
<h1 id="编码基础知识"><a href="#编码基础知识" class="headerlink" title="编码基础知识"></a>编码基础知识</h1><h2 id="字符集兼容"><a href="#字符集兼容" class="headerlink" title="字符集兼容"></a>字符集兼容</h2><ul>
<li>其实文本的不同编码字符集之间都是尽量使其能互相兼容</li>
<li>而兼容性最强的便是最早出现的ASCII码，可以说现如今的任何一种字符集都是兼容ASCII编码</li>
</ul>
<h2 id="字符编码转换"><a href="#字符编码转换" class="headerlink" title="字符编码转换"></a>字符编码转换</h2><ul>
<li>注意定长字符集，并不代表编码转换的过程也是定长的，</li>
<li>编码转换的过程是专门的编码转换器完成的，如UTF-8/ASCII转Uniconde编码，</li>
<li>此时两个字符集每个字符占用的字节数不一致，且UTF-8本身就是变长的。</li>
<li>因此转换的过程肯定也是变长处理的，只是由于转换的目的字符集是定长的而已。</li>
</ul>
<h2 id="定长字符集"><a href="#定长字符集" class="headerlink" title="定长字符集"></a>定长字符集</h2><ul>
<li><p><strong>Unicode</strong>是无论什么字符，每一个字符都使用2个字节进行编码，是一种<strong>定长编码方式</strong>。</p>
</li>
<li><p>虽然unicode编码能做到将不同国家的字符进行统一，使得乱码问题得以解决，但是如果内容全是英文unicode编码比ASCII编码需要多一倍的存储空间</p>
</li>
<li><p>因此一种可变长的编码“utf-8”就应运而生了，把英文变长1个字节，汉字3个字节，特别生僻的变成4-6个字节，<strong>如果传输大量的英文，utf8的作用就很明显了</strong></p>
<blockquote>
<p>为什么转换成汉字时，一个字符编码所需的字节数比Unicode定长编码所需的字节数还要大呢？</p>
</blockquote>
<ul>
<li>这是由于可变长编码是一种哈夫曼编码，这种编码要保证不能有重复的前缀后缀，简单来说即需要完全兼容一个字节的原生ASCII码，因此需要在识别上增加字节数目。</li>
</ul>
</li>
</ul>
<h2 id="变长编码字符集"><a href="#变长编码字符集" class="headerlink" title="变长编码字符集"></a>变长编码字符集</h2><ul>
<li>实际文本字符使用某个字符集进行编码时，有些字符集为了节省内存<strong>可变长编码的</strong>，如UTF-8</li>
<li>如UTF-8中一个中文是占据3个byte，而UTF-8所兼容的ASCII码还是一个ASCII码只占1byte</li>
<li>如使用UTF-8编码的test.txt文本内容为：<code>ABC中国</code></li>
<li>该test.txt的实际二进制以十六进制方式呈现的内容是：<code>41 42 43 E4 B8 AD E6 96 87  </code><ul>
<li>其中”ABC”字符共占据3个byte：<code>41 42 43</code></li>
<li>而”中国”两字符共占6个byte：<code>E4 B8 AD E6 96 87</code></li>
<li>因此实际编码时是非等长编码的</li>
</ul>
</li>
<li><strong>UTF-8编码示例</strong>：当确定字符集后，每次键盘输入时就判断输入字符是属于兼容字符集还是本体字符集<ul>
<li>如以此键盘输入<code>ABC中国</code>字符时，可以识别<code>ABC</code>属于ASCII码范畴，因此采用ASCII码一个字节编码</li>
<li>而当识别到中文字符<code>中国</code>时采用UTF-8本体的字符编码规则，一个中文采用三个字节编码</li>
<li>因此最终编码的结果为：<code>41 42 43 E4 B8 AD E6 96 87</code></li>
</ul>
</li>
</ul>
<hr>
<p><strong>UTF-8解码示例</strong>：</p>
<ul>
<li>由于字符集编码时是采用非等长方式编码，同理，解码也需<strong>非等长方式解码</strong>。</li>
<li>具体实现可以通过比较兼容字符集的二进制大小来区分转换译码</li>
<li>如<code>41 42 43 E4 B8 AD E6 96 87</code>，已知使用UTF-8字符集编码，则解码时<ul>
<li>由于ASCII编码一个字节最大值为<code>7F</code>，</li>
<li>因此译码时可以以每一个字节遍历，当一个字节大小小于<code>7F</code>时表示该字节就是使用ASCII码编码，则当前这一个字节就表示一个字符，将其一个字符按照字符对照表转换为ASCII字符。</li>
<li>当遍历到的字节大小  &gt; <code>7F</code> 时，则证明非ASCII字符，则从当前字节开始共3字节构成一个UTF8字符，将三个字节的组合按字符对照表进行转换，转换为对应的UTF8字符</li>
</ul>
</li>
</ul>
<h1 id="节点流"><a href="#节点流" class="headerlink" title="节点流"></a>节点流</h1><h2 id="文件流"><a href="#文件流" class="headerlink" title="文件流"></a>文件流</h2><ul>
<li>示例代码可从文件字符流看起，相对较为详细</li>
</ul>
<h3 id="字节流-1"><a href="#字节流-1" class="headerlink" title="字节流"></a>字节流</h3><h4 id="FileInputStream"><a href="#FileInputStream" class="headerlink" title="FileInputStream"></a>FileInputStream</h4><ul>
<li><em>JDK-1.8-API</em>：FileInputStream是InputStream的主要实现类</li>
</ul>
<hr>
<ul>
<li><strong>Constructors</strong></li>
<li><strong>注</strong>：<strong>读取文件操作前提，文件必须存在。否则报FileNotException异常！！！</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>FileInputStream(<strong>File</strong> file)</td>
<td>给定File对象实例化FileInputStream对象<br/>文件不存在，报FileNotException</td>
</tr>
<tr>
<td>FileInputStream(<strong>String</strong> name)</td>
<td>给定文件路径对象实例化FileInputStream对象<br/>文件不存在，报FileNotException</td>
</tr>
<tr>
<td>FileInputStream(<strong>FileDescriptor</strong> fdObj)</td>
<td>给定FileDescriptor对象实例化FileInputStream对象<br/>文件不存在，报FileNotException</td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>int <strong>read</strong>()</td>
<td>从该输入流读取一个字节的数据，文件结尾返回 -1</td>
</tr>
<tr>
<td>int <strong>read</strong>(byte[] buff)</td>
<td>从该输入流读取buff.length个字节的数据，到buff字节数组中<br/>返回实际读取到的字节个数，文件结尾返回 -1</td>
</tr>
<tr>
<td>int <strong>read</strong>(byte[] b,  int off, int len)</td>
<td>从该输入流读取最多len个字节的数据，到buff数组从off索引开始位置中</td>
</tr>
<tr>
<td>int <strong>available</strong>()</td>
<td>返回从此输入流中可以读取（或跳过）的剩余字节数的估计值，而不会被下一次调用此输入流的方法阻塞。</td>
</tr>
<tr>
<td>long <strong>skip</strong>(long n)</td>
<td>跳过并从输入流中丢弃 n字节的数据。</td>
</tr>
<tr>
<td>void <strong>finalize</strong>()</td>
<td>确保当这个文件输入流的 close方法没有更多的引用时被调用。</td>
</tr>
<tr>
<td>void <strong>close</strong>()</td>
<td>关闭此文件输入流并释放与流相关联的任何系统资源。</td>
</tr>
<tr>
<td>FileChannel <strong>getChannel</strong>()</td>
<td>返回与此文件输入流相关联的唯一的FileChannel对象</td>
</tr>
<tr>
<td>FileDescriptor <strong>getFD</strong>()</td>
<td>返回表示与此 FileInputStream正在使用的文件系统中实际文件的连接的  FileDescriptor对象。</td>
</tr>
</tbody></table>
<h4 id="FileOutputStream"><a href="#FileOutputStream" class="headerlink" title="FileOutputStream"></a>FileOutputStream</h4><ul>
<li><em>JDK-1.8-API</em>：FileOutputStream是OutputStream的主要实现类</li>
</ul>
<hr>
<ul>
<li><strong>Constructors</strong></li>
<li><strong>注</strong>：<strong>写入文件操作，文件不一定存在，若不存在则自动创建，不会报FileNotException</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>FileOutputStream(<strong>File</strong> file)</td>
<td>给定File对象实例化FileOutputStream对象</td>
</tr>
<tr>
<td>FileOutputStream(<strong>File</strong> file,  <strong>boolean</strong> append)</td>
<td>给定File对象实例化FileOutputStream对象<br/>append指明写入操作是否追加到文件末尾<br/>true为追加，false为覆盖(write默认覆盖)</td>
</tr>
<tr>
<td>FileOutputStream(<strong>String</strong> name)</td>
<td>给定文件路径实例化FileOutputStream对象</td>
</tr>
<tr>
<td>FileOutputStream(<strong>String</strong> name,  boolean <strong>append</strong>)</td>
<td>给定文件路径实例化FileOutputStream对象<br/>append指明写入操作是否追加到文件末尾<br/>true为追加，false为覆盖(write默认覆盖)</td>
</tr>
<tr>
<td>FileOutputStream(<strong>FileDescriptor</strong> fdObj)</td>
<td>创建文件输出流以写入指定的文件描述符<br/>表示与文件系统中实际文件的现有连接。</td>
</tr>
</tbody></table>
<ul>
<li><p><strong>Methods</strong></p>
</li>
<li><p><strong>write</strong>()系列的方法若文件不存在，则自动创建，若文件存在，则<strong>覆盖该文件</strong>。</p>
</li>
<li><p><strong>追加数据操作</strong>需使用<strong>append</strong>()系列的方法，或<code>new FileOutputStream(file,ture)</code>，true表明追加数据标识。</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>void <strong>write</strong>(int b)</td>
<td>将指定的字节写入此文件输出流</td>
</tr>
<tr>
<td>void <strong>write</strong>(byte[] b)</td>
<td>将 b.length个字节从指定的字节数组写入此文件输出流</td>
</tr>
<tr>
<td>void <strong>write</strong>(byte[] b,  int off, int len)</td>
<td>将len字节从位于偏移量off开始的指定字节数组写入此文件输出流</td>
</tr>
<tr>
<td>void <strong>close</strong>()</td>
<td>关闭此文件输出流并释放与此流相关联的任何系统资源。</td>
</tr>
<tr>
<td>void <strong>finalize</strong>()</td>
<td>清理与文件的连接，并确保当没有更多的引用此流时，<br/>将调用此文件输出流的 close方法。</td>
</tr>
<tr>
<td>FileChannel <strong>getChannel</strong>()</td>
<td>返回与此文件输出流相关联的唯一的FileChannel对象。</td>
</tr>
<tr>
<td>FileDescriptor <strong>getFD</strong>()</td>
<td>返回与此流相关联的文件描述符。</td>
</tr>
<tr>
<td>void <strong>flush</strong>()</td>
<td>OutputStream的方法，将缓冲区的内容强制输出的输出流</td>
</tr>
</tbody></table>
<h4 id="图片Copy示例"><a href="#图片Copy示例" class="headerlink" title="图片Copy示例"></a>图片Copy示例</h4><ul>
<li><strong>能操作任意文件类型</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//img.jpg&quot;</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//test&quot;</span>,srcFile.getName());</span><br><span class="line"></span><br><span class="line">        FileInputStream fis = <span class="keyword">null</span>;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fis = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">            fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">byte</span>[] buff = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span>((len = fis.read(buff)) != -<span class="number">1</span>)&#123;<span class="comment">//读取</span></span><br><span class="line">                fos.write(buff,<span class="number">0</span>,len);<span class="comment">//写入</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fis.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(fos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fos.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符流-1"><a href="#字符流-1" class="headerlink" title="字符流"></a>字符流</h3><ul>
<li>字符型文件流：FileReader、FileWriter</li>
</ul>
<h4 id="FileReader"><a href="#FileReader" class="headerlink" title="FileReader"></a>FileReader</h4><ul>
<li><em>JDK-1.8-API</em>：FileReader是Reader主要实现类</li>
</ul>
<hr>
<ul>
<li><strong>Constructors</strong></li>
<li><strong>注</strong>：<strong>读取文件操作前提，文件必须存在。否则报FileNotException异常！！！</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>FileReader(<strong>File</strong> file)</td>
<td>给定File对象创建一个FileReader实例<br/>文件不存在，报FileNotException</td>
</tr>
<tr>
<td>FileReader(<strong>FileDescriptor</strong> fd)</td>
<td>给定FileDescriptor创建一个FileReader实例<br/>文件不存在，报FileNotException</td>
</tr>
<tr>
<td>FileReader(<strong>String</strong> fileName)</td>
<td>给定文件路径创建一个FileReader实例<br/>文件不存在，报FileNotException</td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>int <strong>read</strong>()</td>
<td>每次读取<strong>一个字符</strong>，<br>返回值为<strong>字符Unicode编码</strong><br/>读取到文件末尾返回-1</td>
</tr>
<tr>
<td>int <strong>read</strong>(char[] cbuf)</td>
<td>每次读取<strong>一个cbuf长度的字符</strong>，并存入cbuf数组<br/>返回值为每次<strong>已读取的字符个数</strong><br>返回每次实际读取到字符个数，文件末尾返回-1</td>
</tr>
<tr>
<td>int <strong>read</strong>(char[] cbuf,  int off, int len)</td>
<td>每次读取len长度的字符数，并从cbuf的off索引开始存入<br/>read(char[] cbuf,0,cbuf.length) 等价read(char[] cbuf)<br/>返回每次实际读取到字符个数，文件末尾返回-1</td>
</tr>
<tr>
<td>int <strong>read</strong>(CharBuffer target)</td>
<td>试图将字符读入指定的字符缓冲区。</td>
</tr>
<tr>
<td>boolean <strong>ready</strong>()</td>
<td>判断是否准备读取此流</td>
</tr>
<tr>
<td>void <strong>close</strong>()</td>
<td>关闭该流并释放与之关联的所有资源</td>
</tr>
<tr>
<td>void <strong>mark</strong>(int readAheadLimit)</td>
<td>标记流中的当前位置</td>
</tr>
<tr>
<td>boolean <strong>markSupported</strong>()</td>
<td>判断此流是否支持 mark() 操作</td>
</tr>
<tr>
<td>void <strong>reset</strong>()</td>
<td>重置该流。</td>
</tr>
<tr>
<td>long <strong>skip</strong>(long n)</td>
<td>跳过字符</td>
</tr>
</tbody></table>
<h4 id="FileWriter"><a href="#FileWriter" class="headerlink" title="FileWriter"></a>FileWriter</h4><ul>
<li><em>JDK-1.8-API</em>：FileWriter是Writer主要实现类，等同Writer的API</li>
</ul>
<hr>
<ul>
<li><strong>Constructors</strong></li>
<li><strong>注</strong>：<strong>写入文件操作，文件不一定存在，若不存在则自动创建，不会报FileNotException</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>FileWriter(<strong>File</strong> file)</td>
<td>传入一个File对象构造一个FileWriter对象。</td>
</tr>
<tr>
<td>FileWriter(<strong>File</strong> file,  <strong>boolean</strong> append)</td>
<td>传入一个File对象构造一个FileWriter对象，<br/>append指明write方法是否为追加数据操作，<br/>true为追加数据，false覆盖操作</td>
</tr>
<tr>
<td>FileWriter(<strong>FileDescriptor</strong> fd)</td>
<td>构造与文件描述符关联的FileWriter对象</td>
</tr>
<tr>
<td>FileWriter(<strong>String</strong> fileName)</td>
<td>构造一个给定文件名的FileWriter对象。</td>
</tr>
<tr>
<td>FileWriter(<strong>String</strong> fileName, <strong>boolean</strong> append)</td>
<td>构造一个FileWriter对象，<br/>给出一个带有布尔值的文件名表示是否附加写入的数据</td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
<li><strong>write</strong>()系列的方法若文件不存在，则自动创建，若文件存在，则<strong>覆盖该文件</strong>。</li>
<li><strong>追加数据操作</strong>需使用<strong>append</strong>()系列的方法，或<code>new FileWriter(file,ture)</code>，true表明追加数据标识</li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>void <strong>write</strong>(char[] cbuf)</td>
<td>写入一个字符数组。</td>
</tr>
<tr>
<td>void <strong>write</strong>(char[] cbuf,  int off, int len)</td>
<td>每次从cbuf数组的off索引开始取len长度的数据写入文件中</td>
</tr>
<tr>
<td>void <strong>write</strong>(int c)</td>
<td>写一个字符</td>
</tr>
<tr>
<td>void <strong>write</strong>(String str)</td>
<td>写一个字符串</td>
</tr>
<tr>
<td>void <strong>write</strong>(String str,  int off, int len)</td>
<td>写一个字符串的一部分</td>
</tr>
<tr>
<td>Writer <strong>append</strong>(char c)</td>
<td>将指定的字符附加到此文化末尾。</td>
</tr>
<tr>
<td>Writer <strong>append</strong>(CharSequence csq)</td>
<td>将指定的字符序列附加到文件末尾。</td>
</tr>
<tr>
<td>Writer <strong>append</strong>(CharSequence csq, int start,  int end)</td>
<td>将指定字符序列的子序列附加到此作者。</td>
</tr>
<tr>
<td>void <strong>flush</strong>()</td>
<td>刷新缓冲流，将缓冲区的数据强行输出到输出流中<br/>属于Writer的方法定义</td>
</tr>
<tr>
<td>void <strong>close</strong>()</td>
<td>关闭流，先刷新。</td>
</tr>
</tbody></table>
<h4 id="读取文本文件"><a href="#读取文本文件" class="headerlink" title="读取文本文件"></a>读取文本文件</h4><h5 id="read"><a href="#read" class="headerlink" title="read()"></a>read()</h5><ul>
<li><strong>核心代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//方式一编写，一般使用</span></span><br><span class="line"><span class="keyword">int</span> data;</span><br><span class="line"><span class="keyword">while</span>((data = fr.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.print((<span class="keyword">char</span>)data);<span class="comment">//asdasgar123</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//方式二编写</span></span><br><span class="line"><span class="keyword">int</span> data = fr.read();</span><br><span class="line"><span class="keyword">while</span>(data != -<span class="number">1</span>)&#123;</span><br><span class="line">    System.out.print((<span class="keyword">char</span>)data);</span><br><span class="line">    data = fr.read();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>完整代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;dir\\abc.txt&quot;</span>);<span class="comment">//asdasgar123</span></span><br><span class="line">        FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fr = <span class="keyword">new</span> FileReader(file);<span class="comment">//若文件不存FileNotException</span></span><br><span class="line">            <span class="keyword">int</span> data;</span><br><span class="line">            <span class="keyword">while</span>((data = fr.read()) != -<span class="number">1</span>)&#123;<span class="comment">//每次读取一个字符</span></span><br><span class="line">                System.out.print((<span class="keyword">char</span>)data);<span class="comment">//asdasgar123</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fr.close();<span class="comment">//关闭资源</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="read-char-cbuf"><a href="#read-char-cbuf" class="headerlink" title="read(char[] cbuf)"></a>read(char[] cbuf)</h5><ul>
<li><strong>核心代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line"><span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">    <span class="comment">//方式1：打印每次读取到的数据.注意遍历长度是len</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        System.out.print(cbuf[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//方式2：使用指定数组索引String的构造器</span></span><br><span class="line">    String str = <span class="keyword">new</span> String(cbuf,<span class="number">0</span>,len);</span><br><span class="line">    System.out.println(str);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>完整代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;dir//abc.txt&quot;</span>);</span><br><span class="line">        FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fr = <span class="keyword">new</span> FileReader(file);</span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">//方式1：打印每次读取到的数据.注意遍历长度是len</span></span><br><span class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                    System.out.print(cbuf[i]);</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println();</span><br><span class="line"></span><br><span class="line">                <span class="comment">//方式2：使用指定数组索引String的构造器</span></span><br><span class="line">                <span class="comment">//String str = new String(cbuf,0,len);</span></span><br><span class="line">                <span class="comment">//System.out.println(str);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="写入文本文件"><a href="#写入文本文件" class="headerlink" title="写入文本文件"></a>写入文本文件</h4><h5 id="write-String-str"><a href="#write-String-str" class="headerlink" title="write(String str)"></a>write(String str)</h5><ul>
<li><strong>核心代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fw = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">fw.write(<span class="string">&quot;Hello Java IO\n&quot;</span>);</span><br><span class="line">fw.write(<span class="string">&quot;Writer String Data&quot;</span>);</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>完整代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File file = <span class="keyword">new</span> File(<span class="string">&quot;dir//cde.txt&quot;</span>);</span><br><span class="line">        FileWriter fw = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fw = <span class="keyword">new</span> FileWriter(file);</span><br><span class="line">            fw.write(<span class="string">&quot;Hello Java IO\n&quot;</span>);</span><br><span class="line">            fw.write(<span class="string">&quot;Writer String Data&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fw != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fw.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="文本Copy示例"><a href="#文本Copy示例" class="headerlink" title="文本Copy示例"></a>文本Copy示例</h4><ul>
<li>将一个已经存在的文本文件复制到指定目录下(默认覆盖)</li>
<li><strong>仅适用与文本文件</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//abc.txt&quot;</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//test&quot;</span>,srcFile.getName());</span><br><span class="line">        FileReader fr = <span class="keyword">null</span>;</span><br><span class="line">        FileWriter fw = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            fr = <span class="keyword">new</span> FileReader(srcFile);</span><br><span class="line">            fw = <span class="keyword">new</span> FileWriter(destFile);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span>((len = fr.read(cbuf)) != -<span class="number">1</span>)&#123;<span class="comment">//读取</span></span><br><span class="line">                fw.write(cbuf,<span class="number">0</span>,len);<span class="comment">//写入</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(fr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(fw != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    fw.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数组流"><a href="#数组流" class="headerlink" title="数组流"></a>数组流</h2><ul>
<li>备份了解，</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ByteArrayOutputStreamTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test1</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">		FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;abc.txt&quot;</span>);</span><br><span class="line">		String info = readStringFromInputStream(fis);</span><br><span class="line">		System.out.println(info);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="keyword">private</span> String <span class="title">readStringFromInputStream</span><span class="params">(FileInputStream fis)</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">		<span class="comment">// 方式一：可能出现乱码</span></span><br><span class="line">		<span class="comment">// String content = &quot;&quot;;</span></span><br><span class="line">		<span class="comment">// byte[] buffer = new byte[1024];</span></span><br><span class="line">		<span class="comment">// int len;</span></span><br><span class="line">		<span class="comment">// while((len = fis.read(buffer)) != -1)&#123;</span></span><br><span class="line">		<span class="comment">// content += new String(buffer);</span></span><br><span class="line">		<span class="comment">// &#125;</span></span><br><span class="line">		<span class="comment">// return content;</span></span><br><span class="line"></span><br><span class="line">		<span class="comment">// 方式二：BufferedReader</span></span><br><span class="line">		BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(fis));</span><br><span class="line">		<span class="keyword">char</span>[] buf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">10</span>];</span><br><span class="line">		<span class="keyword">int</span> len;</span><br><span class="line">		String str = <span class="string">&quot;&quot;</span>;</span><br><span class="line">		<span class="keyword">while</span> ((len = reader.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">			str += <span class="keyword">new</span> String(buf, <span class="number">0</span>, len);</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> str;</span><br><span class="line"></span><br><span class="line">		<span class="comment">// 方式三：避免出现乱码</span></span><br><span class="line">		<span class="comment">// ByteArrayOutputStream baos = new ByteArrayOutputStream();</span></span><br><span class="line">		<span class="comment">// byte[] buffer = new byte[10];</span></span><br><span class="line">		<span class="comment">// int len;</span></span><br><span class="line">		<span class="comment">// while ((len = fis.read(buffer)) != -1) &#123;</span></span><br><span class="line">		<span class="comment">// baos.write(buffer, 0, len);</span></span><br><span class="line">		<span class="comment">// &#125;</span></span><br><span class="line">		<span class="comment">//</span></span><br><span class="line">		<span class="comment">// return baos.toString();</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="处理流"><a href="#处理流" class="headerlink" title="处理流"></a>处理流</h1><ul>
<li>回收资源时，先关闭外层的处理流，再关闭内层的节点流。</li>
<li><strong>实际操作中</strong>，<strong>仅需关闭外层的缓冲流即可</strong>，会<strong>自动关闭</strong>内层的节点流。</li>
</ul>
<h2 id="缓冲流"><a href="#缓冲流" class="headerlink" title="缓冲流"></a>缓冲流</h2><h3 id="基本概念-2"><a href="#基本概念-2" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li>通过对节点流进行”包裹“，提高流的读取写入速度。</li>
</ul>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><ul>
<li><p>为了提高数据读写的速度，Java API提供了带缓冲功能的流类，在使用这些流类 时，会创建一个内部缓冲区数组，默认使用8192个字节(8Kb)的缓冲区</p>
</li>
<li><p>当读取数据时，数据按块读入缓冲区，其后的读操作则直接访问缓冲区 </p>
<hr>
</li>
<li><p>当使用BufferedInputStream读取字节文件时，BufferedInputStream会一次性从文件中读取8192个(8Kb)，存在缓冲区中，直到缓冲区<strong>装满了</strong>(或文件内容结束)，才重新从文件中读取下一个8192个字节数组。</p>
</li>
<li><p>向流中写入字节时，不会直接写到文件，<strong>先写到缓冲区中直到缓冲区写满</strong>， BufferedOutputStream才会把缓冲区中的<strong>数据一次性写到文件里</strong>。</p>
</li>
<li><p>使用方法<strong>flush</strong>()可以强制<strong>将缓冲区的内容全部写入输出流</strong></p>
</li>
</ul>
<p><strong>小结</strong>：缓冲流的原理就是，内部再使用一个数组来存储读写的数据，而且每次都是一次性读满或写满后才进行下一步操作，加快用户的数据操作，与减少和文件系统的交互次数。</p>
<h3 id="字节流-2"><a href="#字节流-2" class="headerlink" title="字节流"></a>字节流</h3><h4 id="BufferedInputStream"><a href="#BufferedInputStream" class="headerlink" title="BufferedInputStream"></a>BufferedInputStream</h4><ul>
<li><strong>Constructor</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>BufferedInputStream(<strong>InputStream</strong> in)</td>
<td>给定InputStream对象创建一个<br/>BufferedInputStream对象</td>
</tr>
<tr>
<td>BufferedInputStream(<strong>InputStream</strong> in, <strong>int</strong> size)</td>
<td>给定InputStream对象创建一个<br/>BufferedInputStream对象<br/><strong>size用于指定缓冲区大小</strong></td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
<li>继承FileInputStream并重写部分方法，类同FileInputStream的API</li>
</ul>
<h4 id="BufferedOutputStream"><a href="#BufferedOutputStream" class="headerlink" title="BufferedOutputStream"></a>BufferedOutputStream</h4><ul>
<li><strong>Constructor</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>BufferedOutputStream(<strong>OutputStream</strong> out)</td>
<td>给定一个OutputStream 对象创建一个新的缓冲输出流，以将数据写入指定的底层输出流。</td>
</tr>
<tr>
<td>BufferedOutputStream(<strong>OutputStream</strong> out, <strong>int</strong> size)  。</td>
<td>给定一个OutputStream 对象，创建一个新的缓冲输出流，以便以指定的缓冲区大小将数据写入指定的底层输出流</td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
<li>继承FileOutputStream并重写了部分方法，同FileOutputStream的API</li>
<li>新增的API</li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>void <strong>flush</strong>()</td>
<td>刷新(清空)缓冲流的缓冲区，并将内容输出。<br/>write()方法,内部有自动调用</td>
</tr>
</tbody></table>
<h4 id="Copy示例"><a href="#Copy示例" class="headerlink" title="Copy示例"></a>Copy示例</h4><ul>
<li>通过缓存流实现文件字节流的Copy操作</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BufferTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//img.jpg&quot;</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//test&quot;</span>,srcFile.getName());</span><br><span class="line"></span><br><span class="line">        BufferedInputStream bis = <span class="keyword">null</span>;</span><br><span class="line">        BufferedOutputStream bos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(srcFile);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(destFile);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//包装节点流</span></span><br><span class="line">            bis = <span class="keyword">new</span> BufferedInputStream(fis);</span><br><span class="line">            bos = <span class="keyword">new</span> BufferedOutputStream(fos);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">byte</span>[] buff = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span>((len = bis.read(buff)) != -<span class="number">1</span>)&#123;<span class="comment">//读取</span></span><br><span class="line">                bos.write(buff,<span class="number">0</span>,len);<span class="comment">//写入</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(bis != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bis.close();<span class="comment">//自动关闭内部节点流</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(bos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bos.close();<span class="comment">//自动关闭内部节点流</span></span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="字符流-2"><a href="#字符流-2" class="headerlink" title="字符流"></a>字符流</h3><h4 id="BufferedReader"><a href="#BufferedReader" class="headerlink" title="BufferedReader"></a>BufferedReader</h4><ul>
<li><strong>Constructors</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>BufferedReader(<strong>Reader</strong> in)</td>
<td>给定Reader对象创建使用默认大小的输入缓冲区的缓冲字符输入流</td>
</tr>
<tr>
<td>BufferedReader(<strong>Reader</strong> in,  <strong>int</strong> sz)</td>
<td>给定Reader对象创建使用指定sz大小的输入缓冲区的缓冲字符输入流。</td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
<li>基本继承Reader方法，以下是新增的API</li>
</ul>
<table>
<thead>
<tr>
<th>New Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>Stream&lt;String&gt; <strong>lines</strong>()</td>
<td>返回一个 Stream ，其元素是从这个  BufferedReader读取的行</td>
</tr>
<tr>
<td>String <strong>readLine</strong>()</td>
<td>读取一行文字，返回的一行数据<strong>不包含换行符</strong><br/>读取到<strong>文件末尾返回null</strong></td>
</tr>
</tbody></table>
<h4 id="BufferedWriter"><a href="#BufferedWriter" class="headerlink" title="BufferedWriter"></a>BufferedWriter</h4><ul>
<li><strong>Constructors</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>BufferedWriter(<strong>Writer</strong> out)</td>
<td>创建使用默认大小的输出缓冲区的缓冲字符输出流。</td>
</tr>
<tr>
<td>BufferedWriter(<strong>Writer</strong> out,  <strong>int</strong> sz)</td>
<td>创建一个新的缓冲字符输出流，使用给定大小的输出缓冲区。</td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
<li>基本继承Writer，Writer又被FileWrtier继承实现，可以参照FileWriter的API，以下是新增的API</li>
</ul>
<table>
<thead>
<tr>
<th>New Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>vodi <strong>flush</strong>()</td>
<td>刷新流，将缓冲区数据强制输出到输出流中<br/>write()方法,内部有自动调用</td>
</tr>
<tr>
<td>void <strong>newLine</strong>()</td>
<td>输出一个换行符，一般配合readLine()使用(不包含换行)</td>
</tr>
<tr>
<td>void <strong>write</strong>(String s,  int off, int len)</td>
<td>写一个字符串的一部分</td>
</tr>
</tbody></table>
<h4 id="Copy示例-1"><a href="#Copy示例-1" class="headerlink" title="Copy示例"></a>Copy示例</h4><ul>
<li>采用BufferedReader和BufferedWriter新API</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.node;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-15 17:30</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//abc.txt&quot;</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">&quot;dir//test&quot;</span>,srcFile.getName());</span><br><span class="line"></span><br><span class="line">        BufferedReader br = <span class="keyword">null</span>;</span><br><span class="line">        BufferedWriter bw = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileReader fr = <span class="keyword">new</span> FileReader(srcFile);</span><br><span class="line">            FileWriter fw = <span class="keyword">new</span> FileWriter(destFile);</span><br><span class="line"></span><br><span class="line">            br = <span class="keyword">new</span> BufferedReader(fr);</span><br><span class="line">            bw = <span class="keyword">new</span> BufferedWriter(fw);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//新方式</span></span><br><span class="line">            String str = <span class="keyword">null</span>;</span><br><span class="line">            <span class="keyword">while</span>((str = br.readLine()) != <span class="keyword">null</span>)&#123;<span class="comment">//一行行读取,不包含换行符</span></span><br><span class="line">                bw.write(str);</span><br><span class="line">                bw.newLine();<span class="comment">//补充换行符</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//旧方式</span></span><br><span class="line"><span class="comment">//            int len = -1;</span></span><br><span class="line"><span class="comment">//            char[] cbuf = new char[1024];</span></span><br><span class="line"><span class="comment">//            while((len = br.read(cbuf)) != -1)&#123;//读取</span></span><br><span class="line"><span class="comment">//                bw.write(cbuf,0,len);//写入</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">        &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(br != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    br.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(bw != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    bw.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="转换流"><a href="#转换流" class="headerlink" title="转换流"></a>转换流</h2><h3 id="基本概念-3"><a href="#基本概念-3" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li><p>转换流提供了在<strong>字节流和字符流之间的转换</strong></p>
</li>
<li><p>Java API提供了两个转换流：从类型上均属于字符流(看后缀)</p>
<ul>
<li><strong>InputStreamReader</strong>：将InputStream转换为Reader</li>
<li><strong>OutputStreamWriter</strong>：将Writer转换为OutputStream</li>
</ul>
</li>
</ul>
<h3 id="InputStreamReader"><a href="#InputStreamReader" class="headerlink" title="InputStreamReader"></a>InputStreamReader</h3><ul>
<li><p>将InputStream转换为Reader</p>
</li>
<li><p><strong>Construcors</strong></p>
</li>
<li><p><strong>tips</strong>：下列构造器指示的字符集属于<strong>解码字符集</strong>，但最终目的转换的字符集固定为Unicode(Java)</p>
</li>
<li><p>指示解码字符集的作用只是表明将二进制数据以指定字符集方式转换Unicode编码，如：</p>
<ul>
<li>指定解码字符集为GBK，则底层转码过程为：二进制 —GBK解析—&gt; Unicode</li>
<li>指定解码字符集为UTF-8，则底层转码过程为：二进制 —UTF-8解析—&gt; Unicode</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>InputStreamReader(<strong>InputStream</strong> in)</td>
<td>创建一个使用<strong>默认字符集</strong>的InputStreamReader，<br/>该字符集指<strong>解码字符集</strong>，即程序设置的字符集，非文件所在文件系统的字符集。</td>
</tr>
<tr>
<td>InputStreamReader(InputStream in, <strong>String</strong> charsetName)</td>
<td>创建一个使用指定字符集的InputStreamReader<br><strong>tips</strong>：指定的是<strong>解码字符集</strong>，建议基于<strong>文件存储时使用的编码字符集而定</strong>。</td>
</tr>
<tr>
<td>InputStreamReader(<strong>InputStream</strong> in, <strong>Charset</strong> cs)</td>
<td>创建一个使用给定字符集创建InputStreamReader。</td>
</tr>
<tr>
<td>InputStreamReader(InputStream in, <strong>CharsetDecoder</strong> dec)</td>
<td>创建一个使用给定字符集解码器的InputStreamReader</td>
</tr>
</tbody></table>
<ul>
<li><strong>Methods</strong></li>
<li>转后后的字符流继承Reader，因此方法的API类似FileReader</li>
</ul>
<h3 id="OutputStreamWriter"><a href="#OutputStreamWriter" class="headerlink" title="OutputStreamWriter"></a>OutputStreamWriter</h3><ul>
<li>将Writer转换为OutputStream</li>
</ul>
<h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><h4 id="字节流不乱码"><a href="#字节流不乱码" class="headerlink" title="字节流不乱码"></a>字节流不乱码</h4><ul>
<li><p>转换流可以<strong>弥补字节流</strong>在<strong>终端、Java程序中、内存</strong>中直接显示<strong>某些字符</strong>(中文**)乱码**的情况</p>
</li>
<li><p>即将通过字节流读取的文本文件，转换为字符流后在程序中进行输出，则解决了乱码</p>
</li>
</ul>
<hr>
<ul>
<li><strong>示例代码</strong>：通过字节流读取一个UTF-8编码的文本文件(含中文)，并通过转换流成功输出到控制台</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.deal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 字节流读取一个UTF-8编码的文本文件(含中文)，并通过转换流成功输出到控制台</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-16 21:15</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InputStreamReaderTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        InputStreamReader isr = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;dir\\dbcp.txt&quot;</span>);</span><br><span class="line">            isr = <span class="keyword">new</span> InputStreamReader(fis,<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>((len = isr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                System.out.println(<span class="keyword">new</span> String(cbuf,<span class="number">0</span>,len));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(isr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    isr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="字符集转换功能"><a href="#字符集转换功能" class="headerlink" title="字符集转换功能"></a>字符集转换功能</h4><ul>
<li><p>转换流可以对文本文件<strong>自定义地</strong>进行<strong>指定字符集</strong>的<strong>解码和编码操作</strong></p>
</li>
<li><p>如下图时是通过<strong>字节流读取</strong>的<strong>UTF-8编码文件转换为GBK编码</strong>文件后再通过<strong>字节流传输出</strong>去过程：</p>
</li>
</ul>
<p><img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://gitee.com/yihangdeng/blogImage/raw/master/img/20210616204024.png"
                     
                ></p>
<hr>
<ul>
<li><strong>示例代码</strong>：将从字节流获取的UTF-8编码转码成GBK编码后再通过字节流送出</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.deal;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-16 21:51</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TranscoderTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        InputStreamReader isr = <span class="keyword">null</span>;</span><br><span class="line">        OutputStreamWriter osw = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;dir//dbcp.txt&quot;</span>);</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;dir//test//dbcp_gbk.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">            isr = <span class="keyword">new</span> InputStreamReader(fis,<span class="string">&quot;UTF-8&quot;</span>);<span class="comment">//解码字符集</span></span><br><span class="line">            osw = <span class="keyword">new</span> OutputStreamWriter(fos,<span class="string">&quot;GBK&quot;</span>);<span class="comment">//编码字符集</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">char</span>[] cbuf = <span class="keyword">new</span> <span class="keyword">char</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">while</span>((len = isr.read(cbuf)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                osw.write(cbuf,<span class="number">0</span>,len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(isr != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    isr.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(osw != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    osw.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="标准输入输出流"><a href="#标准输入输出流" class="headerlink" title="标准输入输出流"></a>标准输入输出流</h2><ul>
<li><p>System封装了系统级的很多属性和控制方法，其中含三个静态属性属于流对象</p>
<table>
<thead>
<tr>
<th>静态属性</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>static PrintStream <strong>out</strong></td>
<td>“标准”输出流</td>
</tr>
<tr>
<td>static InputStream <strong>in</strong></td>
<td>“标准”输入流</td>
</tr>
<tr>
<td>static PrintStream <strong>err</strong></td>
<td>“标准”错误输出流</td>
</tr>
</tbody></table>
</li>
<li><p>默认输入设备是：<strong>键盘</strong>，输出设备是：<strong>显示器</strong> </p>
</li>
<li><p>System.in的类型是InputStream</p>
</li>
<li><p>System.out的类型是<strong>PrintStream</strong>(打印流)，其是OutputStream的子类 FilterOutputStream 的子类</p>
</li>
<li><p><strong>重定向</strong>：通过System类的<strong>setIn</strong>()，<strong>setOut</strong>()方法对输入输出得默认设备进行改变。</p>
<ul>
<li>public static void setIn(InputStream in) </li>
<li>public static void setOut(PrintStream out)</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><strong>示例代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.system;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Locale;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 从键盘输入字符串，要求将读取到的整行字符串转成大写输出。然后继续</span></span><br><span class="line"><span class="comment"> * 进行输入操作，直至当输入“e”或者“exit”时，退出程序。</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-16 22:25</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SystemIOTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        InputStream is = System.in;</span><br><span class="line">        InputStreamReader isr = <span class="keyword">new</span> InputStreamReader(is);</span><br><span class="line">        BufferedReader br = <span class="keyword">new</span> BufferedReader(isr);</span><br><span class="line">        String str = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="keyword">true</span>)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;请输入一行字符,回车后输出大写&quot;</span>);</span><br><span class="line">                str = br.readLine();</span><br><span class="line">                <span class="keyword">if</span>(<span class="string">&quot;e&quot;</span>.equalsIgnoreCase(str) || <span class="string">&quot;exit&quot;</span>.equalsIgnoreCase(str))&#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;退出程序...&quot;</span>);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(str.toUpperCase(Locale.ROOT));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (FileNotFoundException e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(br != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    br.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="打印流"><a href="#打印流" class="headerlink" title="打印流"></a>打印流</h2><ul>
<li>实现将<strong>基本数据类型</strong>的数据格式转化为<strong>字符串输出</strong></li>
<li>打印流：<strong>PrintStream</strong>和<strong>PrintWriter</strong><ul>
<li>提供了一系列重载的<strong>print</strong>()和<strong>println</strong>()方法，用于多种数据类型的输出</li>
<li>PrintStream和PrintWriter的输出不会抛出IOException异常</li>
<li>PrintStream和PrintWriter有自动flush功能</li>
<li>PrintStream 打印的所有字符都使用平台的默认字符编码转换为字节。 在需要写入字符而不是写入字节的情况下，应该使用 PrintWriter 类。</li>
<li><strong>System.out返回的就是是PrintStream的实例</strong></li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><strong>示例代码</strong>：创建打印流，并设置System.out.print()的输出重定向到该打印流中。</li>
<li>即将控制台的输出内容不在控制台输出，而是存储到指定文件中。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test2</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    PrintStream ps = <span class="keyword">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="keyword">new</span> File(<span class="string">&quot;D:\\IO\\text.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// 创建打印输出流,设置为自动刷新模式(写入换行符或字节 &#x27;\n&#x27; 时都会刷新输出缓冲区)</span></span><br><span class="line">        ps = <span class="keyword">new</span> PrintStream(fos, <span class="keyword">true</span>);</span><br><span class="line">        <span class="keyword">if</span> (ps != <span class="keyword">null</span>) &#123;</span><br><span class="line">            System.setOut(ps); <span class="comment">// 把标准输出流(控制台输出)重定向到指定输出流(指定文件)</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//打印0~255数字的字符，每50个字符换行一次</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">255</span>; i++) &#123; <span class="comment">// 输出ASCII字符</span></span><br><span class="line">            System.out.print((<span class="keyword">char</span>) i); </span><br><span class="line">            <span class="keyword">if</span> (i % <span class="number">50</span> == <span class="number">0</span>) &#123; <span class="comment">// 每50个数据一行</span></span><br><span class="line">                System.out.println(); <span class="comment">// 换行</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (ps != <span class="keyword">null</span>) &#123;</span><br><span class="line">            ps.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="数据流"><a href="#数据流" class="headerlink" title="数据流"></a>数据流</h2><ul>
<li><strong>基本概念</strong><ul>
<li>数据流：<strong>DataInputStream</strong> 和 <strong>DataOutputStream</strong></li>
<li>构造器时使用时套接对应的InputStream和OutputStream</li>
</ul>
</li>
<li><strong>作用</strong>：<ul>
<li>用于读取或<strong>写出基本数据类型的变量或字符串</strong></li>
<li>即用于Java内存中的基本数据类型和字符串类型数据的持久化操作。</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li><strong>示例代码</strong></li>
<li>注意：处理异常的话，仍然应该使用try-catch-finally.</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	练习：将内存中的字符串、基本数据类型的变量写出到文件中。</span></span><br><span class="line"><span class="comment">	注意：处理异常的话，仍然应该使用try-catch-finally.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test3</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    DataOutputStream dos = <span class="keyword">new</span> DataOutputStream(<span class="keyword">new</span> FileOutputStream(<span class="string">&quot;data.txt&quot;</span>));</span><br><span class="line">    </span><br><span class="line">    dos.writeUTF(<span class="string">&quot;刘建辰&quot;</span>);</span><br><span class="line">    dos.flush();<span class="comment">//刷新操作，将内存中的数据写入文件</span></span><br><span class="line">    dos.writeInt(<span class="number">23</span>);</span><br><span class="line">    dos.flush();</span><br><span class="line">    dos.writeBoolean(<span class="keyword">true</span>);</span><br><span class="line">    dos.flush();</span><br><span class="line"></span><br><span class="line">    dos.close();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">	将文件中存储的基本数据类型变量和字符串读取到内存中，保存在变量中。</span></span><br><span class="line"><span class="comment">	注意点：读取不同类型的数据的顺序要与当初写入文件时，保存的数据的顺序一致！</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test4</span><span class="params">()</span> <span class="keyword">throws</span> IOException </span>&#123;</span><br><span class="line">    DataInputStream dis = <span class="keyword">new</span> DataInputStream(<span class="keyword">new</span> FileInputStream(<span class="string">&quot;data.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">    String name = dis.readUTF();</span><br><span class="line">    <span class="keyword">int</span> age = dis.readInt();</span><br><span class="line">    <span class="keyword">boolean</span> isMale = dis.readBoolean();</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">    System.out.println(<span class="string">&quot;age = &quot;</span> + age);</span><br><span class="line">    System.out.println(<span class="string">&quot;isMale = &quot;</span> + isMale);</span><br><span class="line"></span><br><span class="line">    dis.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="对象流"><a href="#对象流" class="headerlink" title="对象流"></a>对象流</h2><h3 id="基本概念-4"><a href="#基本概念-4" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li><p><strong>对象流</strong>：<strong>ObjectInputStream</strong>和<strong>OjbectOutputSteam</strong></p>
</li>
<li><p>构造器时使用时套接对应的InputStream和OutputStream</p>
</li>
<li><p>用于存储和读取<strong>基本数据类型</strong>数据或<strong>Java对象</strong>的处理流。</p>
</li>
<li><p>它的强大之处就是可以把<strong>Java中的对象</strong>写入到数据源中，也能把对象从数据源中还原回来。</p>
<ul>
<li><strong>序列化</strong>：用ObjectOutputStream类保存基本类型数据或对象的机制</li>
<li><strong>反序列化</strong>：用ObjectInputStream类读取基本类型数据或对象的机制</li>
</ul>
</li>
<li><p>ObjectOutputStream和ObjectInputStream<strong>不能序列化static和transient修饰的成员变量</strong></p>
</li>
</ul>
<h3 id="对象的序列化"><a href="#对象的序列化" class="headerlink" title="对象的序列化"></a>对象的序列化</h3><h4 id="序列化的实现"><a href="#序列化的实现" class="headerlink" title="序列化的实现"></a>序列化的实现</h4><ul>
<li>对象序列化机制允许把内存中的<strong>Java对象转换成平台无关的二进制流</strong>，从 而允许把这种二进制流持久地<strong>保存在磁盘上</strong>，或通过<strong>网络将这种二进制流传输到另一个网络节点</strong>。</li>
<li>当其它程序获取了这种二进制流，就可以恢复成原 来的Java对象。</li>
<li>序列化的好处在于可将任何实现了Serializable接口的对象转化为字节数据， 使其在保存和传输时可被还原 </li>
<li>序列化是 RMI（Remote Method Invoke – 远程方法调用）过程的参数和返回值都必须实现的机制，而 RMI 是 JavaEE 的基础。因此序列化机制是 JavaEE 平台的基础</li>
<li>如果需要让某个对象支持序列化机制，则必须让对象所属的类及其属性是可序列化的，</li>
</ul>
<hr>
<ul>
<li><p><strong>为了让某个类是可序列化的，需要两步</strong>：</p>
<p><strong>注</strong>：<strong>以下操作包含其类及其内部所有属性都必须实现这两步! ! !</strong></p>
<ol>
<li>该类必须实现如下两个接口之一。 否则，会抛出NotSerializableException异常<ul>
<li><strong>Serializable</strong>：标识接口，没有任何方法需要实现</li>
<li>Externalizable</li>
</ul>
</li>
<li>添加public static final long <strong>serialVersionUID</strong>，并且给定一个值，可以随便写</li>
</ol>
</li>
</ul>
<h4 id="serialVersionUID"><a href="#serialVersionUID" class="headerlink" title="serialVersionUID"></a>serialVersionUID</h4><ul>
<li><p>凡是实现Serializable接口的类都有一个表示<strong>序列化的类的版本</strong>标识符的静态变量：</p>
<ul>
<li>private static final long serialVersionUID; </li>
<li>serialVersionUID用来表明类的不同版本间的兼容性。</li>
<li>简言之，其目的是以序列化对象进行版本控制，有关各版本反序列化时是否兼容。</li>
<li>如果类没有显示定义这个静态常量，它的值是Java运行时环境根据类的<strong>内部细节自动生成的</strong>。若类的结构做了修改(如增加了属性、方法…修改了方法名，类名等)，自动生成的serialVersionUID 可能发生变化，此时再进行反序列化时，JVM就识别不是同一个类版本，报出异常。故建议， 显式声明。</li>
<li>简单来说，Java的序列化机制是通过在运行时判断类的serialVersionUID来验证版本一致性的。在进行反序列化时，JVM会把传来的字节流中的 serialVersionUID与本地相应实体类的serialVersionUID进行比较，如果相同就认为是一致的，可以进行反序列化，否则就会出现序列化<strong>类的版本不一致的异常</strong>。(InvalidCastException)</li>
</ul>
<p>小结：简单来说就是保证用于序列化的Person类的结构，(如通过网络传输给另一个系统)是和反序列化时是同一个Person结构</p>
</li>
</ul>
<hr>
<h3 id="示例代码-4"><a href="#示例代码-4" class="headerlink" title="示例代码"></a>示例代码</h3><h4 id="可序列化类"><a href="#可序列化类" class="headerlink" title="可序列化类"></a>可序列化类</h4><ul>
<li><strong>示例代码</strong>：为其自定义类及其所有属性实现Serializable接口与添加serialVersionUID属性</li>
<li><strong>Person.java</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-17 8:29</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//声明该类的序列化版本ID</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">888123L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//内部已实现了Serializable和定义了serialVersionUID</span></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Account account;<span class="comment">//还需序列化基础设置</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name, <span class="keyword">int</span> age, Account account)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">        <span class="keyword">this</span>.account = account;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, account=&quot;</span> + account +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>Account.java</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.Serializable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-17 8:32</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Account</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//声明该类的序列化版本ID</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">999123L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> balance;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Account</span><span class="params">(<span class="keyword">double</span> balance)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Account&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;balance=&quot;</span> + balance +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="序列化与反序列化"><a href="#序列化与反序列化" class="headerlink" title="序列化与反序列化"></a>序列化与反序列化</h4><ul>
<li><strong>示例代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-17 8:01</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObjectOutputStreamTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        serialize();</span><br><span class="line">        deSerialize();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//序列化操作</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">serialize</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ObjectOutputStream oos = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileOutputStream fos = <span class="keyword">new</span> FileOutputStream(<span class="string">&quot;dir//Person.bat&quot;</span>);</span><br><span class="line">            oos = <span class="keyword">new</span> ObjectOutputStream(fos);</span><br><span class="line"></span><br><span class="line">            Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Priscilla&quot;</span>, <span class="number">23</span>, <span class="keyword">new</span> Account(<span class="number">88.8</span>));</span><br><span class="line">            oos.writeObject(person);<span class="comment">//可以进行多次操作,对应反序列化时也需按序操作，类数据流使用原则</span></span><br><span class="line">            oos.writeObject(<span class="keyword">new</span> String(<span class="string">&quot;testString&quot;</span>));</span><br><span class="line"></span><br><span class="line">            oos.flush();<span class="comment">//刷新缓冲区，即讲所有数据一次性写出。</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(oos != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    oos.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//反序列化操作</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">deSerialize</span><span class="params">()</span></span>&#123;</span><br><span class="line">        ObjectInputStream ois = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileInputStream fis = <span class="keyword">new</span> FileInputStream(<span class="string">&quot;dir//Person.bat&quot;</span>);</span><br><span class="line">            ois = <span class="keyword">new</span> ObjectInputStream(fis);</span><br><span class="line"></span><br><span class="line">            Person person = (Person) ois.readObject();<span class="comment">//按序列化数据顺序反序列化</span></span><br><span class="line">            String str = (String) ois.readObject();</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;person = &quot;</span> + person);</span><br><span class="line">            System.out.println(<span class="string">&quot;str = &quot;</span> + str);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(ois != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    ois.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="随机存取文件流"><a href="#随机存取文件流" class="headerlink" title="随机存取文件流"></a>随机存取文件流</h2><h3 id="基本概念-5"><a href="#基本概念-5" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li>RandomAccessFile 声明在java.io包下，但<strong>直接继承于java.lang.Object类</strong>。并且它实现了DataInput、DataOutput这两个接口(非对象流)，也就意味着这个类<strong>既可以读也可以写</strong>。</li>
<li>RandomAccessFile 类支持 “随机访问” 的方式，程序可以直接<strong>跳到文件的任意地方进行读写操作</strong><ul>
<li>支持只访问文件的部分内容</li>
<li>可以向已存在的文件后追加内容</li>
</ul>
</li>
<li>RandomAccessFile 对象包含一个记录指针，用以标示当前读写处的位置。 </li>
<li>RandomAccessFile 类对象可以自由移动记录指针：<ul>
<li>long <strong>getFilePointer</strong>()：获取文件记录指针的当前位置</li>
<li>void <strong>seek</strong>(long pos)：将文件记录指针定位到 pos 位置</li>
</ul>
</li>
</ul>
<p><strong>tips</strong>：有点像C语言的文件操作结构体</p>
<hr>
<ul>
<li><strong>应用场景</strong>：可以用RandomAccessFile这个类，来实现一个<strong>多线程断点下载的功能</strong>， 用过下载工具的朋友们都知道，下载前都会建立<strong>两个临时文件</strong>，一个是与被下载<strong>文件大小相同的空文件</strong>，<strong>另一个是记录文件指针的位置文件</strong>，每次 暂停的时候，都会保存上一次的指针，然后断点下载的时候，会继续从上 一次的地方下载，从而实现断点下载或上传的功能。</li>
</ul>
<h3 id="API"><a href="#API" class="headerlink" title="API"></a>API</h3><ul>
<li><strong>Constructors</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Constructor</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>public RandomAccessFile(<strong>File</strong> file, <strong>String</strong> mode)</td>
<td>通过mode指明访问模式，并给定File对象创建实例</td>
</tr>
<tr>
<td>public RandomAccessFile(<strong>String</strong> name, <strong>String</strong> mode)</td>
<td>通过mode指明访问模式，并给定文件路径创建实例</td>
</tr>
</tbody></table>
<ul>
<li><strong>Field - String mode</strong></li>
</ul>
<table>
<thead>
<tr>
<th>Mode</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td><strong>r</strong></td>
<td>以<strong>只读方式打开</strong>，不存在则会出现异常</td>
</tr>
<tr>
<td><strong>rw</strong></td>
<td>打开以便<strong>读取和写入</strong>，文件不存在则会去创建文件，<br/>如果存在则<strong>不会将整个文件全部覆盖</strong>，<br/>而是把数据从文件指针位置开始覆盖写入内容，写多少覆盖多少(指针默认文件开头)</td>
</tr>
<tr>
<td><strong>rwd</strong></td>
<td>打开以便<strong>读取和写入</strong>；同步文件<strong>内容的更新</strong></td>
</tr>
<tr>
<td><strong>rws</strong></td>
<td>打开以便<strong>读取和写入</strong>；同步文件<strong>内容和元数据的更新</strong></td>
</tr>
</tbody></table>
<p><strong>注</strong>：JDK 1.6上面写的每次write数据时，“rw”模式，数据不会立即写到硬盘中；而rwd”，数据会被立即写入硬盘。如果写数据过程发生异常，“rwd“模式中已被write的数据被保存到硬盘，而”rw“则全部丢失。</p>
<ul>
<li><strong>Methods</strong></li>
<li>RandomAccessFile主要继承了数据流DataInput和DataOutput，数据流也实现这些接口，因此含数据流的API</li>
<li>RandomAccessFile自定义和实现了，类InputStream和OutputStream的read()writer()方法</li>
<li>以下再补充RandomAccessFile特有的常用的新API</li>
</ul>
<table>
<thead>
<tr>
<th>Method</th>
<th>Descriptions</th>
</tr>
</thead>
<tbody><tr>
<td>long <strong>getFilePointer</strong>()</td>
<td>获取文件记录指针的当前位置</td>
</tr>
<tr>
<td>void <strong>seek</strong>(long pos)</td>
<td>将文件记录指针定位到pos 位置，单位为字节，位置从0开始计算<br/><strong>tips</strong>：定位到末尾可以使用seek(file.length)</td>
</tr>
<tr>
<td>…….</td>
<td></td>
</tr>
</tbody></table>
<h3 id="示例代码-5"><a href="#示例代码-5" class="headerlink" title="示例代码"></a>示例代码</h3><h4 id="Copy"><a href="#Copy" class="headerlink" title="Copy"></a>Copy</h4><ul>
<li><strong>示例代码</strong></li>
<li>如果只在一个文件中进行读写操作，则一个RandomAccessFile对象即刻完成</li>
<li>如果是复制，移动到其他路径下的操作，则需要多一个RandomAccessFile指明目标文件路径</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.RandomAccessFile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-17 9:04</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RandomAccessTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        RandomAccessFile raf1 = <span class="keyword">null</span>;</span><br><span class="line">        RandomAccessFile raf2 = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            raf1 = <span class="keyword">new</span> RandomAccessFile(<span class="string">&quot;dir//img.jpg&quot;</span>,<span class="string">&quot;r&quot;</span>);</span><br><span class="line">            raf2 = <span class="keyword">new</span> RandomAccessFile(<span class="string">&quot;dir//test//raf_img.jpg&quot;</span>,<span class="string">&quot;rw&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">byte</span>[] buff = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span>((len = raf1.read(buff)) != -<span class="number">1</span>)&#123;<span class="comment">//数据读取</span></span><br><span class="line">                raf2.write(buff,<span class="number">0</span>,len);<span class="comment">//数据写入</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(raf1 != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    raf1.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(raf2 != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    raf2.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="数据插入"><a href="#数据插入" class="headerlink" title="数据插入"></a>数据插入</h4><ul>
<li>由于直接插入回对原有数据进行部分或全部覆盖</li>
<li>因此插入前，需把插入位置后的所有数据先保存下来(文件指针已在末尾)</li>
<li>把插入的数据和插入位置后的所有数据一并插入到指定位置。实现传统意义上的数据插入</li>
</ul>
<hr>
<ul>
<li><strong>示例代码</strong></li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.website.io.other;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileNotFoundException;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.RandomAccessFile;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 在文件abc.txt中的abcghijk123，第3个位置插入def</span></span><br><span class="line"><span class="comment"> * 插入数据后的效果为：abcdefghijk123</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> yhd</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@create</span> 2021-06-17 9:04</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">RandomAccessTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        RandomAccessFile raf = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            File file = <span class="keyword">new</span> File(<span class="string">&quot;dir//abc.txt&quot;</span>);</span><br><span class="line">            raf = <span class="keyword">new</span> RandomAccessFile(file,<span class="string">&quot;rw&quot;</span>);<span class="comment">//abcghijk123</span></span><br><span class="line">            <span class="keyword">byte</span>[] buff = <span class="keyword">new</span> <span class="keyword">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="keyword">int</span> len = -<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//也可以使用数组流代替</span></span><br><span class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder((<span class="keyword">int</span>) file.length());<span class="comment">//提高效率</span></span><br><span class="line">            <span class="comment">//暂存插入位置后的所有数据</span></span><br><span class="line">            raf.seek(<span class="number">3</span>);</span><br><span class="line">            <span class="keyword">while</span>((len = raf.read(buff)) != -<span class="number">1</span>)&#123;<span class="comment">//此时文件指针已至末尾</span></span><br><span class="line">                sb.append(<span class="keyword">new</span> String(buff,<span class="number">0</span>,len));</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">//插入新增的数据</span></span><br><span class="line">            raf.seek(<span class="number">3</span>);<span class="comment">//重置文件指针到插入位置</span></span><br><span class="line">            <span class="keyword">byte</span>[] insert = <span class="string">&quot;def&quot;</span>.getBytes();</span><br><span class="line">            raf.write(insert);<span class="comment">//在插入位置写入数据</span></span><br><span class="line">            raf.write(sb.toString().getBytes());<span class="comment">//补充插入位置原有的数据</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(raf != <span class="keyword">null</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    raf.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="NIO-2"><a href="#NIO-2" class="headerlink" title="NIO.2"></a>NIO.2</h1><h2 id="基本概念-6"><a href="#基本概念-6" class="headerlink" title="基本概念"></a>基本概念</h2><h3 id="NIO概述"><a href="#NIO概述" class="headerlink" title="NIO概述"></a>NIO概述</h3><ul>
<li><p><strong>Java NIO</strong> (New IO，Non-Blocking IO/非阻塞IO)是从Java 1.4版本开始引入的一套新的IO API，可以替代标准的Java IO API。</p>
</li>
<li><p>NIO与原来的IO有同样的作用和目的，但是<strong>实现方式完全不同</strong>，NIO支持<strong>面向缓冲区的基于通道的IO操作</strong>(IO是面向流的)。</p>
</li>
<li><p><strong>NIO</strong>将以<strong>更加高效</strong>的方式进行文件的读写操作。 </p>
<hr>
</li>
<li><p>Java API中提供了两套NIO，一套是针对<strong>标准输入输出NIO</strong>，另一套就是<strong>网络编程NIO</strong>。</p>
</li>
<li><p><strong>java.nio.channels.Channel</strong></p>
<ol>
<li><strong>处理本地文件NIO</strong><ul>
<li>FileChannel：处理本地文件</li>
</ul>
</li>
<li><strong>网络编程NIO</strong><ul>
<li>SocketChannel：TCP网络编程的客户端的Channel</li>
<li>ServerSocketChannel：TCP网络编程的服务器端的Channel</li>
<li>DatagramChannel：UDP网络编程中发送端和接收端的Channe</li>
</ul>
</li>
</ol>
</li>
</ul>
<h3 id="NIO-2的出现"><a href="#NIO-2的出现" class="headerlink" title="NIO.2的出现"></a>NIO.2的出现</h3><ul>
<li><p>由于NIO的初始版本并不好用，以至于没有被大力推广。</p>
</li>
<li><p>随着 <strong>JDK 7</strong> 的发布，Java对NIO进行了<strong>极大的扩展</strong>，增强了对 文件处理和文件系统特性的支持，以至于我们称他们为 <strong>NIO.2</strong>。 因为 NIO 提供的一些功能，NIO已经成为文件处理中越来越重要 的部分。</p>
</li>
</ul>
<h2 id="Path"><a href="#Path" class="headerlink" title="Path"></a>Path</h2><h3 id="基本概念-7"><a href="#基本概念-7" class="headerlink" title="基本概念"></a>基本概念</h3><ul>
<li>早期的Java只提供了一个File类来访问文件系统，但File类的功能比较有限，所提供的方法性能也不高。而且，<strong>大多数方法在出错时仅返回失败，并不会提供异常信息</strong>（如renameTo()方法）。 </li>
<li>NIO. 2为了弥补这种不足，引入了Path接口，代表一个平台无关的平台路径，描述了目录结构中文件的位置。<strong>Path可以看成是File类的升级版本</strong>，实际引用的资源也可以不存在。</li>
</ul>
<hr>
<ul>
<li><p>在以前IO操作都是这样写的:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"></span><br><span class="line">File file = <span class="keyword">new</span> File(<span class="string">&quot;index.html&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>但在Java7中，我们可以这样写：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.nio.file.Path;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"></span><br><span class="line">Path path = Paths.get(<span class="string">&quot;index.html&quot;</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="常用API"><a href="#常用API" class="headerlink" title="常用API"></a>常用API</h3><ul>
<li><p>部分常用API，具体查询官方API</p>
<hr>
</li>
<li><p>String <strong>toString</strong>() ： 返回调用 Path 对象的字符串表示形式</p>
</li>
<li><p>boolean <strong>startsWith</strong>(String path) : 判断是否以 path 路径开始</p>
</li>
<li><p>boolean <strong>endsWith</strong>(String path) : 判断是否以 path 路径结束</p>
</li>
<li><p>boolean <strong>isAbsolute</strong>() : 判断是否是绝对路径</p>
</li>
<li><p>Path <strong>getParent</strong>() ：返回Path对象包含整个路径，不包含 Path 对象指定的文件路径</p>
</li>
<li><p>Path <strong>getRoot</strong>() ：返回调用 Path 对象的根路径</p>
</li>
<li><p>Path <strong>getFileName</strong>() : 返回与调用 Path 对象关联的文件名</p>
</li>
<li><p>int <strong>getNameCount</strong>() : 返回Path 根目录后面元素的数量</p>
</li>
<li><p>Path <strong>getName</strong>(int idx) : 返回指定索引位置 idx 的路径名称</p>
</li>
<li><p>Path <strong>toAbsolutePath</strong>() : 作为绝对路径返回调用 Path 对象</p>
</li>
<li><p>Path <strong>resolve</strong>(Path p) :合并两个路径，返回合并后的路径对应的Path对象</p>
</li>
<li><p>File <strong>toFile</strong>(): 将Path转化为File类的对象</p>
</li>
</ul>
<h2 id="Paths-amp-Files"><a href="#Paths-amp-Files" class="headerlink" title="Paths&amp;Files"></a>Paths&amp;Files</h2><ul>
<li>Paths和Files都是工具类，由NIO.2在java.nio.file包提供。</li>
</ul>
<h3 id="Paths-API"><a href="#Paths-API" class="headerlink" title="Paths-API"></a>Paths-API</h3><ul>
<li><p>部分常用API，具体查询官方API</p>
<hr>
</li>
<li><p>如Paths 类提供的静态 get() 方法用来获取 Path 对象： </p>
</li>
<li><p>static Path <strong>get</strong>(String first, String … more) : 用于将多个字符串串连成路径</p>
</li>
<li><p>static Path <strong>get</strong>(URI uri): 返回指定uri对应的Path路径</p>
</li>
</ul>
<h3 id="Files-API"><a href="#Files-API" class="headerlink" title="Files-API"></a>Files-API</h3><ul>
<li><p>部分常用API，具体查询官方API</p>
<hr>
</li>
<li><p>Path <strong>copy</strong>(Path src, Path dest, CopyOption … how) : 文件的复制</p>
</li>
<li><p>Path <strong>createDirectory</strong>(Path path, FileAttribute … attr) : 创建一个目录</p>
</li>
<li><p>Path <strong>createFile</strong>(Path path, FileAttribute … arr) : 创建一个文件</p>
</li>
<li><p>void <strong>delete</strong>(Path path) : 删除一个文件/目录，如果不存在，执行报错</p>
</li>
<li><p>void <strong>deleteIfExists</strong>(Path path) : Path对应的文件/目录如果存在，执行删除</p>
</li>
<li><p>Path <strong>move</strong>(Path src, Path dest, CopyOption…how) : 将 src 移动到 dest 位置</p>
</li>
<li><p>long <strong>size</strong>(Path path) : 返回 path 指定文件的大小</p>
<hr>
</li>
<li><p><strong>用于判断</strong></p>
<hr>
</li>
<li><p>boolean <strong>exists</strong>(Path path, LinkOption … opts) : 判断文件是否存在</p>
</li>
<li><p>boolean <strong>isDirectory</strong>(Path path, LinkOption … opts) : 判断是否是目录</p>
</li>
<li><p>boolean <strong>isRegularFile</strong>(Path path, LinkOption … opts) : 判断是否是文件</p>
</li>
<li><p>boolean <strong>isHidden</strong>(Path path) : 判断是否是隐藏文件</p>
</li>
<li><p>boolean <strong>isReadable</strong>(Path path) : 判断文件是否可读</p>
</li>
<li><p>boolean <strong>isWritable</strong>(Path path) : 判断文件是否可写</p>
</li>
<li><p>boolean <strong>notExists</strong>(Path path, LinkOption … opts) : 判断文件是否不存在</p>
<hr>
</li>
<li><p><strong>用于操作内容</strong></p>
<hr>
</li>
<li><p>SeekableByteChannel <strong>newByteChannel</strong>(Path path, OpenOption…how) : 获取与指定文件的连 接，how 指定打开方式。</p>
</li>
<li><p>DirectoryStream <strong>newDirectoryStream</strong>(Path path) : 打开 path 指定的目录</p>
</li>
<li><p>InputStream <strong>newInputStream</strong>(Path path, OpenOption…how):获取 InputStream 对象</p>
</li>
<li><p>OutputStream <strong>newOutputStream</strong>(Path path, OpenOption…how) : 获取 OutputStream 对象</p>
</li>
</ul>
<h1 id="第三方IO库"><a href="#第三方IO库" class="headerlink" title="第三方IO库"></a>第三方IO库</h1><h2 id="apache-commons-io"><a href="#apache-commons-io" class="headerlink" title="apache-commons-io"></a>apache-commons-io</h2><h3 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h3><p>Apache Commons  IO是Apache基金会创建并维护的Java函数库。它提供了许多类使得开发者的常见任务变得简单，同时减少重复（boiler-plate）代码，这些代码可能遍布于每个独立的项目中，你却不得不重复的编写。这些类由经验丰富的开发者维护，对各种问题的边界条件考虑周到，并持续修复相关bug。</p>
<h3 id="示例代码-6"><a href="#示例代码-6" class="headerlink" title="示例代码"></a>示例代码</h3><ul>
<li>FileUtils工具类使用实例代码：复制一个文件操作</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.commons.io.FileUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FileUtilsTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        File srcFile = <span class="keyword">new</span> File(<span class="string">&quot;img.jpg&quot;</span>);</span><br><span class="line">        File destFile = <span class="keyword">new</span> File(<span class="string">&quot;dir\\img.jpg&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            FileUtils.copyFile(srcFile,destFile);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>






        </div>

        
            <div class="post-copyright-info">
                <div class="article-copyright-info-container">
    <ul>
        <li>Post title：Java的File类及IO系统</li>
        <li>Post author：yhd</li>
        <li>Create time：2021-06-17 10:33:21</li>
        <li>
            Post link：https://keep.xpoet.cn/2021/06/17/Java的File类及IO系统/
        </li>
        <li>
            Copyright Notice：All articles in this blog are licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">BY-NC-SA</a> unless stating additionally.
        </li>
    </ul>
</div>

            </div>
        

        
            <div class="article-nav">
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2021/06/13/Java%E9%9B%86%E5%90%88/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">Java集合</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2020</span>&nbsp;-&nbsp;
            
            2021&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">yhd</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.1</a>
        </div>
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#File%E7%B1%BB"><span class="nav-number">1.</span> <span class="nav-text">File类</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="nav-number">1.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Constructor"><span class="nav-number">1.2.</span> <span class="nav-text">Constructor</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81"><span class="nav-number">1.2.1.</span> <span class="nav-text">示例代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#File-String-pathname"><span class="nav-number">1.2.1.1.</span> <span class="nav-text">File(String pathname)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#File-String-parent-String-child"><span class="nav-number">1.2.1.2.</span> <span class="nav-text">File(String parent,String child)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#File-File-parent-String-child"><span class="nav-number">1.2.1.3.</span> <span class="nav-text">File(File parent,String child)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E8%B7%AF%E5%BE%84"><span class="nav-number">1.2.2.</span> <span class="nav-text">文件路径</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%AF%E5%BE%84%E5%88%86%E9%9A%94%E7%AC%A6"><span class="nav-number">1.2.3.</span> <span class="nav-text">路径分隔符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E5%90%8C%E7%B3%BB%E7%BB%9F%E5%88%86%E9%9A%94%E7%AC%A6"><span class="nav-number">1.2.3.1.</span> <span class="nav-text">不同系统分隔符</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E5%88%86%E9%9A%94%E7%AC%A6"><span class="nav-number">1.2.3.2.</span> <span class="nav-text">动态分隔符</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Methods"><span class="nav-number">1.3.</span> <span class="nav-text">Methods</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF"><span class="nav-number">1.3.1.</span> <span class="nav-text">基础信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81-1"><span class="nav-number">1.3.1.1.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%87%8D%E5%91%BD%E5%90%8D"><span class="nav-number">1.3.2.</span> <span class="nav-text">重命名</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81-2"><span class="nav-number">1.3.2.1.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%A4%E6%96%AD"><span class="nav-number">1.3.3.</span> <span class="nav-text">判断</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%8E%E5%88%A0%E9%99%A4"><span class="nav-number">1.3.4.</span> <span class="nav-text">创建与删除</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81-3"><span class="nav-number">1.3.4.1.</span> <span class="nav-text">示例代码</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E5%BA%94%E7%94%A8"><span class="nav-number">1.3.5.</span> <span class="nav-text">常见应用</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E5%AE%9A%E5%90%8E%E7%BC%80%E6%96%87%E4%BB%B6"><span class="nav-number">1.3.5.1.</span> <span class="nav-text">指定后缀文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%89%93%E5%8D%B0%E6%89%80%E6%9C%89%E6%96%87%E4%BB%B6"><span class="nav-number">1.3.5.2.</span> <span class="nav-text">打印所有文件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%88%E5%BE%AA%E7%8E%AF%E5%90%8E%E5%88%86%E7%B1%BB"><span class="nav-number">1.3.5.2.1.</span> <span class="nav-text">先循环后分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%88%E5%88%86%E7%B1%BB%E5%90%8E%E5%BE%AA%E7%8E%AF"><span class="nav-number">1.3.5.2.2.</span> <span class="nav-text">先分类后循环</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A0%E9%99%A4%E7%9B%AE%E5%BD%95"><span class="nav-number">1.3.5.3.</span> <span class="nav-text">删除目录</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%88%E5%BE%AA%E7%8E%AF%E5%90%8E%E5%88%86%E7%B1%BB-1"><span class="nav-number">1.3.5.3.1.</span> <span class="nav-text">先循环后分类</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%88%E5%88%86%E7%B1%BB%E5%90%8E%E5%BE%AA%E7%8E%AF-1"><span class="nav-number">1.3.5.3.2.</span> <span class="nav-text">先分类后循环</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%A1%E7%AE%97%E7%9B%AE%E5%BD%95%E5%A4%A7%E5%B0%8F"><span class="nav-number">1.3.5.4.</span> <span class="nav-text">计算目录大小</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%88%E5%88%86%E7%B1%BB%E5%90%8E%E5%BE%AA%E7%8E%AF-2"><span class="nav-number">1.3.5.4.1.</span> <span class="nav-text">先分类后循环</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#IO%E6%B5%81%E6%A6%82%E8%BF%B0"><span class="nav-number">2.</span> <span class="nav-text">IO流概述</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-1"><span class="nav-number">2.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%86%E7%B1%BB"><span class="nav-number">2.2.</span> <span class="nav-text">分类</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">2.2.1.</span> <span class="nav-text">输入输出流</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-number">2.2.2.</span> <span class="nav-text">字节字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="nav-number">2.2.2.1.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%BC%E5%AE%B9%E4%BB%BB%E6%84%8F%E5%AD%97%E7%AC%A6%E9%9B%86%E5%8E%9F%E7%90%86"><span class="nav-number">2.2.2.1.1.</span> <span class="nav-text">兼容任意字符集原理</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%B8%8D%E5%85%BC%E5%AE%B9%E9%9D%9E%E6%96%87%E6%9C%AC%E7%B1%BB%E5%9E%8B%E5%8E%9F%E7%90%86"><span class="nav-number">2.2.2.1.2.</span> <span class="nav-text">不兼容非文本类型原理</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81"><span class="nav-number">2.2.2.2.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%BC%E5%AE%B9%E4%BB%BB%E6%84%8F%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E5%8E%9F%E5%9B%A0"><span class="nav-number">2.2.2.2.1.</span> <span class="nav-text">兼容任意文件类型原因</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E6%B5%81%E4%B8%8E%E5%A4%84%E7%90%86%E6%B5%81"><span class="nav-number">2.2.3.</span> <span class="nav-text">节点流与处理流</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#API%E4%BD%93%E7%B3%BB"><span class="nav-number">3.</span> <span class="nav-text">API体系</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E5%8C%BA%E8%AE%BE%E7%BD%AE"><span class="nav-number">4.</span> <span class="nav-text">缓冲区设置</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%BC%96%E7%A0%81%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86"><span class="nav-number">5.</span> <span class="nav-text">编码基础知识</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86%E5%85%BC%E5%AE%B9"><span class="nav-number">5.1.</span> <span class="nav-text">字符集兼容</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E7%BC%96%E7%A0%81%E8%BD%AC%E6%8D%A2"><span class="nav-number">5.2.</span> <span class="nav-text">字符编码转换</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%9A%E9%95%BF%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="nav-number">5.3.</span> <span class="nav-text">定长字符集</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%95%BF%E7%BC%96%E7%A0%81%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="nav-number">5.4.</span> <span class="nav-text">变长编码字符集</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%8A%82%E7%82%B9%E6%B5%81"><span class="nav-number">6.</span> <span class="nav-text">节点流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E6%B5%81"><span class="nav-number">6.1.</span> <span class="nav-text">文件流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81-1"><span class="nav-number">6.1.1.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FileInputStream"><span class="nav-number">6.1.1.1.</span> <span class="nav-text">FileInputStream</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FileOutputStream"><span class="nav-number">6.1.1.2.</span> <span class="nav-text">FileOutputStream</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9B%BE%E7%89%87Copy%E7%A4%BA%E4%BE%8B"><span class="nav-number">6.1.1.3.</span> <span class="nav-text">图片Copy示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81-1"><span class="nav-number">6.1.2.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#FileReader"><span class="nav-number">6.1.2.1.</span> <span class="nav-text">FileReader</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#FileWriter"><span class="nav-number">6.1.2.2.</span> <span class="nav-text">FileWriter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AF%BB%E5%8F%96%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="nav-number">6.1.2.3.</span> <span class="nav-text">读取文本文件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#read"><span class="nav-number">6.1.2.3.1.</span> <span class="nav-text">read()</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#read-char-cbuf"><span class="nav-number">6.1.2.3.2.</span> <span class="nav-text">read(char[] cbuf)</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%99%E5%85%A5%E6%96%87%E6%9C%AC%E6%96%87%E4%BB%B6"><span class="nav-number">6.1.2.4.</span> <span class="nav-text">写入文本文件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#write-String-str"><span class="nav-number">6.1.2.4.1.</span> <span class="nav-text">write(String str)</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E6%9C%ACCopy%E7%A4%BA%E4%BE%8B"><span class="nav-number">6.1.2.5.</span> <span class="nav-text">文本Copy示例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E7%BB%84%E6%B5%81"><span class="nav-number">6.2.</span> <span class="nav-text">数组流</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E6%B5%81"><span class="nav-number">7.</span> <span class="nav-text">处理流</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81"><span class="nav-number">7.1.</span> <span class="nav-text">缓冲流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-2"><span class="nav-number">7.1.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8E%9F%E7%90%86"><span class="nav-number">7.1.2.</span> <span class="nav-text">原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81-2"><span class="nav-number">7.1.3.</span> <span class="nav-text">字节流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BufferedInputStream"><span class="nav-number">7.1.3.1.</span> <span class="nav-text">BufferedInputStream</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BufferedOutputStream"><span class="nav-number">7.1.3.2.</span> <span class="nav-text">BufferedOutputStream</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Copy%E7%A4%BA%E4%BE%8B"><span class="nav-number">7.1.3.3.</span> <span class="nav-text">Copy示例</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81-2"><span class="nav-number">7.1.4.</span> <span class="nav-text">字符流</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#BufferedReader"><span class="nav-number">7.1.4.1.</span> <span class="nav-text">BufferedReader</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#BufferedWriter"><span class="nav-number">7.1.4.2.</span> <span class="nav-text">BufferedWriter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Copy%E7%A4%BA%E4%BE%8B-1"><span class="nav-number">7.1.4.3.</span> <span class="nav-text">Copy示例</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="nav-number">7.2.</span> <span class="nav-text">转换流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-3"><span class="nav-number">7.2.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#InputStreamReader"><span class="nav-number">7.2.2.</span> <span class="nav-text">InputStreamReader</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#OutputStreamWriter"><span class="nav-number">7.2.3.</span> <span class="nav-text">OutputStreamWriter</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-number">7.2.4.</span> <span class="nav-text">应用场景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E4%B8%8D%E4%B9%B1%E7%A0%81"><span class="nav-number">7.2.4.1.</span> <span class="nav-text">字节流不乱码</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86%E8%BD%AC%E6%8D%A2%E5%8A%9F%E8%83%BD"><span class="nav-number">7.2.4.2.</span> <span class="nav-text">字符集转换功能</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E6%B5%81"><span class="nav-number">7.3.</span> <span class="nav-text">标准输入输出流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%89%93%E5%8D%B0%E6%B5%81"><span class="nav-number">7.4.</span> <span class="nav-text">打印流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="nav-number">7.5.</span> <span class="nav-text">数据流</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E6%B5%81"><span class="nav-number">7.6.</span> <span class="nav-text">对象流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-4"><span class="nav-number">7.6.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">7.6.2.</span> <span class="nav-text">对象的序列化</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="nav-number">7.6.2.1.</span> <span class="nav-text">序列化的实现</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#serialVersionUID"><span class="nav-number">7.6.2.2.</span> <span class="nav-text">serialVersionUID</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81-4"><span class="nav-number">7.6.3.</span> <span class="nav-text">示例代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%AF%E5%BA%8F%E5%88%97%E5%8C%96%E7%B1%BB"><span class="nav-number">7.6.3.1.</span> <span class="nav-text">可序列化类</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96"><span class="nav-number">7.6.3.2.</span> <span class="nav-text">序列化与反序列化</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%9A%8F%E6%9C%BA%E5%AD%98%E5%8F%96%E6%96%87%E4%BB%B6%E6%B5%81"><span class="nav-number">7.7.</span> <span class="nav-text">随机存取文件流</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-5"><span class="nav-number">7.7.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#API"><span class="nav-number">7.7.2.</span> <span class="nav-text">API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81-5"><span class="nav-number">7.7.3.</span> <span class="nav-text">示例代码</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Copy"><span class="nav-number">7.7.3.1.</span> <span class="nav-text">Copy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E6%8F%92%E5%85%A5"><span class="nav-number">7.7.3.2.</span> <span class="nav-text">数据插入</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#NIO-2"><span class="nav-number">8.</span> <span class="nav-text">NIO.2</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-6"><span class="nav-number">8.1.</span> <span class="nav-text">基本概念</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#NIO%E6%A6%82%E8%BF%B0"><span class="nav-number">8.1.1.</span> <span class="nav-text">NIO概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#NIO-2%E7%9A%84%E5%87%BA%E7%8E%B0"><span class="nav-number">8.1.2.</span> <span class="nav-text">NIO.2的出现</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Path"><span class="nav-number">8.2.</span> <span class="nav-text">Path</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5-7"><span class="nav-number">8.2.1.</span> <span class="nav-text">基本概念</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B8%B8%E7%94%A8API"><span class="nav-number">8.2.2.</span> <span class="nav-text">常用API</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Paths-amp-Files"><span class="nav-number">8.3.</span> <span class="nav-text">Paths&amp;Files</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Paths-API"><span class="nav-number">8.3.1.</span> <span class="nav-text">Paths-API</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Files-API"><span class="nav-number">8.3.2.</span> <span class="nav-text">Files-API</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9IO%E5%BA%93"><span class="nav-number">9.</span> <span class="nav-text">第三方IO库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#apache-commons-io"><span class="nav-number">9.1.</span> <span class="nav-text">apache-commons-io</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">9.1.1.</span> <span class="nav-text">概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81-6"><span class="nav-number">9.1.2.</span> <span class="nav-text">示例代码</span></a></li></ol></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    
        $icon-size = 1.2rem;

.search-pop-overlay {
  position: fixed;
  display: flex;
  height: 100%;
  width: 100%;
  left: 0;
  top: 0;
  background: rgba(0, 0, 0, 0);
  visibility: hidden;
  z-index: $z-index-8;
  transition-t("visibility, background", "0, 0", "0.3, 0.3", "ease, ease");

  &.active {
    visibility: visible;
    background: rgba(0, 0, 0, 0.35);

    .search-popup {
      transform: scale(1);
    }

  }


  .search-popup {
    background: var(--background-color);
    border-radius: 5px;
    height: 80%;
    width: 70%;
    margin: auto;
    transform: scale(0);
    z-index: $z-index-6;
    transition-t("transform", "0", "0.3", "ease");

    +keep-tablet() {
      width: 80%;
    }

    +keep-mobile() {
      width: 90%;
    }

    .search-header {
      background: var(--fourth-text-color);
      border-top-left-radius: 2px;
      border-top-right-radius: 2px;
      display: flex;
      padding: 10px;

      .search-input-field-pre, .popup-btn-close {
        font-size: $icon-size;
        padding: 0 10px;
        display: flex;
        align-items: center;
      }

      .search-input-field-pre {
        cursor: pointer;
        color: var(--third-text-color);
      }

      .popup-btn-close {
        color: var(--default-text-color);
      }


      .search-input-container {

        flex-grow: 1;
        padding: 2px;

        .search-input {
          background: transparent;
          border: 0;
          outline: 0;
          width: 100%;
          font-size: 1.2rem;
          color: var(--default-text-color);

          &::-webkit-search-cancel-button {
            display: none;
          }
        }


      }


      .popup-btn-close {
        cursor: pointer;

        &:hover .fas, far, fab {
          color: var(--first-text-color);
        }
      }

    }


    #search-result {
      display: flex;
      height: calc(100% - 55px);
      overflow: auto;
      padding: 5px 25px;

      .search-result-list {
        width: 100%;
        height: 100%;
        font-size: 1rem;

        li {
          border-bottom: 1px dashed var(--border-color);
          padding: 10px 0;
          margin: 10px 0;
          box-sizing: border-box;

          &:last-child {
            border-bottom: none;
          }


          .search-result-title {
            position: relative;
            font-weight: bold;
            margin-bottom: 10px;
            padding-left: 16px;
            display: flex;
            align-items: center;

            &::after {
              content: '';
              position: absolute;
              width: 5px;
              height: 5px;
              border-radius: 50%;
              top: 50%;
              transform: translateY(-50%);
              left: 0;
              background: var(--default-text-color);
            }
          }


          .search-result {
            line-height: 2rem;
            margin: 0;
            padding-left: 16px;
            word-wrap: break-word;
          }

          a {
            &:hover {
              color: var(--default-text-color);
            }
          }

          .search-keyword {
            border-bottom: 1px dashed var(--primary-color);
            color: var(--primary-color);
            font-weight: bold;
          }

        }
      }


      #no-result {
        color: var(--third-text-color);
        margin: auto;
      }

    }
  }
}


    

</main>




<script src="/js/utils.js"></script>

<script src="/js/main.js"></script>

<script src="/js/header-shrink.js"></script>

<script src="/js/back2top.js"></script>

<script src="/js/dark-light-toggle.js"></script>



    
<script src="/js/local-search.js"></script>




    
<script src="/js/code-copy.js"></script>




    
<script src="/js/lazyload.js"></script>



<div class="post-scripts">
    
        
<script src="/js/left-side-toggle.js"></script>

<script src="/js/libs/anime.min.js"></script>

<script src="/js/toc.js"></script>

    
</div>



</body>
</html>
